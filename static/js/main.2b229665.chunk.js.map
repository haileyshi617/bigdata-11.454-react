{"version":3,"sources":["components/layout/ProgressBar.jsx","components/layout/Footer.jsx","components/layout/Layout.jsx","components/section/Intro.jsx","components/section/Outro.jsx","components/ui/CardSection.jsx","components/charts/MapChart.jsx","components/section/Section01Map.jsx","data/food-global.csv","components/charts/FoodGlobalChart.jsx","components/section/Section02Scroll.jsx","components/section/Section03Dot.jsx","components/ui/CardScroll.jsx","data/cari-mig.csv","components/charts/SurveyChart.jsx","components/section/Scroll01Dot.jsx","components/section/Section04Grid.jsx","data/food-secure-mig-int.csv","data/food-secure-mig-prep.csv","components/charts/GridSecureChart.jsx","components/charts/GridSecureChartWrapper.jsx","data/food-insecure-mig-int.csv","data/food-insecure-mig-prep.csv","components/charts/GridInsecureChart.jsx","components/charts/GridInsecureChartWrapper.jsx","components/section/Section04Scroll.jsx","components/section/Section05Pie.jsx","App.js","index.js"],"names":["ProgressBar","className","Footer","Layout","props","children","Intro","Outro","CardSection","header","main","WIDTH","window","innerWidth","HEIGHT","innerHeight","NT","RED","GRAY","MapChart","tooltipRef","React","useRef","svgRef","useState","data","setData","useEffect","d3","then","svg","current","attr","append","projection","scale","Math","PI","translate","map","selectAll","features","tooltip","enter","on","event","d","html","properties","name","style","clientX","clientY","classed","this","includes","id","transition","duration","ref","Section01Map","MARGIN","COUNTRIES","CIRCLE","LINE","COLOR","FoodGlobalChart","steps","direction","dataSrc","mouseover","country","moderate","severe","index","mouseout","y","domain","nice","range","x","padding","highlightData","filter","circleModerate","circleSevere","NTlabel","text","ease","call","g","ticks","tickFormat","i","Section02Scroll","setSteps","setDirection","setProgress","onStepEnter","entry","onStepExit","progress","onStepProgress","offset","value","Section03Dot","CardScroll","SurveyChart","width","center","height","forceStrength","xCenter","cariCenter","charge","pow","radius","rawdata","slice","nodes","simulation","velocityDecay","force","strength","ticked","bubbles","join","cari","ifMig","Scroll01Dot","Section04Bar","NROW","COLOR_INTENTION","COLOR_PREPARATION","setGridData","visData","nrow","xpos","ypos","Array","column","row","push","GirdSecureChart","element","vis","xAxisGroup","yAxisGroup","Promise","all","dataSrc_int","dataSrc_prep","datasets","intention","preparation","update","gridData","remove","grid","exit","dataOrg","result","neighborhood","ruralUrban","age","sex","familySize","rural_urban","family_size","square","mig_int_global","parseInt","mig_plan_global","mig_prep_global","ChartWrapper","axis","chart","setChart","GridSecureChart","GridInsecureChart","Section04Scroll","legend","GridSecureChartWrapper","GridInsecureChartWrapper","Section05Pie","App","Section04Grid","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2b229665.chunk.js","sourcesContent":["import React from 'react';\n\nfunction ProgressBar() {\n  return <div className=\"progress-bar\">Progress Bar</div>;\n}\n\nexport default ProgressBar;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <div className=\"footer\">\n      <h1>Team</h1>\n      <ul>\n        <li>Huiwen Shi</li>\n        <li>Rui Wang</li>\n        <li>Ziyi Tang</li>\n        <li>Yingu Pan</li>\n      </ul>\n      {/* <div className={classes.logo-container}>\n        <img src=\"../../assets/mit-logo.png\" alt=\"mit logo\" />\n      </div> */}\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport ProgressBar from './ProgressBar';\nimport Footer from './Footer';\n\nfunction Layout(props) {\n  return (\n    <div className=\"layout\">\n      <ProgressBar />\n      <main className=\"main\">{props.children}</main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Layout;\n","import { useState, useEffect } from 'react';\nimport { useTransition, animated } from 'react-spring';\n\nexport default function Intro() {\n  // *Spring transition\n  // ===\n  // const [items, setItems] = useState([]);\n  // const transition = useTransition(items, {\n  //   from: { x: -100, y: 800, opacity: 0 },\n  //   enter: (item) => async (next) => {\n  //     await next({ y: item.y, opacity: 1, delay: item.delay });\n  //     await next({ x: 0 });\n  //   },\n  //   leave: (item) => (next) =>\n  //     next({ x: 100, y: 800, opacity: 0, delay: item.delay }),\n  // });\n  // const [offset, setOffset] = useState(0);\n\n  // *Page scroll\n  // ===\n  // useEffect(() => {\n  //   window.onscroll = () => {\n  //     setOffset(window.pageYOffset);\n  //   };\n  // }, []);\n\n  // console.log(offset);\n\n  return (\n    <div className=\"section center intro\">\n      {/* <button\n        onClick={() => {\n          setItems((v) =>\n            v.length\n              ? []\n              : [\n                  { y: 0, delay: 200 },\n                  { y: 50, delay: 400 },\n                  { y: 100, delay: 600 },\n                ]\n          );\n        }}\n      >\n        {items.length ? 'un-mount' : 'mount'}\n      </button>\n\n      {transition((style, item) =>\n        item ? <animated.h1 style={style}>Hi</animated.h1> : ''\n      )} */}\n\n      {/* ACTUAL CODE BELOW */}\n      <div className=\"header-container\">\n        <h1>Food Security and Migration</h1>\n        <p className=\"subtitle\">\n          A Data Visualization Story in Northern Triangle Region of Central\n          America\n        </p>\n      </div>\n      <small>SCROLL TO CONTINUE</small>\n    </div>\n  );\n}\n","import React from 'react';\n\nfunction Outro() {\n  return (\n    <div className=\"section outro\">\n      <div className=\"container\">\n        <div className=\"summary\">\n          <h1>Summary</h1>\n          <p>\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor incididunt ut labore et dolore magna aliqua.\n            Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut\n            pharetra sit amet. Et magnis dis parturient montes nascetur\n            ridiculus.\n          </p>\n          <br />\n          <p>\n            Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet.\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor incididunt ut labore et dolore magna aliqua.\n            Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut\n            pharetra sit amet. Et magnis dis parturient montes nascetur\n            ridiculus.\n          </p>\n          <p>\n            Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet.\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor.\n          </p>\n        </div>\n        <div className=\"sources\">\n          <div className=\"reference\">\n            <h1>Reference</h1>\n            <ul>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n            </ul>\n          </div>\n          <div className=\"data-source\">\n            <h1>Data Source</h1>\n            <ul>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Outro;\n","import React, { Component } from 'react';\n\nconst CardSection = ({ header, main }) => {\n  return (\n    <div className=\"section-card\">\n      <h1>{header}</h1>\n      <p>{main}</p>\n    </div>\n  );\n};\n\nexport default CardSection;\n","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\n\n// CANVAS SETUP\nconst WIDTH = window.innerWidth;\nconst HEIGHT = window.innerHeight;\n\n// RENDERING SETTING\nconst NT = ['GTM', 'HND', 'SLV'];\nconst RED = { REGULAR: '#f8ad96', SELECT: '#eb5832' };\nconst GRAY = { REGULAR: '#f0f0f0', SELECT: '#bcbcbc' };\n\nconst MapChart = () => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.json(\n      'https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson'\n    ).then((data) => {\n      setData(data);\n    });\n  }, []);\n\n  // CANVAS SETUP\n  // .current => necessary when use ref\n  const svg = d3\n    .select(svgRef.current)\n    .attr('width', WIDTH)\n    .attr('height', HEIGHT)\n    .append('g')\n    .attr('transform', `translate(${(WIDTH * 7) / 8}, ${HEIGHT / 6})`);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data) {\n      // Map and projection\n      const projection = d3\n        .geoNaturalEarth1()\n        .scale(WIDTH / 0.6 / Math.PI)\n        .translate([WIDTH / 2, HEIGHT / 2]);\n\n      // DATA JOIN\n      const map = svg.selectAll('path').data(data.features);\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-map');\n\n      const mouseover = function (event, d) {\n        tooltip\n          .html(\n            `<p>In <span>${d.properties.name}</span>, around <span>(??)%</span> of the population migrate to the US.<p>`\n          )\n          .style('left', `${event.clientX * 0.8}px`)\n          .style('top', () => {\n            if (event.clientY - window.innerHeight / 2 > 0)\n              return `${event.clientY * 0.8}px`;\n            return `${event.clientY}px`;\n          })\n          .classed('hidden', false);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.SELECT : GRAY.SELECT\n        );\n      };\n\n      const mouseout = function (event, d) {\n        tooltip.classed('hidden', true);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR\n        );\n      };\n\n      // ENTER\n      map\n        .enter()\n        .append('path')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('fill', GRAY.REGULAR)\n        .transition()\n        .duration(1000)\n        .attr('fill', (d) => (NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR))\n        .attr('d', d3.geoPath().projection(projection))\n        .style('stroke', '#fff')\n        .style('stroke-width', 1)\n        .attr('class', 'Country');\n    }\n  }, [data]);\n\n  return (\n    <>\n      <div id=\"tooltip-map\" className=\"tooltip hidden\" ref={tooltipRef}></div>\n      <svg className=\"map-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default MapChart;\n","import * as React from 'react';\nimport CardSection from '../ui/CardSection';\nimport MapChart from '../charts/MapChart';\nimport { ScrollAnimation } from 'animate-on-scroll';\n\nconst Section01Map = () => {\n  return (\n    <div className=\"section migration\">\n      <MapChart />\n      <div className=\"section-card  no-hover\">\n        <h1>\n          <span className=\"red\">Migration status</span>\n          <br /> in the Northern Triangle Region\n        </h1>\n        <p>\n          Migration from Central America to the U.S. began rising notably in the\n          1980s, and continued to increase in subsequent decades.\n        </p>\n        <br />\n        <p>\n          More recently, the number of immigrants –\n          <span>lawful and unauthorized</span> – from the three Northern\n          Triangle nations <span>rose by 25%</span> between 2007 and 2015.\n          During that same period, the immigrant population from Mexico, the\n          largest birth country for U.S. immigrants, declined 6%.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Section01Map;\n","export default __webpack_public_path__ + \"static/media/food-global.2b92dcb9.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport dataSrc from '../../data/food-global.csv';\n\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 50, LEFT: 30, RIGHT: 30 };\nconst WIDTH = 1000 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 450 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// RENDERING SETUP\nconst COUNTRIES = [\n  'Honduras',\n  'El Salvador',\n  'Guatemala',\n  'United States of America',\n];\nconst CIRCLE = { REGULAR: 4, SELECT: 5 };\nconst LINE = { REGULAR: 1, SELECT: 3 };\nconst COLOR = {\n  MODERATE_S: '#6bbaad',\n  SEVERE_S: '#eb5832',\n  MODERATE_R: '#DFEBE8',\n  SEVERE_R: '#EBD7D0',\n  GRAY: '#F3F3F3',\n  TEXT: '#808080',\n};\n\nconst FoodGlobalChart = ({ steps, direction }) => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.csv(dataSrc).then((data) => {\n      setData(data);\n    });\n  }, []);\n\n  // CANVAS SETUP\n  // .current => necessary when use ref\n  const svg = d3\n    .select(svgRef.current)\n    .attr('width', '100%')\n    .attr(\n      'viewBox',\n      `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n        HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n      }`\n    )\n    .attr('preserveAspectRatio', 'xMaxYMin meet')\n    .append('g')\n    .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n  const xAxisGroup = svg\n    .append('g')\n    .attr('transform', `translate(0, ${HEIGHT})`);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data) {\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-food-global');\n\n      const mouseover = function (event, d) {\n        tooltip\n          .html(\n            `<p class=\"header\"><span> ${d.country} </span></p>\n                    <p class=\"moderate\"> Moderate Hunger: ${d.moderate}% </p>\n                    <p> Severe Hunger: ${d.severe}% </p>`\n          )\n          .style('left', `${event.clientX * 0.7}px`)\n          .style('top', `${event.clientY * 0.5}px`)\n          .classed('hidden', false);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.SELECT)\n          .style('stroke', COLOR.TEXT)\n          .attr('stroke-width', LINE.REGULAR);\n      };\n\n      const mouseout = function (event, d) {\n        tooltip.classed('hidden', true);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.REGULAR)\n          .style('stroke', 'transparent')\n          .attr('stroke-width', (d) =>\n            COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR\n          )\n          .selectAll('line')\n          .style('stroke', COLOR.GRAY);\n      };\n\n      // SCALES\n      const y = d3\n        .scaleLinear()\n        .domain([\n          d3.min(data, (d) => d.severe),\n          d3.max(data, (d) => d.moderate),\n        ])\n        .nice()\n        .range([HEIGHT, 0]);\n\n      const x = d3\n        .scaleBand()\n        .domain(data.map((d) => d.country))\n        .range([0, WIDTH])\n        .padding(0.4);\n\n      const yAxis = (g) =>\n        g\n          .call(\n            d3\n              .axisLeft(y)\n              .ticks(5)\n              .tickFormat((d, i) => `${d}%`)\n          )\n          .style('color', COLOR.TEXT);\n\n      // DATA JOIN\n      const highlightData = data.filter((d) => COUNTRIES.includes(d.country));\n\n      // STEP 0\n      const lines = svg\n        .append('g')\n        .attr('class', 'lines')\n        .selectAll('myLine')\n        .data(data)\n        .enter()\n        .append('line')\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('x1', function (d) {\n          return x(d.country);\n        })\n        .attr('x2', function (d) {\n          return x(d.country);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.severe);\n        })\n        .attr('stroke', COLOR.GRAY)\n        .attr('stroke-width', (d) => {\n          return COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR;\n        });\n\n      const circleModerate = svg\n        .append('g')\n        .attr('class', 'circleModerate')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.moderate);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const circleSevere = svg\n        .append('g')\n        .attr('class', 'circleSevere')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.severe);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const NTlabel = svg\n        .append('g')\n        .attr('class', 'NTlabel')\n        .selectAll('text')\n        .data(highlightData)\n        .enter()\n        .append('text')\n        .attr('y', (d) =>\n          d.country === 'El Salvador'\n            ? y(d.moderate) - 30\n            : d.country === 'Guatemala'\n            ? y(d.moderate) - 35\n            : y(d.moderate) - 20\n        )\n        .attr('x', (d) => x(d.country))\n        .attr('text-anchor', 'middle')\n        .attr('fill', COLOR.TEXT)\n        .attr('font-size', '12px')\n        .text((d) => d.country);\n\n      svg\n        .append('g')\n        .transition()\n        .ease(d3.easeCubicIn)\n        .duration(1000)\n        .call(yAxis);\n\n      // SCROLL ANIMATION\n      // console.log(steps);\n      // console.log(direction);\n      // STEP 1:\n      // 1) Highlight selected countries -> text\n      if (steps === 1) {\n        if (direction === 'down') {\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              d.country === 'United States of America'\n                ? COLOR.MODERATE_S\n                : COLOR.SEVERE_S\n            );\n        }\n      }\n\n      // STEP 2:\n      // 1) Undo highlight selected countries -> tex\n      // 2) Add in colors based on countries and severity to the circles\n      if (steps === 2) {\n        if (direction === 'down') {\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', COLOR.TEXT);\n\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country)\n                ? COLOR.MODERATE_S\n                : COLOR.MODERATE_R\n            );\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n            );\n        } else {\n          NTlabel.style('fill', COLOR.TEXT);\n          circleModerate.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n          );\n\n          circleSevere.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n          );\n        }\n      }\n\n      // STEP 3\n      if (steps > 2) {\n        circleModerate.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n        );\n        circleSevere.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n        );\n        NTlabel.style('fill', COLOR.TEXT);\n      }\n    }\n  }, [data, steps, direction]);\n\n  return (\n    <>\n      <div\n        id=\"tooltip-food-global\"\n        className=\"tooltip hidden\"\n        ref={tooltipRef}\n      ></div>\n      <svg className=\"grid-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default FoodGlobalChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport FoodGlobalChart from '../charts/FoodGlobalChart';\n\nfunction Section02Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div>\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container\">\n              <p className=\"chart-title\">Food insecurity varies greatly.</p>\n              {steps > 1 && (\n                <div className=\"legend-container\">\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot no\"></div>\n                    <p className=\"no\">Moderate Hunger</p>\n                  </div>\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot yes\"></div>\n                    <p className=\"yes\">Severe Hunger</p>\n                  </div>\n                </div>\n              )}\n            </div>\n            <FoodGlobalChart steps={steps} direction={direction} />\n          </div>\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>Countries vary.</h2>\n                <p>\n                  In the Northern Triangle Regions,\n                  <span className=\"red\"> more than 13.8 percent</span> people\n                  are likely to experience severe hunger, compared to the United\n                  States\n                  <span className=\"blue\"> less than 2 percent</span> people are\n                  facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Severities varies.</h2>\n                <p>\n                  In the Northern Triangle Regions,\n                  <span className=\"red\"> more than 45.6 percent</span> people\n                  are likely to experience some level of hunger, compared to the\n                  United States\n                  <span className=\"blue\"> less than 1 percent</span> people are\n                  facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>What does it mean?</h2>\n                <p>\n                  Since the Northern Triangle Regions are far worse in food\n                  security, we further explored the survey data to find the\n                  relationship between migration and food insecurity.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section02Scroll;\n","import React from 'react';\nimport CardSection from '../ui/CardSection';\n\nconst Section03Dot = () => {\n  return (\n    <div className=\"section\">\n      {/* <CardSection header={text.header} main={text.main} /> */}\n      <div className=\"section-card\">\n        <h1>\n          Is food security <span className=\"red\">a solution to</span>\n          <br /> migration issue?\n        </h1>\n        <p>\n          Since those three countries are having food security issues and\n          contribute to a large proportion of migration in the US, it is\n          tempting to say that maybe increasing food security is a solution to\n          migration. However, the survey suggests otherwise.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Section03Dot;\n","import React from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nfunction CardScroll (value,text){\n  return (\n    <Step data={value} key={value}>\n      <div className='step'>\n        {text}\n      </div>\n    </Step>\n  )\n}\n\nexport default CardScroll;\n","export default __webpack_public_path__ + \"static/media/cari-mig.9035924e.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/cari-mig.csv';\n\nconst COLOR = {\n  MARGIN: '#B0D9D5',\n  MODERATE: '#F8AD96',\n  SEVERE: '#EB5832',\n  GRAY: '#e0e0e0',\n  TEXT: '#808080',\n};\n\nconst SurveyChart = ({ steps, direction }) => {\n  // console.log(steps);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  const [data, setData] = useState(null);\n  const [nodes, setNodes] = useState(null);\n\n  //d3 chart update according to steps\n  let width = '932';\n  let height = '800';\n  let center = { x: width / 2, y: height / 2 };\n  let forceStrength = 0.02;\n  let r = 2;\n  let xCenter = [width / 4, width / 2, (width * 3) / 4, width];\n  let cariCenter = [width / 4, width / 2, (width * 3) / 4, width];\n\n  const svg = d3\n    .select(svgRef.current)\n    .style('width', '100vw')\n    .style('height', '800px')\n    .attr('text-anchor', 'middle');\n\n  function charge(d) {\n    return -Math.pow(d.radius, 2.0) * forceStrength;\n  }\n\n  // when step updates, update data\n  useEffect(() => {\n    d3.csv(rawdata).then((data) => {\n      setData(\n        data.slice(0, 3000).map(function (d) {\n          return {\n            ...d,\n            radius: r,\n            // x: Math.random() * width,\n            // y: Math.random() * height,\n          };\n        })\n      );\n    });\n  }, []);\n\n  // when data updates, update charts\n  useEffect(() => {\n    // when not scroll to page, there will be no data loading\n    if (data) {\n      const nodes = data;\n      //   const nodes = data.map(function (d) {\n      //     return { ...d, radius: r };\n      //   });\n\n      const simulation = d3\n        .forceSimulation(nodes)\n        .velocityDecay(0.2)\n        .force('x', d3.forceX().strength(forceStrength).x(center.x))\n        .force('y', d3.forceY().strength(forceStrength).y(center.y))\n        .force('charge', d3.forceManyBody().strength(charge))\n        .on('tick', ticked);\n\n      const bubbles = svg\n        .selectAll('circle')\n        .data(nodes)\n        .join('circle')\n        .attr('r', function (d) {\n          return d.radius;\n        })\n        .attr('fill', function (d) {\n          if (d.cari == '2') {\n            return COLOR.MARGIN;\n          } else if (d.cari == '3') {\n            return COLOR.MODERATE;\n          } else if (d.cari == '4') {\n            return COLOR.SEVERE;\n          } else {\n            return COLOR.GRAY;\n          }\n        });\n\n      function ticked() {\n        bubbles\n          .attr('cx', function (d) {\n            return d.x;\n          })\n          .attr('cy', function (d) {\n            return d.y;\n          });\n      }\n\n      if (steps == 1 && direction == 'down') {\n        simulation.force('x', d3.forceX().strength(forceStrength).x(center.x));\n      } else if (steps == 2) {\n        simulation.force(\n          'x',\n          d3\n            .forceX()\n            .strength(forceStrength)\n            .x((d) => cariCenter[+d.cari - 1])\n        );\n      } else if (steps == 3 || steps == 4) {\n        simulation.force(\n          'x',\n          d3\n            .forceX()\n            .strength(forceStrength)\n            .x((d) => xCenter[+d.ifMig])\n        );\n      }\n    }\n  }, [steps, data]);\n\n  return (\n    <>\n      <div className=\"survey-tooltip hidden\" ref={tooltipRef}></div>\n      <svg className=\"survey-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default SurveyChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport CardScroll from '../ui/CardScroll';\nimport SurveyChart from '../charts/SurveyChart';\n// import CardScroll from '../ui/CardScroll';\n\nfunction Scroll01Dot() {\n  const [steps, setSteps] = useState(null);\n  const [progress, setProgress] = useState(null);\n  const [direction, setDirection] = useState(null);\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setDirection(direction);\n    setSteps(data);\n  };\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div>\n      <div className=\"main\">\n        <div className=\"main__graphic\">\n          <SurveyChart steps={steps} className=\"survey\" />\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.8\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>4996 Survey response</h2>\n                <p>\n                  In an ??-month investigation, the World Food Programme (WFP)\n                  has conducted a survey of civilians in the Northern Triangle\n                  region, compiling a database of 4996 responses with\n                  information on a number of dimensions.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>The majority are suffering from food insecurity</h2>\n                <p>\n                  In terms of\n                  <span className=\"red\"> food insecurity level</span>, the\n                  participants are classified into 4 groups based on CARI food\n                  security indicators given from WFP.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>Around half have migration desire</h2>\n                <p>Of all the participants, 43% have migration desire.</p>\n              </div>\n            </Step>\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Scroll01Dot;\n","import React from 'react';\nimport CardSection from '../ui/CardSection';\n\nconst Section04Bar = () => {\n  const text = {\n    header: `Food security may have some impact on people's desire and action on migration. What kind of relationship could we see from this survey? `,\n    main: `From the previous data, we can see a larger proportion of people suffering food insecurity. How many of these people may want to migrate as opposed of those who have adequate food? \n    `,\n  };\n\n  return (\n    <div className=\"section\">\n      <CardSection header={text.header} main={text.main} />\n    </div>\n  );\n};\n\nexport default Section04Bar;\n","export default __webpack_public_path__ + \"static/media/food-secure-mig-int.4eeae34c.csv\";","export default __webpack_public_path__ + \"static/media/food-secure-mig-prep.764b7a0b.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-secure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-secure-mig-prep.csv';\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 200 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 2 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#eb5832',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#F3EBEB',\n  PREP_NO_ACTION: '#e2b9ad',\n  ACTION: '#eb5832',\n};\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMinYMin slice')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', `${event.clientX * 0.5}px`)\n        .style('top', `${event.clientY * 0.1}px`)\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridSecureChart from './GridSecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridSecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  let axis;\n  if (steps >= 3) {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>40</small>\n        <small>60</small>\n        <small>80</small>\n        <small>160</small>\n      </div>\n    );\n  } else {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>100</small>\n        <small>200</small>\n        <small>300</small>\n        <small>400</small>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Secure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip hidden\"\n          ref={tooltipRef}\n        ></div>\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","export default __webpack_public_path__ + \"static/media/food-insecure-mig-int.7aef0d68.csv\";","export default __webpack_public_path__ + \"static/media/food-insecure-mig-prep.e947a1eb.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-insecure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-insecure-mig-prep.csv';\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 200 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 2 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#eb5832',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#F3EBEB',\n  PREP_NO_ACTION: '#e2b9ad',\n  ACTION: '#eb5832',\n};\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMinYMin slice')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', `${event.clientX * 0.5}px`)\n        .style('top', `${event.clientY * 0.1}px`)\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridInsecureChart from './GridInsecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridInsecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  let axis;\n  if (steps >= 3) {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>40</small>\n        <small>60</small>\n        <small>80</small>\n        <small>160</small>\n      </div>\n    );\n  } else {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>100</small>\n        <small>200</small>\n        <small>300</small>\n        <small>400</small>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Insecure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip hidden\"\n          ref={tooltipRef}\n        ></div>\n\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport GridSecureChartWrapper from '../charts/GridSecureChartWrapper';\nimport GridInsecureChartWrapper from '../charts/GridInsecureChartWrapper';\n\nfunction Section04Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  let legend;\n  if (steps === 1) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household answered \"No\"</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-yes\"></div>\n          <p className=\"mig-yes\">Household answered \"Yes\"</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 2) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household does not want to migrate</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 3) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n      </div>\n    );\n  } else {\n    legend = <div></div>;\n  }\n\n  return (\n    <div>\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container\">\n              <p className=\"chart-title\">\n                Food security and migration intention.\n              </p>\n              {legend}\n            </div>\n\n            <div className=\"chart-wrapper\">\n              <GridSecureChartWrapper steps={steps} direction={direction} />\n              <GridInsecureChartWrapper steps={steps} direction={direction} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>The food secure have higher desire to migrate.</h2>\n                <p>\n                  Does this mean food security will actually drive people to\n                  migrate? Further research of the data tells a different story.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Desire does not equal to action.</h2>\n                <p>\n                  Even though food secure people are more likely to say they\n                  want to migrate, when it comes to migration, it takes{' '}\n                  <span className=\"red\">actual planning and preparation</span>{' '}\n                  to actualize the action.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>\n                  The food insecure are more likely to take actual action.\n                </h2>\n                <p>\n                  Given the food insecure people are already struggling with\n                  basic needs such as food, their plans to migrate are more\n                  likely to be <span className=\"red\">out of desperation </span>\n                  rather than <span className=\"blue\">by choice </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section04Scroll;\n","import React from 'react';\nimport CardSection from '../ui/CardSection';\n\nconst Section05Pie = () => {\n  const text = {\n    header: `For those who suffer food insecurity tend to make solid plan and preparation to migrate than those don’t have food issue. \n    To answer this, we need to study the how many people have to work to ensure food security and understand how economic status impact migration plan and action. `,\n    main: `It’s believed that lower proportion of food expenditure indicate a better off living condition because more money could be spared on improving quality of life beside food. In 2020, U.S. consumers spent an average of 8.6 percent of their disposable personal income on food. \n    `,\n  };\n\n  return (\n    <div className=\"section\">\n      <CardSection header={text.header} main={text.main} />\n    </div>\n  );\n};\n\nexport default Section05Pie;\n","import { Transition, animated } from 'react-spring';\n\nimport Layout from './components/layout/Layout';\nimport Intro from './components/section/Intro';\nimport Outro from './components/section/Outro';\n\nimport Section01Map from './components/section/Section01Map';\n\nimport Section02Scroll from './components/section/Section02Scroll';\n\nimport Section03Dot from './components/section/Section03Dot';\nimport Scroll01Dot from './components/section/Scroll01Dot';\n\nimport Section04Grid from './components/section/Section04Grid';\nimport Section04Scroll from './components/section/Section04Scroll';\n\nimport Section05Pie from './components/section/Section05Pie';\n\nexport default function App() {\n  return (\n    <Layout>\n      <Intro />\n\n      <Section01Map />\n\n      <Section02Scroll />\n\n      <Section03Dot />\n      <Scroll01Dot />\n\n      <Section04Grid />\n      <Section04Scroll />\n\n      <Section05Pie />\n\n      <Outro />\n    </Layout>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}