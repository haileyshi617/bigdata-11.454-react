(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{230:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(89),i=n.n(s),c=n(4),l=n(0),o=function(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],r=t[1],s=function(){var e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight;r(e/t*100)};return Object(a.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[]),Object(l.jsx)("div",{className:"progressMainWrapper",children:Object(l.jsx)("div",{className:"progressMainStyle",style:{width:"".concat(n,"%")}})})};n(230);var d=function(){return Object(l.jsx)("div",{className:"footer",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Team"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Huiwen Shi"}),Object(l.jsx)("li",{children:"Rui Wang"}),Object(l.jsx)("li",{children:"Ziyi Tang"}),Object(l.jsx)("li",{children:"Yingu Pan"})]})]})})};var u=function(e){return Object(l.jsxs)("div",{className:"layout",children:[Object(l.jsx)(o,{}),Object(l.jsx)("main",{className:"main",children:e.children}),Object(l.jsx)(d,{})]})};function j(){return Object(l.jsxs)("div",{className:"section regular center intro","data-scroll-section":!0,children:[Object(l.jsxs)("div",{className:"header-container",children:[Object(l.jsx)("h1",{children:"Food Insecurity and Migration"}),Object(l.jsx)("p",{className:"subtitle",children:"A Data Visualization Story in Northern Triangle Region of Central America"})]}),Object(l.jsx)("small",{children:"SCROLL TO CONTINUE"})]})}var h=function(){return Object(l.jsx)("div",{className:"section regular center outro",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"summary",children:[Object(l.jsx)("h1",{children:"Summary"}),Object(l.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut pharetra sit amet. Et magnis dis parturient montes nascetur ridiculus."}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut pharetra sit amet. Et magnis dis parturient montes nascetur ridiculus."}),Object(l.jsx)("p",{children:"Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor."})]}),Object(l.jsxs)("div",{className:"sources",children:[Object(l.jsxs)("div",{className:"reference",children:[Object(l.jsx)("h1",{children:"Reference"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(l.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]}),Object(l.jsxs)("div",{className:"data-source",children:[Object(l.jsx)("h1",{children:"Data Source"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(l.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(l.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]})]})]})})},m=n(3),b=n.p+"static/media/mig_rate.77852f32.csv",f=window.innerWidth,p=window.innerHeight,g=["GTM","HND","SLV"],x="#f8ad96",O="#eb5832",v="#f0f0f0",y="#bcbcbc",N=function(){var e=r.a.useRef(null),t=r.a.useRef(null),n=Object(a.useState)(null),s=Object(c.a)(n,2),i=s[0],o=s[1],d=Object(a.useState)(null),u=Object(c.a)(d,2),j=u[0],h=u[1],N=Object(a.useState)(null),w=Object(c.a)(N,2),S=(w[0],w[1]);return Object(a.useEffect)((function(){m.q("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then((function(e){o(e)})),m.d(b).then((function(e){h(e)}))}),[]),Object(a.useEffect)((function(){if(i&&j){var e=m.B(t.current).attr("width",f).attr("height",p).append("g").attr("transform","translate(".concat(7*f/8,", ").concat(p/6,")"));e.selectAll("*").remove();var n=m.m().scale(f/.6/Math.PI).translate([f/2,p/2]),a=e.selectAll("path").data(i.features),r=m.B("#tooltip-map");a.enter().append("path").on("mouseover",(function(e,t){S(t.id);var n=j.find((function(e){return e["Alpha-3 code"]==t.id})).rate;r.html("USA"==t.properties.name?'<p>The <span class="big">'.concat(t.properties.name,'</span> receives <span class="big">').concat(n,"% </span>of migrants from <span>El Salvador, Guatemala, and Honduras</span>.</p>"):'<p>Around <span class="big">'.concat(n,'%</span> of the population from <span class="big">').concat(t.properties.name,"</span> are migrants to the US by 2020.<p>")).classed("hidden",!1),m.B(this).attr("fill",(function(e){return g.includes(e.id)?O:y}))})).on("mousemove",(function(e,t){r.style("left","".concat(.7*e.clientX,"px")).style("top",(function(){return e.clientY,window.innerHeight,"".concat(.9*e.clientY,"px")}))})).on("mouseout",(function(e,t){console.log("out"),r.classed("hidden",!0),m.B(this).attr("fill",(function(e){return g.includes(e.id)?x:v}))})).attr("fill",v).transition().duration(1e3).attr("fill",(function(e){return g.includes(e.id)?x:v})).attr("d",m.n().projection(n)).style("stroke","#fff").style("stroke-width",1).attr("class","Country")}}),[i,j]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{id:"tooltip-map",className:"tooltip red hidden",ref:e}),Object(l.jsx)("svg",{className:"map-chart",ref:t})]})},w=n(6),S=n(2),A=n(11);w.a.registerPlugin(A.a);var D=function(){var e=Object(a.useRef)(null);Object(a.useEffect)((function(){w.a.to("#section01cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section01cardRef",markers:!1,start:"top center"}})}),[]);var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){w.a.to("#mapRef",{duration:5,opacity:1,ease:S.b.easeOut,scrollTrigger:{trigger:"#mapRef",markers:!1,start:"top center",end:"bottom 0px",scrub:!0}})}),[]),Object(l.jsxs)("div",{className:"section regular center migration",children:[Object(l.jsx)("div",{className:"map-container",ref:t,id:"mapRef",children:Object(l.jsx)(N,{})}),Object(l.jsx)("div",{className:"content-container",children:Object(l.jsxs)("div",{className:"section-card no-hover",id:"section01cardRef",ref:e,children:[Object(l.jsxs)("h1",{children:[Object(l.jsx)("span",{className:"red",children:"Migration status"}),Object(l.jsx)("br",{})," in the Northern Triangle Region"]}),Object(l.jsx)("p",{children:"Migration from Central America to the U.S. began rising notably in the 1980s, and continued to increase in subsequent decades."}),Object(l.jsx)("br",{}),Object(l.jsxs)("p",{children:["More recently, the number of immigrants"," ",Object(l.jsx)("span",{children:"\u2013\u2013 from the three Northern Triangle nations rose by 25%"})," ","between 2007 and 2015. During that same period, the immigrant population from Mexico, the largest birth country for U.S. immigrants, declined 6%."]})]})})]})},_=n(5),R=n.p+"static/media/food-global.2b92dcb9.csv",k=0,E=50,F=30,I=30,T=1e3-F-I,H=450-k-E,B=["Honduras","El Salvador","Guatemala","United States of America"],M=4,L=5,G=1,U=3,W="#6bbaad",z="#eb5832",P="#DFEBE8",C="#EBD7D0",q="#F3F3F3",Y="#808080",X=function(e){var t=e.steps,n=e.direction,s=r.a.useRef(null),i=r.a.useRef(null),o=Object(a.useState)(null),d=Object(c.a)(o,2),u=d[0],j=d[1];return Object(a.useEffect)((function(){m.d(R).then((function(e){j(e)}))}),[]),Object(a.useEffect)((function(){if(u){var e=m.B(i.current).attr("width","100%").attr("viewBox","0 0 ".concat(T+F+I," ").concat(H+k+E)).attr("preserveAspectRatio","xMaxYMin meet");e.selectAll("*").remove();var a=e.append("g").attr("transform","translate(".concat(F,", ").concat(k,")")),r=(a.append("g").attr("transform","translate(0, ".concat(H,")")),m.B("#tooltip-food-global")),s=function(e,t){r.html('<p class="header"><span> '.concat(t.country,' </span></p>\n                    <p class="moderate"> Moderate Hunger: ').concat(t.moderate,"% </p>\n                    <p> Severe Hunger: ").concat(t.severe,"% </p>")).style("left","".concat(e.clientX-window.innerWidth/8,"px")).style("top","".concat(e.clientY-window.innerHeight/3,"px")).classed("hidden",!1),a.selectAll(".bellchart-".concat(t.index)).style("r",L).style("stroke",Y).attr("stroke-width",G)},c=function(e,t){r.classed("hidden",!0),a.selectAll(".bellchart-".concat(t.index)).style("r",M).style("stroke","transparent"),a.selectAll("line").style("stroke",q).attr("stroke-width",(function(e){return B.includes(e.country)?U:G}))},l=m.y().domain([m.t(u,(function(e){return e.severe})),m.s(u,(function(e){return e.moderate}))]).nice().range([H,0]),o=m.x().domain(u.map((function(e){return e.country}))).range([0,T]).padding(.4),d=u.filter((function(e){return B.includes(e.country)})),j=(a.append("g").attr("class","lines").selectAll("myLine").data(u).enter().append("line").attr("class",(function(e){return"bellchart-".concat(e.index)})).on("mouseover",s).on("mouseout",c).attr("x1",(function(e){return o(e.country)})).attr("x2",(function(e){return o(e.country)})).attr("y1",(function(e){return l(e.moderate)})).attr("y2",(function(e){return l(e.moderate)})).attr("y1",(function(e){return l(e.moderate)})).attr("y2",(function(e){return l(e.severe)})).attr("stroke",q).attr("stroke-width",(function(e){return B.includes(e.country)?U:G})),a.append("g").attr("class","circleModerate").selectAll("myCircle").data(u).enter().append("circle").on("mouseover",s).on("mouseout",c).attr("cx",(function(e){return o(e.country)})).attr("cy",(function(e){return l(e.moderate)})).attr("class",(function(e){return"bellchart-".concat(e.index)})).style("fill",q).attr("r",M)),h=a.append("g").attr("class","circleSevere").selectAll("myCircle").data(u).enter().append("circle").on("mouseover",s).on("mouseout",c).attr("cx",(function(e){return o(e.country)})).attr("cy",(function(e){return l(e.severe)})).attr("class",(function(e){return"bellchart-".concat(e.index)})).style("fill",q).attr("r",M),b=a.append("g").attr("class","NTlabel").selectAll("text").data(d).enter().append("text").attr("y",(function(e){return"El Salvador"===e.country?l(e.moderate)-30:"Guatemala"===e.country?l(e.moderate)-35:l(e.moderate)-20})).attr("x",(function(e){return o(e.country)})).attr("text-anchor","middle").attr("fill",Y).attr("font-size","12px").text((function(e){return e.country}));a.append("g").call((function(e){return e.call(m.c(l).ticks(5).tickFormat((function(e,t){return"".concat(e,"%")}))).style("color",Y).transition().ease(m.f).duration(1e3)})),1===t&&("down"===n?(j.transition().ease(m.f).duration(500).style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?W:z:q})),h.transition().ease(m.f).duration(500).style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?W:z:q})),b.transition().ease(m.f).duration(500).style("fill",(function(e){return"United States of America"===e.country?W:z})).style("font-weight","bold")):(j.style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?W:z:q})),h.style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?W:z:q})),b.style("fill",(function(e){return"United States of America"===e.country?W:z})).style("font-weight","bold"))),2===t&&("down"===n?(b.transition().ease(m.f).duration(500).style("fill",Y),j.transition().ease(m.f).duration(500).style("fill",(function(e){return B.includes(e.country)?W:P})),h.transition().ease(m.f).duration(500).style("fill",(function(e){return B.includes(e.country)?z:C}))):(b.style("fill",Y),j.style("fill",(function(e){return B.includes(e.country)?W:P})),h.style("fill",(function(e){return B.includes(e.country)?z:C})))),t>2&&(j.style("fill",(function(e){return B.includes(e.country)?W:P})),h.style("fill",(function(e){return B.includes(e.country)?z:C})),b.style("fill",Y))}}),[u,t,n]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{id:"tooltip-food-global",className:"tooltip red hidden",ref:s}),Object(l.jsx)("svg",{className:"grid-chart",ref:i})]})};var V=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(c.a)(s,2),o=i[0],d=i[1],u=Object(a.useState)(null),j=Object(c.a)(u,2),h=(j[0],j[1]);return Object(l.jsx)("div",{className:"section scroll",children:Object(l.jsxs)("div",{className:"main ",children:[Object(l.jsx)("div",{className:"main__graphic",children:Object(l.jsxs)("div",{className:"scroll-chart-content-container",children:[Object(l.jsxs)("div",{className:"title-container",children:[Object(l.jsxs)("p",{className:"chart-title",children:[Object(l.jsx)("span",{className:"red",children:"High Food Insecurity"})," in El Salvador, Guatemala, and Honduras"]}),n>1&&Object(l.jsxs)("div",{className:"legend-container",children:[Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block dot no"}),Object(l.jsx)("p",{className:"no",children:"Moderate Hunger"})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block dot yes"}),Object(l.jsx)("p",{className:"yes",children:"Severe Hunger"})]})]})]}),Object(l.jsx)(X,{steps:n,direction:o})]})}),Object(l.jsx)("div",{className:"scroller",children:Object(l.jsxs)(_.a,{onStepEnter:function(e){var t=e.data,n=(e.entry,e.direction);r(t),d(n)},onStepExit:function(){},progress:!0,onStepProgress:function(e){var t=e.progress;h(t)},offset:"0.5",children:[Object(l.jsx)(_.b,{data:1,value:1,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"Gap Between Countries"}),Object(l.jsxs)("p",{children:["In the Northern Triangle Regions,"," ",Object(l.jsx)("span",{className:"red",children:"more than 13.8 percent"})," people are likely to experience severe hunger, compared to the United States ",Object(l.jsx)("span",{className:"blue",children:" less than 2 percent"})," ","people are facing similar difficulty."]})]})}),Object(l.jsx)(_.b,{data:2,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"Severe Food Insecurity"}),Object(l.jsxs)("p",{children:["In the Northern Triangle Regions,"," ",Object(l.jsx)("span",{className:"red",children:"more than 45.6 percent"})," people are likely to experience some level of hunger, compared to the United States"," ",Object(l.jsx)("span",{className:"blue",children:"less than 1 percent"})," people are facing similar difficulty."]})]})},2),Object(l.jsx)(_.b,{data:3,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"What does it mean?"}),Object(l.jsxs)("p",{children:["Food insecurity is an issue in the Northern Triangle area. This can be ",Object(l.jsx)("span",{className:"blue",children:" a driving factor"})," ","for people to migrate to countries which are more food secure like the US."]}),Object(l.jsx)("br",{}),Object(l.jsxs)("p",{children:["We further explored the survey data to study the relationship between ",Object(l.jsx)("span",{className:"red",children:" migration"})," and"," ",Object(l.jsx)("span",{className:"red",children:"food insecurity "}),"."]})]})},3),Object(l.jsx)(_.b,{data:4,children:Object(l.jsx)("div",{className:"step"})},4)]})})]})})};w.a.registerPlugin(A.a);var K=function(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){w.a.to("#section03cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section03cardRef",markers:!1,start:"top center"}})}),[]),Object(l.jsx)("div",{className:"section regular center",children:Object(l.jsx)("div",{className:"content-container",children:Object(l.jsxs)("div",{className:"section-card",id:"section03cardRef",ref:e,children:[Object(l.jsxs)("h1",{children:["Is food security ",Object(l.jsx)("span",{className:"red",children:"a solution to"}),Object(l.jsx)("br",{})," migration issue?"]}),Object(l.jsx)("p",{children:"Since those three countries are having food security issues and contribute to a large proportion of migration in the US, it is tempting to say that maybe increasing food security is a solution to migration."}),Object(l.jsx)("br",{}),Object(l.jsxs)("p",{children:[" ","However, the survey"," ",Object(l.jsx)("span",{children:" suggests a more complicated outcome "}),"than a simple bifurcated answer"," ",Object(l.jsx)("span",{children:"based on different food insecurity level"}),"."]})]})})})};var J=n(34),Z=n.p+"static/media/cari-mig.de2d7bb6.csv",Q="#B0D9D5",$="#F8AD96",ee="#EB5832",te="#e0e0e0",ne=function(e){var t=e.steps,n=e.direction,s=r.a.useRef(null),i=r.a.useRef(null),o=Object(a.useState)(null),d=Object(c.a)(o,2),u=d[0],j=d[1],h="1200",b={x:600,y:400},f=.023,p=[200,h/2.3,800,1e3],g=[200,h/2.3,800,1e3];return Object(a.useEffect)((function(){m.d(Z).then((function(e){j(e.slice(0,1e3).map((function(e){return Object(J.a)(Object(J.a)({},e),{},{radius:2})})))}))}),[]),Object(a.useEffect)((function(){if(u){var e=m.B(i.current).style("width","100vw").style("height","800px").attr("text-anchor","middle"),a=m.i(u).velocityDecay(.2).force("collide",m.h().radius((function(e){return e.radius+2})).strength(.65)).force("x",m.j().strength(f).x(b.x)).force("y",m.k().strength(f).y(b.y)).on("tick",s),r=e.selectAll("circle").data(u).join("circle").attr("r",0).attr("fill",(function(e){return"2"==e.cari?Q:"3"==e.cari?$:"4"==e.cari?ee:te}));function s(){r.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}r.transition().ease(m.e).duration(.5).attr("r",(function(e){return e.radius})),1==t&&"down"==n?(a.force("x",m.j().strength(f).x(b.x)),a.force("y",m.k().strength(f).y(b.y)),a.alpha(1).restart()):2==t?(a.force("x",m.j().strength(f).x((function(e){return p[+e.cari-1]}))),a.force("y",m.k().strength(f).y(b.y)),a.alpha(1).restart()):3!=t&&4!=t||(a.force("x",m.j().strength(f).x((function(e){return g[+e.ifMig]}))),a.force("y",m.k().strength(f).y(b.y)),a.alpha(1).restart()),a.alpha(1).restart()}}),[t,u]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"survey-tooltip hidden",ref:s}),Object(l.jsx)("svg",{className:"survey-chart",ref:i})]})};var ae=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(c.a)(s,2),o=(i[0],i[1]),d=Object(a.useState)(null),u=Object(c.a)(d,2),j=(u[0],u[1]);return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"main__graphic",children:Object(l.jsx)(ne,{steps:n,className:"survey"})}),Object(l.jsx)("div",{className:"scroller",children:Object(l.jsxs)(_.a,{onStepEnter:function(e){var t=e.data,n=(e.entry,e.direction);j(n),r(t)},progress:!0,onStepProgress:function(e){var t=e.progress;o(t)},offset:"0.8",children:[Object(l.jsx)(_.b,{data:1,value:1,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"4,498 Survey response"}),Object(l.jsxs)("p",{children:["In April-May 2021, the World Food Programme conducted a face-to-face household survey of"," ",Object(l.jsx)("span",{className:"red",children:"4,498 responses"})," in El Salvador, Guatemala, and Honduras."]})]})}),Object(l.jsx)(_.b,{data:2,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"The majority are suffering from food insecurity"}),Object(l.jsxs)("p",{children:["In terms of ",Object(l.jsx)("span",{className:"red",children:"food insecurity level"}),", the participants are classified into"," ",Object(l.jsx)("span",{className:"blue",children:" four groups"})," based on CARI food security indicators given from WFP."]})]})},2),Object(l.jsx)(_.b,{data:3,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"Around half have migration desire"}),Object(l.jsxs)("p",{children:["Around ",Object(l.jsx)("span",{className:"blue",children:"half of household"})," ","respondents indicated a desire to migrate, but"," ",Object(l.jsx)("span",{className:"red",children:"only 6% are making plans"})," to do so."]})]})},3),Object(l.jsx)(_.b,{data:4,children:Object(l.jsx)("div",{className:"step"})},4)]})})]})})};w.a.registerPlugin(A.a);var re=function(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){w.a.to("#section04cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section04cardRef",markers:!1,start:"top center"}})}),[]),Object(l.jsx)("div",{className:"section regular center",children:Object(l.jsx)("div",{className:"content-container",children:Object(l.jsxs)("div",{className:"section-card",id:"section04cardRef",ref:e,children:[Object(l.jsxs)("h1",{children:["What is the relationship between food insecurity and"," ",Object(l.jsx)("span",{className:"red",children:"migration's intention, plan and preparation?"})]}),Object(l.jsx)("p",{children:"Instead of asking only the desire to migrate, we look into more detailed aspects of migration other than intension, such as plan and preparation. These factors serve as a stronger indicator for the migration action. We explore the relationship of these factors with food security level."})]})})})},se=n(7),ie=n(8),ce=n.p+"static/media/food-secure-mig-int.9fd36d56.csv",le=n.p+"static/media/food-secure-mig-prep.9eea62f9.csv",oe=0,de=0,ue=0,je=0,he=window.innerWidth-ue-je,me=200-oe-de,be=5,fe=2,pe="#efefef",ge="#ffe3e0",xe="#ffe3e0",Oe="#ad2e24",ve="#540804";function ye(e,t){for(var n=1,a=1,r=he/80,s=r,i=new Array,c=0,l=0;l<80;l++){for(var o=0;o<t;o++)i.push({x:n,y:a,width:r,height:s,visData:e[c]}),a+=s,c++;a=1,n+=r}return i}var Ne=function(){function e(t,n,a){Object(se.a)(this,e);var r=this;r.svg=m.B(t).append("svg").attr("viewBox","0 0 ".concat(he+ue+je," ").concat(me+oe+de)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate(".concat(ue,", ").concat(oe,")")),r.xAxisGroup=r.svg.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(me,")")),r.yAxisGroup=r.svg.append("g").attr("id","y-axis"),Promise.all([m.d(ce),m.d(le)]).then((function(e){r.intention=e[0],r.preparation=e[1],r.update(n,a)}))}return Object(ie.a)(e,[{key:"update",value:function(e,t){var n=this;n.data=n.intention,n.gridData=ye(n.data,be),e&&1!==e&&2!==e?(n.data=n.preparation,n.gridData=ye(n.data,fe)):(n.data=n.intention,n.gridData=ye(n.data,be)),n.svg.selectAll(".grid").remove();var a=n.svg.selectAll(".grid").data(n.gridData);a.exit().remove(),a.enter().append("rect").attr("class","grid").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).on("mouseover",(function(e,t){var n=t.visData,a={country:"",neighborhood:"",ruralUrban:"",age:"",sex:"",familySize:""};"GT"===n.country?a.country="Guatemala":"SLV"===n.country?a.country="El Salvador":a.country="Honduras";a.neighborhood=n.neighborhood,"1"===n.ruralUrban?a.rural_urban="urban":a.rural_urban="rural","1"===n.sex?a.sex="Male":a.sex="Female",a.age=n.age,a.familySize=n.family_size,s.style("left",(function(){return e.clientX-window.innerWidth/2>0?"".concat(e.clientX-window.innerWidth/5,"px"):"".concat(e.clientX,"px")})).style("top",(function(){return"".concat(e.clientY-window.innerHeight/1.8,"px")})).html('<p class="header"><span>'.concat(a.sex,", ").concat(a.age,"</span></p>\n        <p> Living in ").concat(a.rural_urban," area in ").concat(a.country,", with a family size of ").concat(a.familySize,".</p>")).classed("hidden",!1)})).on("mouseout",(function(e,t){s.classed("hidden",!0)})).style("fill","#efefef").style("stroke","#fff");var r=n.svg.selectAll("rect");"down"===t&&(1===e&&r.transition().ease(m.f).duration(300).style("fill",(function(e){return"0"===e.visData.mig_int_global?pe:ge})),2===e&&r.transition().ease(m.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?pe:0===parseInt(e.visData.mig_plan_global)?xe:0===parseInt(e.visData.mig_prep_global)?Oe:ve})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?xe:0===parseInt(e.visData.mig_prep_global)?Oe:ve}))),"up"===t&&(1===e&&r.transition().ease(m.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?pe:ge})),2===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?pe:0===parseInt(e.visData.mig_plan_global)?xe:0===parseInt(e.visData.mig_prep_global)?Oe:ve})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?xe:0===parseInt(e.visData.mig_prep_global)?Oe:ve})));var s=m.B("#tooltip-grid")}}]),e}(),we=function(e){var t,n=e.steps,s=e.direction,i=Object(a.useState)(null),o=Object(c.a)(i,2),d=o[0],u=o[1],j=r.a.useRef(null),h=r.a.useRef(null);return Object(a.useEffect)((function(){d?d.intention&&d.update(n,s):u(new Ne(h.current,n,s))}),[d,n,s]),t=n>=3?Object(l.jsxs)("div",{className:"axis-container",children:[Object(l.jsx)("small",{children:"0"}),Object(l.jsx)("small",{children:"40"}),Object(l.jsx)("small",{children:"60"}),Object(l.jsx)("small",{children:"80"}),Object(l.jsx)("small",{children:"160"})]}):Object(l.jsxs)("div",{className:"axis-container",children:[Object(l.jsx)("small",{children:"0"}),Object(l.jsx)("small",{children:"100"}),Object(l.jsx)("small",{children:"200"}),Object(l.jsx)("small",{children:"300"}),Object(l.jsx)("small",{children:"400"})]}),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"chart-container",children:[Object(l.jsx)("p",{children:"Food Secure Group"}),t,Object(l.jsx)("div",{id:"tooltip-grid",className:"tooltip red hidden",ref:j}),Object(l.jsx)("svg",{className:"grid-chart chart-area",ref:h})]})})},Se=n.p+"static/media/food-insecure-mig-int.135055f1.csv",Ae=n.p+"static/media/food-insecure-mig-prep.b4eb9d32.csv",De=0,_e=0,Re=0,ke=0,Ee=window.innerWidth-Re-ke,Fe=200-De-_e,Ie=5,Te=2,He="#efefef",Be="#ffe3e0",Me="#ffe3e0",Le="#ad2e24",Ge="#540804";function Ue(e,t){for(var n=1,a=1,r=Ee/80,s=r,i=new Array,c=0,l=0;l<80;l++){for(var o=0;o<t;o++)i.push({x:n,y:a,width:r,height:s,visData:e[c]}),a+=s,c++;a=1,n+=r}return i}var We=function(){function e(t,n,a){Object(se.a)(this,e);var r=this;r.svg=m.B(t).append("svg").attr("viewBox","0 0 ".concat(Ee+Re+ke," ").concat(Fe+De+_e)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate(".concat(Re,", ").concat(De,")")),r.xAxisGroup=r.svg.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(Fe,")")),r.yAxisGroup=r.svg.append("g").attr("id","y-axis"),Promise.all([m.d(Se),m.d(Ae)]).then((function(e){r.intention=e[0],r.preparation=e[1],r.update(n,a)}))}return Object(ie.a)(e,[{key:"update",value:function(e,t){var n=this;n.data=n.intention,n.gridData=Ue(n.data,Ie),e&&1!==e&&2!==e?(n.data=n.preparation,n.gridData=Ue(n.data,Te)):(n.data=n.intention,n.gridData=Ue(n.data,Ie)),n.svg.selectAll(".grid").remove();var a=n.svg.selectAll(".grid").data(n.gridData);a.exit().remove(),a.enter().append("rect").attr("class","grid").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).on("mouseover",(function(e,t){var n=t.visData,a={country:"",neighborhood:"",ruralUrban:"",age:"",sex:"",familySize:""};"GT"===n.country?a.country="Guatemala":"SLV"===n.country?a.country="El Salvador":a.country="Honduras";a.neighborhood=n.neighborhood,"1"===n.ruralUrban?a.rural_urban="urban":a.rural_urban="rural","1"===n.sex?a.sex="Male":a.sex="Female",a.age=n.age,a.familySize=n.family_size,s.style("left","".concat(.5*e.clientX,"px")).style("top","".concat(.1*e.clientY,"px")).html('<p class="header"><span>'.concat(a.sex,", ").concat(a.age,"</span></p>\n        <p> Living in ").concat(a.rural_urban," area in ").concat(a.country,", with a family size of ").concat(a.familySize,".</p>")).classed("hidden",!1)})).on("mouseout",(function(e,t){s.classed("hidden",!0)})).style("fill","#efefef").style("stroke","#fff");var r=n.svg.selectAll("rect");"down"===t&&(1===e&&r.transition().ease(m.f).duration(300).style("fill",(function(e){return"0"===e.visData.mig_int_global?He:Be})),2===e&&r.transition().ease(m.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?He:0===parseInt(e.visData.mig_plan_global)?Me:0===parseInt(e.visData.mig_prep_global)?Le:Ge})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Me:0===parseInt(e.visData.mig_prep_global)?Le:Ge}))),"up"===t&&(1===e&&r.transition().ease(m.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?He:Be})),2===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?He:0===parseInt(e.visData.mig_plan_global)?Me:0===parseInt(e.visData.mig_prep_global)?Le:Ge})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Me:0===parseInt(e.visData.mig_prep_global)?Le:Ge})));var s=m.B("#tooltip-grid")}}]),e}(),ze=function(e){var t,n=e.steps,s=e.direction,i=Object(a.useState)(null),o=Object(c.a)(i,2),d=o[0],u=o[1],j=r.a.useRef(null),h=r.a.useRef(null);return Object(a.useEffect)((function(){d?d.intention&&d.update(n,s):u(new We(h.current,n,s))}),[d,n,s]),t=n>=3?Object(l.jsxs)("div",{className:"axis-container",children:[Object(l.jsx)("small",{children:"0"}),Object(l.jsx)("small",{children:"40"}),Object(l.jsx)("small",{children:"60"}),Object(l.jsx)("small",{children:"80"}),Object(l.jsx)("small",{children:"160"})]}):Object(l.jsxs)("div",{className:"axis-container",children:[Object(l.jsx)("small",{children:"0"}),Object(l.jsx)("small",{children:"100"}),Object(l.jsx)("small",{children:"200"}),Object(l.jsx)("small",{children:"300"}),Object(l.jsx)("small",{children:"400"})]}),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"chart-container",children:[Object(l.jsx)("p",{children:"Food Insecure Group"}),t,Object(l.jsx)("div",{id:"tooltip-grid",className:"tooltip hidden red",ref:j}),Object(l.jsx)("svg",{className:"grid-chart chart-area",ref:h})]})})};var Pe=function(){var e,t=Object(a.useState)(null),n=Object(c.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(null),o=Object(c.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)(null),h=Object(c.a)(j,2),m=(h[0],h[1]);return e=1===r?Object(l.jsxs)("div",{className:"legend-container",children:[Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-yes"}),Object(l.jsx)("p",{className:"mig-yes",children:'Household answered "Yes"'})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-no"}),Object(l.jsx)("p",{className:"mig-no",children:'Household answered "No"'})]})]}):2===r?Object(l.jsxs)("div",{className:"legend-container ",children:[Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-scale-3"}),Object(l.jsx)("p",{className:"mig-scale-3",children:"Household has plan and preparation"})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-scale-2"}),Object(l.jsx)("p",{className:"mig-scale-2",children:"Household has plan but no preparation"})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-scale-1"}),Object(l.jsx)("p",{className:"mig-scale-1",children:"Household wants to migrate but has no plan"})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-no"}),Object(l.jsx)("p",{className:"mig-no",children:"Household does not want to migrate"})]})]}):3===r?Object(l.jsxs)("div",{className:"legend-container",children:[Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-scale-3"}),Object(l.jsx)("p",{className:"mig-scale-3",children:"Household has plan and preparation"})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-scale-2"}),Object(l.jsx)("p",{className:"mig-scale-2",children:"Household has plan but no preparation"})]}),Object(l.jsxs)("div",{className:"legend",children:[Object(l.jsx)("div",{className:"legend-block mig-scale-1"}),Object(l.jsx)("p",{className:"mig-scale-1",children:"Household wants to migrate but has no plan"})]})]}):Object(l.jsx)("div",{}),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"main ",children:[Object(l.jsx)("div",{className:"main__graphic",children:Object(l.jsxs)("div",{className:"scroll-chart-content-container",children:[Object(l.jsxs)("div",{className:"title-container tall",children:[Object(l.jsx)("p",{className:"chart-title",children:"Food security and migration intention."}),e]}),Object(l.jsxs)("div",{className:"chart-wrapper",children:[Object(l.jsx)(we,{steps:r,direction:d}),Object(l.jsx)(ze,{steps:r,direction:d})]})]})}),Object(l.jsx)("div",{className:"scroller",children:Object(l.jsxs)(_.a,{onStepEnter:function(e){var t=e.data,n=(e.entry,e.direction);s(t),u(n)},onStepExit:function(){},progress:!0,onStepProgress:function(e){var t=e.progress;m(t)},offset:"0.5",children:[Object(l.jsx)(_.b,{data:1,value:1,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"The food secure have higher desire to migrate."}),Object(l.jsx)("p",{children:"Does this mean food security will actually drive people to migrate? Further research of the data tells a different story."})]})}),Object(l.jsx)(_.b,{data:2,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"Desire does not equal to action."}),Object(l.jsxs)("p",{children:["Even though food secure people are more likely to say they want to migrate, when it comes to migration, it takes"," ",Object(l.jsx)("span",{className:"red",children:"actual planning and preparation"})," ","to actualize the action."]})]})},2),Object(l.jsx)(_.b,{data:3,children:Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("h2",{children:"The food insecure are more likely to take actual action."}),Object(l.jsxs)("p",{children:["Given the food insecure people are already struggling with basic needs such as food, their plans to migrate are more likely to be ",Object(l.jsx)("span",{className:"red",children:"out of desperation "}),"rather than ",Object(l.jsx)("span",{className:"blue",children:"by choice "}),"."]})]})},3),Object(l.jsx)(_.b,{data:4,children:Object(l.jsx)("div",{className:"step"})},4)]})})]})})};w.a.registerPlugin(A.a);var Ce=function(){var e=Object(a.useRef)(null);Object(a.useEffect)((function(){w.a.to("#section05cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section05cardRef",markers:!1,start:"top center"}})}),[]);return Object(l.jsx)("div",{className:"section regular center",children:Object(l.jsx)("div",{className:"content-container",children:Object(l.jsxs)("div",{className:"section-card",id:"section05cardRef",ref:e,children:[Object(l.jsxs)("h1",{children:["Is ",Object(l.jsx)("span",{className:"red",children:"migration plan "}),"related to ",Object(l.jsx)("br",{}),"the ",Object(l.jsx)("span",{className:"red",children:"economic pressure on food?"})]}),Object(l.jsx)("p",{children:"For those who suffer food insecurity tend to make solid plan and preparation to migrate than those don\u2019t have food issue. To answer this, we need to study the how many people have to work to ensure food security and understand how economic status impact migration plan and action."})]})})})},qe=function(e){var t=e.dataArray,n=e.colorsArray,r=Object(a.useRef)(null);return Object(a.useEffect)((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=void 0===n?function(e){return Object(c.a)(e,1)[0]}:n,s=t.value,i=void 0===s?function(e){return Object(c.a)(e,2)[1]}:s,l=t.title,o=t.width,d=void 0===o?640:o,u=t.height,j=void 0===u?400:u,h=t.innerRadius,b=void 0===h?Math.min(d,j)/4:h,f=t.outerRadius,p=void 0===f?Math.min(d,j)/2:f,g=t.labelRadius,x=void 0===g?(b+p)/2:g,O=t.format,v=void 0===O?",":O,y=t.names,N=t.colors,w=t.stroke,S=void 0===w?b>0?"none":"white":w,A=t.strokeWidth,D=void 0===A?4:A,_=t.padAngle,R=void 0===_?"none"===S?1/p:0:_,k=m.r(e,a),E=m.r(e,i),F=m.w(k.length).filter((function(e){return!isNaN(E[e])}));void 0===y&&(y=k),y=new m.a(y),void 0===N&&(N=m.A[y.size]),void 0===N&&(N=m.v((function(e){return m.p(.8*e+.1)}),y.size));var I=m.z(y,N);if(void 0===l){var T=m.l(v);l=function(e){return"".concat(k[e],"\n").concat(T(E[e]))}}else{var H=m.r(e,(function(e){return e})),B=l;l=function(t){return B(H[t],t,e)}}var M=m.u().padAngle(R).sort(null).value((function(e){return E[e]}))(F),L=m.b().innerRadius(b).outerRadius(p),G=m.b().innerRadius(x).outerRadius(x);m.B(r.current).attr("width",d).attr("height",j).attr("viewBox",[-d/2,-j/2,d,j]).attr("style","max-width: 100%; height: auto; height: intrinsic;").append("g").attr("stroke",S).attr("stroke-width",D).attr("stroke-linejoin","round").selectAll("path").data(M).join("path").attr("fill",(function(e){return I(k[e.data])})).attr("d",L).append("title").text((function(e){return l(e.data)})),m.B(r.current).selectAll("path").transition().duration(480).ease(m.g).attrTween("d",(function(e){var t=m.o(e.startAngle+.1,e.endAngle);return function(n){return e.endAngle=t(n),L(e)}})),m.B(r.current).append("g").attr("font-family","sans-serif").attr("font-size",16).attr("text-anchor","middle").selectAll("text").data(M).join("text").attr("transform",(function(e){return"translate(".concat(G.centroid(e),")")})).selectAll("tspan").data((function(e){var t="".concat(l(e.data)).split(/\n/);return e.endAngle-e.startAngle>.25?t:t.slice(0,1)})).join("tspan").attr("x",0).attr("y",(function(e,t){return"".concat(1.1*t,"em")})).attr("font-weight",(function(e,t){return t?null:"bold"})).attr("style","fill:#fff").text((function(e){return e}))}(t,{name:function(e){return e.name},value:function(e){return e.value},width:400,height:250,names:t.map((function(e){return e.name})),colors:n,stroke:"none",title:function(e){return"".concat(e.value,"%")}})}),[t,n]),Object(l.jsx)("svg",{className:"donut-chart",ref:r})},Ye=function(e){var t=e.color,n=e.width;return Object(l.jsx)("div",{style:{backgroundColor:t,width:n,height:n}})},Xe=function(){return Object(l.jsxs)("div",{className:"donut-chart-part",children:[Object(l.jsxs)("div",{className:"top-legend",children:[Object(l.jsx)(Ye,{color:"#DFBFBF",width:18}),Object(l.jsx)("span",{children:"Have to work for food but NO PLAN to migrate"})]}),Object(l.jsxs)("div",{className:"top-legend",children:[Object(l.jsx)(Ye,{color:"#CC0000",width:18}),Object(l.jsx)("span",{children:"Have to work for food and HAVE PLAN to migrate"})]}),Object(l.jsxs)("div",{className:"main-content",children:[Object(l.jsxs)("div",{className:"donut-chart-wrapper",children:[Object(l.jsx)("p",{className:"title",children:"NO PLAN TO MIGRATE"}),Object(l.jsx)(qe,{dataArray:[{name:"a",value:77},{name:"b",value:23}],colorsArray:["#D9D9D9","#DFBFBF"]}),Object(l.jsxs)("div",{className:"donut-chart-footer",children:[Object(l.jsxs)("div",{className:"bottom-legend",children:[Object(l.jsx)(Ye,{color:"#D9D9D9",width:14}),Object(l.jsx)("span",{children:"NOT WORK FOR FOOD"})]}),Object(l.jsxs)("div",{className:"bottom-legend",children:[Object(l.jsx)(Ye,{color:"#DFBFBF",width:14}),Object(l.jsx)("span",{children:"WORK FOR FOOD"})]})]})]}),Object(l.jsx)("div",{className:"divider"}),Object(l.jsxs)("div",{className:"donut-chart-wrapper",children:[Object(l.jsx)("p",{className:"title",children:"HAS PLAN TO MIGRATE"}),Object(l.jsx)(qe,{dataArray:[{name:"a",value:68},{name:"b",value:32}],colorsArray:["#D9D9D9","#CC0000"]}),Object(l.jsxs)("div",{className:"donut-chart-footer",children:[Object(l.jsxs)("div",{className:"bottom-legend",children:[Object(l.jsx)(Ye,{color:"#D9D9D9",width:14}),Object(l.jsx)("span",{children:"NOT WORK FOR FOOD"})]}),Object(l.jsxs)("div",{className:"bottom-legend",children:[Object(l.jsx)(Ye,{color:"#CC0000",width:14}),Object(l.jsx)("span",{children:"WORK FOR FOOD"})]})]})]})]})]})},Ve=Object(a.memo)(Xe);function Ke(){var e=Object(a.useRef)(null),t=Object(a.useState)(!0),n=Object(c.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){s||!e||"undefined"!==typeof window&&window.document}),[s]);var o=r.a.useState(2),d=Object(c.a)(o,2),m=d[0],b=d[1],f=r.a.useRef(null),p=function(){window.clearInterval(f.current),i(!1)};return r.a.useEffect((function(){return f.current=window.setInterval((function(){b((function(e){return e-1}))}),1e3),function(){return p()}}),[]),r.a.useEffect((function(){0===m&&p()}),[m]),"undefined"!==typeof window&&window.document?Object(l.jsx)(l.Fragment,{children:s?Object(l.jsx)("div",{className:"section regular loader-wrapper absolute",children:Object(l.jsx)("h1",{children:"Is Food Security a Solution to Migration?"})}):Object(l.jsxs)(u,{className:"main-container",id:"main-container","data-scroll-container":!0,ref:e,children:[Object(l.jsx)(j,{}),Object(l.jsx)(D,{}),Object(l.jsx)(V,{}),Object(l.jsx)(K,{}),Object(l.jsx)(ae,{}),Object(l.jsx)(re,{}),Object(l.jsx)(Pe,{}),Object(l.jsx)(Ce,{}),Object(l.jsx)(Ve,{}),Object(l.jsx)(h,{})]})}):null}n(232);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Ke,{})}),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.c41f4e4d.chunk.js.map