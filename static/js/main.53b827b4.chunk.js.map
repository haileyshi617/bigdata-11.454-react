{"version":3,"sources":["components/layout/ProgressBar.jsx","components/layout/CustomCursor/index.jsx","components/layout/Footer.jsx","components/layout/Layout.jsx","components/section/Intro.jsx","components/section/Outro.jsx","data/mig_rate.csv","components/charts/MapChart.jsx","components/section/Section01Map.jsx","data/food-global.csv","components/charts/FoodGlobalChart.jsx","components/section/Section02Scroll.jsx","components/section/Section03DotCard.jsx","components/ui/CardScroll.jsx","data/dot.csv","components/charts/SurveyChart.jsx","components/section/Section03Scroll.jsx","components/section/Section04GridCard.jsx","data/food-secure-mig-int.csv","data/food-secure-mig-prep.csv","components/charts/GridSecureChart.jsx","components/charts/GridSecureChartWrapper.jsx","data/food-insecure-mig-int.csv","data/food-insecure-mig-prep.csv","components/charts/GridInsecureChart.jsx","components/charts/GridInsecureChartWrapper.jsx","components/section/Section04Scroll.jsx","components/section/Section05PieCard.jsx","components/charts/DonutChart.jsx","components/section/Section05Pie.jsx","App.js","index.js"],"names":["ProgressBar","useState","scrollTop","setScrollTop","onScroll","winScroll","document","documentElement","height","scrollHeight","clientHeight","useEffect","window","addEventListener","removeEventListener","className","style","width","CustomCursor","secondaryCursor","React","useRef","positionRef","mouseX","mouseY","destinationX","destinationY","distanceX","distanceY","key","event","clientX","clientY","current","clientWidth","followMouse","requestAnimationFrame","Math","abs","transform","ref","Footer","Layout","props","children","Intro","Outro","href","WIDTH","innerWidth","HEIGHT","innerHeight","NT","RED","GRAY","MapChart","tooltipRef","svgRef","data","setData","migdata","setMigData","setId","d3","then","rawdata","svg","attr","append","selectAll","remove","projection","scale","PI","translate","map","features","tooltip","enter","on","d","id","rate","find","e","html","properties","name","classed","this","includes","console","log","transition","duration","gsap","registerPlugin","ScrollTrigger","Section01Map","section01cardRef","to","x","ease","scrollTrigger","trigger","markers","start","mapRef","opacity","Power3","easeOut","end","scrub","MARGIN","COUNTRIES","CIRCLE","LINE","COLOR","FoodGlobalChart","steps","direction","dataSrc","svgEl","mouseover","country","moderate","severe","index","mouseout","y","domain","nice","range","padding","highlightData","filter","circleModerate","circleSevere","NTlabel","text","call","g","ticks","tickFormat","i","Section02Scroll","setSteps","setDirection","setProgress","onStepEnter","entry","onStepExit","progress","onStepProgress","offset","value","Section03DotCard","section03cardRef","CardScroll","SurveyChart","update","setUpdate","center","cariCenter","migCenter","forceStrength","cariData","migData","slice","radius","myColorMain","myCariMain","simulation","velocityDecay","force","strength","ticked","stop","bubbles","join","cari","sex","age","fam_size","rural_urban","layerX","layerY","alpha","restart","mig","Section03Scroll","title","Section04GridCard","section04cardRef","NROW","COLOR_INTENTION","COLOR_PREPARATION","setGridData","visData","nrow","xpos","ypos","Array","column","row","push","GirdSecureChart","element","vis","xAxisGroup","yAxisGroup","Promise","all","dataSrc_int","dataSrc_prep","datasets","intention","preparation","gridData","grid","exit","square","mig_int_global","parseInt","mig_plan_global","mig_prep_global","ChartWrapper","chart","setChart","GridSecureChart","axis","GridInsecureChart","Section04Scroll","legend","GridSecureChartWrapper","GridInsecureChartWrapper","Section05Pie","section05cardRef","DonutChart","dataArray","colorsArray","innerRadius","min","outerRadius","labelRadius","format","names","colors","stroke","strokeWidth","padAngle","N","V","I","length","isNaN","undefined","size","t","color","formatValue","O","T","arcs","sort","arc","arcLabel","attrTween","startAngle","endAngle","centroid","lines","split","_","generateDonutChart","Square","backgroundColor","memo","App","preloader","setPreload","timer","setTimer","clear","clearInterval","setInterval","time","Section05PieCard","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.53b827b4.chunk.js","sourcesContent":["import { React, useState, useEffect } from 'react';\n\nconst ProgressBar = () => {\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const onScroll = () => {\n    const winScroll = document.documentElement.scrollTop;\n    const height =\n      document.documentElement.scrollHeight -\n      document.documentElement.clientHeight;\n\n    const scrolled = (winScroll / height) * 100;\n\n    setScrollTop(scrolled);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', onScroll);\n\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n\n  return (\n    <div className=\"progressMainWrapper\">\n      <div\n        className=\"progressMainStyle\"\n        style={{ width: `${scrollTop}%` }}\n      ></div>\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import React, { useContext } from 'react';\nimport './_cursor-style.scss';\n// import CustomCursorContext from \"./context/CustomCursorContext\";\n\n// TODO: Hide if cursor not moved\nconst CustomCursor = () => {\n  // const { type } = useContext(CustomCursorContext);\n  const secondaryCursor = React.useRef(null);\n  const positionRef = React.useRef({\n    mouseX: 0,\n    mouseY: 0,\n    destinationX: 0,\n    destinationY: 0,\n    distanceX: 0,\n    distanceY: 0,\n    key: -1,\n  });\n\n  React.useEffect(() => {\n    document.addEventListener('mousemove', (event) => {\n      const { clientX, clientY } = event;\n\n      const mouseX = clientX;\n      const mouseY = clientY;\n\n      positionRef.current.mouseX =\n        mouseX - secondaryCursor.current.clientWidth / 2;\n      positionRef.current.mouseY =\n        mouseY - secondaryCursor.current.clientHeight / 2;\n    });\n\n    return () => {};\n  }, []);\n\n  React.useEffect(() => {\n    const followMouse = () => {\n      positionRef.current.key = requestAnimationFrame(followMouse);\n      const {\n        mouseX,\n        mouseY,\n        destinationX,\n        destinationY,\n        distanceX,\n        distanceY,\n      } = positionRef.current;\n      if (!destinationX || !destinationY) {\n        positionRef.current.destinationX = mouseX;\n        positionRef.current.destinationY = mouseY;\n      } else {\n        positionRef.current.distanceX = (mouseX - destinationX) * 0.1;\n        positionRef.current.distanceY = (mouseY - destinationY) * 0.1;\n        if (\n          Math.abs(positionRef.current.distanceX) +\n            Math.abs(positionRef.current.distanceY) <\n          0.1\n        ) {\n          positionRef.current.destinationX = mouseX;\n          positionRef.current.destinationY = mouseY;\n        } else {\n          positionRef.current.destinationX += distanceX;\n          positionRef.current.destinationY += distanceY;\n        }\n      }\n      if (secondaryCursor && secondaryCursor.current)\n        secondaryCursor.current.style.transform = `translate3d(${destinationX}px, ${destinationY}px, 0)`;\n    };\n    followMouse();\n  }, []);\n  return (\n    <div className={`cursor-wrapper default`}>\n      <div className=\"secondary-cursor\" ref={secondaryCursor}></div>\n    </div>\n  );\n};\n\nexport default CustomCursor;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <div className=\"footer\">\n      <div className=\"container\">\n        <h1>Team</h1>\n        <ul>\n          <li>Huiwen Shi</li>\n          <li>Rui Wang</li>\n          <li>Ziyi Tang</li>\n          <li>Yingu Pan</li>\n        </ul>\n        {/* <div className={classes.logo-container}>\n        <img src=\"../../assets/mit-logo.png\" alt=\"mit logo\" />\n      </div> */}\n      </div>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport ProgressBar from './ProgressBar';\nimport CustomCursor from './CustomCursor';\nimport Footer from './Footer';\n\nfunction Layout(props) {\n  return (\n    <div className=\"layout\">\n      <CustomCursor />\n      <ProgressBar />\n      <main className=\"main\">{props.children}</main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Layout;\n","export default function Intro() {\n  return (\n    <div className=\"section regular center intro\" data-scroll-section>\n      <div className=\"header-container\">\n        <h1>Food Insecurity and Migration</h1>\n        <p className=\"subtitle\">\n          A Data Visualization Story in Northern Triangle Region of Central\n          America\n        </p>\n      </div>\n      <small>SCROLL TO CONTINUE</small>\n    </div>\n  );\n}\n","import React from 'react';\n\nfunction Outro() {\n  return (\n    <div className=\"section regular center outro\">\n      <div className=\"container\">\n        <div className=\"summary\">\n          <h1>Summary</h1>\n          <p>\n            <strong>Limited Impact of Food Security</strong>\n          </p>\n          <p>\n            To conclude, food insecurity has limited impact on migration issue.\n            The correlation between food security and migration intension and\n            action are not significant in these three countries.\n          </p>\n          <br />\n          <p>\n            <strong>Food Insecurity and Migration</strong>\n          </p>\n          <p>\n            People with better food supply tend to have greater desire to\n            migrate. Yet their possibility of making solid plan for migration is\n            smaller.\n          </p>\n          <br />\n          <p>\n            One explanation to this might be, as people need less to worry about\n            basic need for food, they may have more resources and time to think\n            of new possibilities such as migration that may further improve\n            their living standard. However, these better-off people do not\n            necessarily make actual plan for migration in the near future\n            compared with the food insecure.\n          </p>\n          <br />\n          <p>\n            <strong>Migration Issue's Complexity</strong>\n          </p>\n          <p>\n            Migration issue is a complicated and multi-causal subject that\n            require a much wider perspective. Food security shall not be\n            considered as the only solution or even bargaining chip to solve the\n            immigration issue, but rather a bottom line that every nation and\n            individual shall hold and ensure.\n          </p>\n          <br />\n          <p>\n            From the survey, it’s astonishing to see that there is still a large\n            portion of people suffering food insecurity in the triangle region.\n            Ensuring basic human right – the right to food is undoubtedly the\n            first priority.\n          </p>\n        </div>\n        <div className=\"sources\">\n          <div className=\"reference\">\n            <h1>Reference</h1>\n            <ul>\n              <li>\n                Abuelafia, Emmanuel, Giselle Del Carmen, Marta Ruiz-Arranz. “In\n                the footprints of migrants: Perspectives and experiences of\n                migrants from El Salvador, Guatemala and Honduras in the United\n                States.” Inter-American Development Bank: Creative Commons,\n                2019.\n              </li>\n              <li>\n                World Food Programme, “Climate crisis and economic shocks leave\n                millions food insecure across Central America”, UN News, 23\n                February 2021\n              </li>\n              <li>\n                Clemens, Michael. “The Real Root Causes of America’s Border\n                Crisis And How Biden Can Address Them.” Foreign Affairs. 7 June\n                2021.\n              </li>\n            </ul>\n          </div>\n          <div className=\"data-source\">\n            <h1>Data Source</h1>\n            <ul>\n              <li>\n                <a href=\"https://www.fao.org/faostat/en/#data/FS\">\n                  Prevalence of moderate and severe food insecurity in the total\n                  population by nations, 2020\n                </a>\n              </li>\n              <li>\n                <a href=\"https://www.un.org/development/desa/pd/content/international-migrant-stock\">\n                  International Migrant Stock, Population Division, United\n                  Nations, 2020\n                </a>\n              </li>\n              <li>\n                Anonymized data from 5000+ Household Interviews conducted by a\n                joint initiative between World Food Program and the Migration\n                Policy Institute and the International Organization for\n                Migration. For privacy and security issue, the original dataset\n                would not be shared, 2020.\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Outro;\n","export default __webpack_public_path__ + \"static/media/mig_rate.77852f32.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/mig_rate.csv';\nimport ArcChart from './ArcChart';\n\n// CANVAS SETUP\nconst WIDTH = window.innerWidth;\nconst HEIGHT = window.innerHeight;\n\n// RENDERING SETTING\nconst NT = ['GTM', 'HND', 'SLV'];\nconst RED = { REGULAR: '#f8ad96', SELECT: '#eb5832' };\nconst GRAY = { REGULAR: '#f0f0f0', SELECT: '#bcbcbc' };\n\nconst MapChart = () => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const arcRef = React.createRef();\n\n  const [data, setData] = useState(null);\n  const [migdata, setMigData] = useState(null);\n  const [id, setId] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.json(\n      'https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson'\n    ).then((data) => {\n      setData(data);\n    });\n\n    d3.csv(rawdata).then((data) => {\n      setMigData(data);\n    });\n  }, []);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data && migdata) {\n      const svg = d3\n        .select(svgRef.current)\n        .attr('width', WIDTH)\n        .attr('height', HEIGHT)\n        .append('g')\n        .attr('transform', `translate(${(WIDTH * 7) / 8}, ${HEIGHT / 6})`);\n\n      svg.selectAll('*').remove();\n\n      // Map and projection\n      const projection = d3\n        .geoNaturalEarth1()\n        .scale(WIDTH / 0.6 / Math.PI)\n        .translate([WIDTH / 2, HEIGHT / 2]);\n\n      // DATA JOIN\n      const map = svg.selectAll('path').data(data.features);\n\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-map');\n\n      const mouseover = function (event, d) {\n        setId(d.id);\n        let rate = migdata.find((e) => e['Alpha-3 code'] == d.id).rate;\n\n        tooltip\n          .html(\n            d.properties.name == 'USA'\n              ? `<p>The <span class=\"big\">${d.properties.name}</span> receives <span class=\"big\">${rate}% </span>of migrants from <span>El Salvador, Guatemala, and Honduras</span>.</p>`\n              : `<p>Around <span class=\"big\">${rate}%</span> of the population from <span class=\"big\">${d.properties.name}</span> are migrants to the US by 2020.<p>`\n          )\n          .classed('hidden', false);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.SELECT : GRAY.SELECT\n        );\n      };\n\n      const mousemove = function (event, d) {\n        tooltip\n          .style('left', `${event.clientX - window.innerWidth / 5}px`)\n          .style('top', () => {\n            if (event.clientY - window.innerHeight / 2 > 0)\n              return `${event.clientY * 0.9}px`;\n            return `${event.clientY * 0.9}px`;\n          });\n      };\n\n      const mouseout = function (event, d) {\n        console.log('out');\n        tooltip.classed('hidden', true);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR\n        );\n      };\n\n      // ENTER\n      map\n        .enter()\n        .append('path')\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout)\n        .attr('fill', GRAY.REGULAR)\n        .transition()\n        .duration(1000)\n        .attr('fill', (d) => (NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR))\n        .attr('d', d3.geoPath().projection(projection))\n        .style('stroke', '#fff')\n        .style('stroke-width', 1)\n        .attr('class', 'Country');\n    }\n  }, [data, migdata]);\n\n  return (\n    <>\n      <div\n        id=\"tooltip-map\"\n        className=\"tooltip red hidden\"\n        ref={tooltipRef}\n      ></div>\n      <svg className=\"chart-area map-chart\" ref={svgRef}></svg>\n      {/* <ArcChart id={id} data={migdata} ref={arcRef}/> */}\n    </>\n  );\n};\n\nexport default MapChart;\n","import MapChart from '../charts/MapChart';\n\nimport { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { Power3 } from 'gsap';\n\nimport { ScrollTrigger, timeline } from 'gsap/ScrollTrigger';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section01Map = () => {\n  // section card animation\n  const section01cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section01cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section01cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  // map animation\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#mapRef', {\n      duration: 5,\n      opacity: 1,\n      ease: Power3.easeOut,\n\n      scrollTrigger: {\n        trigger: '#mapRef',\n        markers: false,\n        start: 'top center',\n        end: 'bottom 0px',\n        scrub: true,\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"map-container\" ref={mapRef} id=\"mapRef\">\n        <MapChart />\n      </div>\n\n      <div className=\"content-container\">\n        <div\n          className=\"section-card no-hover\"\n          id=\"section01cardRef\"\n          ref={section01cardRef}\n        >\n          <h1>\n            <span className=\"red\">Migration status</span>\n            <br /> in the Northern Triangle Region\n          </h1>\n          <p>\n            Migration from Central America to the U.S. began rising notably in\n            the 1980s, and continued to increase in subsequent decades.\n          </p>\n          <br />\n          <p>\n            More recently, the number of immigrants{' '}\n            <span>–– from the three Northern Triangle nations rose by 25%</span>{' '}\n            between 2007 and 2015. During that same period, the immigrant\n            population from Mexico, the largest birth country for U.S.\n            immigrants, declined 6%.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section01Map;\n","export default __webpack_public_path__ + \"static/media/food-global.2b92dcb9.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport dataSrc from '../../data/food-global.csv';\n\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 50, LEFT: 30, RIGHT: 30 };\nconst WIDTH = 1000 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 450 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// RENDERING SETUP\nconst COUNTRIES = [\n  'Honduras',\n  'El Salvador',\n  'Guatemala',\n  'United States of America',\n];\nconst CIRCLE = { REGULAR: 4, SELECT: 5 };\nconst LINE = { REGULAR: 1, SELECT: 3 };\nconst COLOR = {\n  MODERATE_S: '#6bbaad',\n  SEVERE_S: '#eb5832',\n  MODERATE_R: '#DFEBE8',\n  SEVERE_R: '#EBD7D0',\n  GRAY: '#F3F3F3',\n  TEXT: '#808080',\n};\n\nconst FoodGlobalChart = ({ steps, direction }) => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.csv(dataSrc).then((data) => {\n      setData(data);\n    });\n  }, []);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data) {\n      // CANVAS SETUP\n      const svgEl = d3\n        .select(svgRef.current) // .current => necessary when use ref\n        .attr('width', '100%')\n        .attr(\n          'viewBox',\n          `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n            HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n          }`\n        )\n        .attr('preserveAspectRatio', 'xMaxYMid meet');\n      svgEl.selectAll('*').remove(); // Clear svg content before adding new elements\n\n      const svg = svgEl\n        .append('g')\n        .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n      const xAxisGroup = svg\n        .append('g')\n        .attr('transform', `translate(0, ${HEIGHT})`);\n\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-food-global');\n\n      const mouseover = function (event, d) {\n        tooltip\n          .html(\n            `<p class=\"header\"><span> ${d.country} </span></p>\n                    <p class=\"moderate\"> Moderate Hunger: ${d.moderate}% </p>\n                    <p> Severe Hunger: ${d.severe}% </p>`\n          )\n          .style('left', `${event.clientX - window.innerWidth / 8}px`)\n          .style('top', `${event.clientY - window.innerHeight / 3}px`)\n          .classed('hidden', false);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.SELECT)\n          .style('stroke', COLOR.TEXT)\n          .attr('stroke-width', LINE.REGULAR);\n      };\n\n      const mouseout = function (event, d) {\n        tooltip.classed('hidden', true);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.REGULAR)\n          .style('stroke', 'transparent');\n        svg\n          .selectAll('line')\n          .style('stroke', COLOR.GRAY)\n          .attr('stroke-width', (d) =>\n            COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR\n          );\n      };\n\n      // SCALES\n      const y = d3\n        .scaleLinear()\n        .domain([\n          d3.min(data, (d) => d.severe),\n          d3.max(data, (d) => d.moderate),\n        ])\n        .nice()\n        .range([HEIGHT, 0]);\n\n      const x = d3\n        .scaleBand()\n        .domain(data.map((d) => d.country))\n        .range([0, WIDTH])\n        .padding(0.4);\n\n      const yAxis = (g) =>\n        g\n          .call(\n            d3\n              .axisLeft(y)\n              .ticks(5)\n              .tickFormat((d, i) => `${d}%`)\n          )\n          .style('color', COLOR.TEXT)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000);\n\n      // DATA JOIN\n      const highlightData = data.filter((d) => COUNTRIES.includes(d.country));\n\n      // STEP 0\n      const lines = svg\n        .append('g')\n        .attr('class', 'lines')\n        .selectAll('myLine')\n        .data(data)\n        .enter()\n        .append('line')\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('x1', function (d) {\n          return x(d.country);\n        })\n        .attr('x2', function (d) {\n          return x(d.country);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.severe);\n        })\n        .attr('stroke', COLOR.GRAY)\n        .attr('stroke-width', (d) => {\n          return COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR;\n        });\n\n      const circleModerate = svg\n        .append('g')\n        .attr('class', 'circleModerate')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.moderate);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const circleSevere = svg\n        .append('g')\n        .attr('class', 'circleSevere')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.severe);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const NTlabel = svg\n        .append('g')\n        .attr('class', 'NTlabel')\n        .selectAll('text')\n        .data(highlightData)\n        .enter()\n        .append('text')\n        .attr('y', (d) =>\n          d.country === 'El Salvador'\n            ? y(d.moderate) - 30\n            : d.country === 'Guatemala'\n            ? y(d.moderate) - 35\n            : y(d.moderate) - 20\n        )\n        .attr('x', (d) => x(d.country))\n        .attr('text-anchor', 'middle')\n        .attr('fill', COLOR.TEXT)\n        .attr('font-size', '12px')\n        .text((d) => d.country);\n\n      svg.append('g').call(yAxis);\n\n      // STEP 1:\n      // 1) Highlight selected countries -> text\n      if (steps === 1) {\n        if (direction === 'down') {\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) => {\n              if (COUNTRIES.includes(d.country))\n                if (d.country === 'United States of America') {\n                  return COLOR.MODERATE_S;\n                } else {\n                  return COLOR.SEVERE_S;\n                }\n              return COLOR.GRAY;\n            });\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) => {\n              if (COUNTRIES.includes(d.country))\n                if (d.country === 'United States of America') {\n                  return COLOR.MODERATE_S;\n                } else {\n                  return COLOR.SEVERE_S;\n                }\n              return COLOR.GRAY;\n            });\n\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              d.country === 'United States of America'\n                ? COLOR.MODERATE_S\n                : COLOR.SEVERE_S\n            )\n            .style('font-weight', 'bold');\n        } else {\n          circleModerate.style('fill', (d) => {\n            if (COUNTRIES.includes(d.country))\n              if (d.country === 'United States of America') {\n                return COLOR.MODERATE_S;\n              } else {\n                return COLOR.SEVERE_S;\n              }\n            return COLOR.GRAY;\n          });\n\n          circleSevere.style('fill', (d) => {\n            if (COUNTRIES.includes(d.country))\n              if (d.country === 'United States of America') {\n                return COLOR.MODERATE_S;\n              } else {\n                return COLOR.SEVERE_S;\n              }\n            return COLOR.GRAY;\n          });\n\n          NTlabel.style('fill', (d) =>\n            d.country === 'United States of America'\n              ? COLOR.MODERATE_S\n              : COLOR.SEVERE_S\n          ).style('font-weight', 'bold');\n        }\n      }\n\n      // STEP 2:\n      // 1) Undo highlight selected countries -> tex\n      // 2) Add in colors based on countries and severity to the circles\n      if (steps === 2) {\n        if (direction === 'down') {\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', COLOR.TEXT);\n\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country)\n                ? COLOR.MODERATE_S\n                : COLOR.MODERATE_R\n            );\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n            );\n        } else {\n          NTlabel.style('fill', COLOR.TEXT);\n          circleModerate.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n          );\n\n          circleSevere.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n          );\n        }\n      }\n\n      // STEP 3\n      if (steps > 2) {\n        circleModerate.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n        );\n        circleSevere.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n        );\n        NTlabel.style('fill', COLOR.TEXT);\n      }\n    }\n  }, [data, steps, direction]);\n\n  return (\n    <>\n      <div\n        id=\"tooltip-food-global\"\n        className=\"tooltip red hidden\"\n        ref={tooltipRef}\n      ></div>\n      <svg className=\"chart-area\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default FoodGlobalChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport FoodGlobalChart from '../charts/FoodGlobalChart';\n\nfunction Section02Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div className=\"section scroll\">\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container\">\n              <p className=\"chart-title\">\n                <span className=\"red\">High Food Insecurity</span> in El\n                Salvador, Guatemala, and Honduras\n              </p>\n              {steps > 1 && (\n                <div className=\"legend-container\">\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot no\"></div>\n                    <p className=\"no\">Moderate Hunger</p>\n                  </div>\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot yes\"></div>\n                    <p className=\"yes\">Severe Hunger</p>\n                  </div>\n                </div>\n              )}\n            </div>\n            <FoodGlobalChart steps={steps} direction={direction} />\n          </div>\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>Gap Between Countries</h2>\n                <p>\n                  In the Northern Triangle Regions,{' '}\n                  <span className=\"red\">more than 13.8 percent</span> people are\n                  likely to experience severe hunger, compared to the United\n                  States <span className=\"blue\"> less than 2 percent</span>{' '}\n                  people are facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Severe Food Insecurity</h2>\n                <p>\n                  In the Northern Triangle Regions,{' '}\n                  <span className=\"red\">more than 45.6 percent</span> people are\n                  likely to experience some level of hunger, compared to the\n                  United States{' '}\n                  <span className=\"blue\">less than 1 percent</span> people are\n                  facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>What does it mean?</h2>\n                <p>\n                  Food insecurity is an issue in the Northern Triangle area.\n                  This can be <span className=\"blue\"> a driving factor</span>{' '}\n                  for people to migrate to countries which are more food secure\n                  like the US.\n                </p>\n                <br />\n                <p>\n                  We further explored the survey data to study the relationship\n                  between <span className=\"red\"> migration</span> and{' '}\n                  <span className=\"red\">food insecurity </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section02Scroll;\n","import { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section03DotCard = () => {\n  const section03cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section03cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section03cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"content-container\">\n        <div\n          className=\"section-card\"\n          id=\"section03cardRef\"\n          ref={section03cardRef}\n        >\n          <h1>\n            Is food security <span className=\"red\">a solution to</span>\n            <br /> migration issue?\n          </h1>\n          <p>\n            Since those three countries are having food security issues and\n            contribute to a large proportion of migration in the US, it is\n            tempting to say that maybe increasing food security is a solution to\n            migration.\n          </p>\n          <br />\n          <p>\n            {' '}\n            However, the survey{' '}\n            <span> suggests a more complicated outcome </span>than a simple\n            bifurcated answer{' '}\n            <span>based on different food insecurity level</span>.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section03DotCard;\n","import React from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nfunction CardScroll (value,text){\n  return (\n    <Step data={value} key={value}>\n      <div className='step'>\n        {text}\n      </div>\n    </Step>\n  )\n}\n\nexport default CardScroll;\n","export default __webpack_public_path__ + \"static/media/dot.470be0e5.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/dot.csv';\n\nconst COLOR = {\n  MARGIN: '#B0D9D5',\n  MODERATE: '#F8AD96',\n  SEVERE: '#EB5832',\n  GRAY: '#e0e0e0',\n  TEXT: '#808080',\n  // TEXT: '#BCBCBC',\n};\n\nconst SurveyChart = ({ steps, direction }) => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n  const [update, setUpdate] = useState(0);\n\n  //d3 chart settings\n  let width = '1500';\n  let height = '800';\n  let center = { x: width / 2, y: height / 2 };\n  let cariCenter = [width / 6, width / 2.3, width / 1.5, width / 1.2];\n  let migCenter = [width / 5, width / 1.8, width / 1.2];\n\n  //bubble settings\n  let forceStrength = 0.023;\n  let r = 3;\n  let padding = 2;\n\n  //label settings\n  let cariData = [\n    { name: 'Food Secure', index: 0, value: 44 },\n    { name: 'Marginally Food Secure', index: 1, value: 46 },\n    { name: 'Moderately Insecure', index: 2, value: 9 },\n    { name: 'Severely Insecure', index: 3, value: 1 },\n  ];\n  let migData = [\n    { name: 'Don’t Want to Migrate', index: 0, value: 55.5 },\n    { name: 'Want to Migrate', index: 1, value: 43 },\n    { name: 'Not Sure', index: 2, value: 1.5 },\n  ];\n\n  //load data\n  useEffect(() => {\n    d3.csv(rawdata).then((data) => {\n      setData(\n        data.slice(0, 2000).map(function (d) {\n          return {\n            ...d,\n            radius: r,\n          };\n        })\n      );\n    });\n  }, []);\n\n  //decide when to update\n  useEffect(() => {\n    if (\n      steps < 4 &&\n      !(steps == 1 && direction == 'down') &&\n      !(steps == 3 && direction == 'up')\n    ) {\n      setUpdate(steps);\n    }\n  }, [steps, direction]);\n\n  //update charts\n  useEffect(() => {\n    if (data) {\n      //svg\n      const svgEl = d3\n        .select(svgRef.current)\n        .attr('width', '100%')\n        .attr('text-anchor', 'middle')\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .attr('preserveAspectRatio', 'xMaxYMid meet');\n\n      svgEl.selectAll('*').remove();\n\n      const svg = svgEl.append('g');\n\n      //color\n      const myColorMain = d3\n        .scaleOrdinal()\n        .range([COLOR.GRAY, COLOR.MARGIN, COLOR.MODERATE, COLOR.SEVERE])\n        .domain([1, 2, 3, 4]);\n\n      const myCariMain = d3\n        .scaleOrdinal()\n        .range(['Secure', 'Marginally', 'Moderately', 'Severely'])\n        .domain([1, 2, 3, 4]);\n\n      //simulation\n      const simulation = d3\n        .forceSimulation(data)\n        .velocityDecay(0.14)\n        .force(\n          'collide',\n          d3\n            .forceCollide()\n            .radius(function (d) {\n              return d.radius + padding;\n            })\n            .strength(0.65)\n        )\n        .force('x', d3.forceX().strength(forceStrength).x(center.x))\n        .force('y', d3.forceY().strength(forceStrength).y(center.y))\n        .on('tick', ticked);\n      simulation.stop();\n\n      //mouse functions\n      const tooltip = d3.select('#tooltip-survey');\n      tooltip.classed('hidden', true);\n\n      //mouseover\n      const mouseover = function (event, d) {\n        d3.select(this).attr('fill', '#ff6666').attr('r', 3.5);\n        console.log(event);\n\n        //add tooltip\n        tooltip\n          .style('left', event.clientX - 50 + 'px')\n          .style('top', height - 30 + 'px')\n          .html(\n            `<h3>${d.sex}, ${+d.age}</h3><p>Food Insecurity: <span>${myCariMain(\n              +d.cari\n            )}</span><br/>Family size: <span>${+d.fam_size}</span><br/>Location: <span>${\n              d.rural_urban\n            }</span></p>`\n          )\n          .classed('hidden', false);\n\n        //add line\n        svg\n          .append('line')\n          .attr('class', 'scattertooltip')\n          .attr('x1', event.layerX + 'px')\n          .attr('y1', event.layerY + 'px')\n          .attr('x2', event.layerX + 'px')\n          .attr('y2', height + 'px')\n          .attr('stroke-width', 1)\n          .attr('stroke', '#ff6666');\n      };\n\n      //mouseout\n      const mouseout = function (event, d) {\n        d3.select(this)\n          .attr('fill', (d) => myColorMain(d.cari))\n          .attr('r', 2);\n\n        //remove tooltip\n        tooltip.classed('hidden', true);\n\n        //remove line\n        d3.selectAll('.scattertooltip').remove();\n      };\n\n      //bubbles\n      const bubbles = svg\n        .append('g')\n        .attr('class', 'bubbles')\n        .selectAll('circle')\n        .data(data)\n        .join('circle')\n        .attr('r', 0)\n        .attr('fill', (d) => myColorMain(d.cari))\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout);\n\n      bubbles\n        .transition()\n        .ease(d3.easeBounce)\n        .duration(1000)\n        .attr('r', function (d) {\n          return d.radius;\n        });\n\n      function ticked() {\n        bubbles.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n      }\n\n      //update\n      if (update == 2) {\n        const cariLabel = svg\n          .append('g')\n          .attr('class', 'cariLabel')\n          .selectAll('text')\n          .data(cariData)\n          .enter()\n          .append('text')\n          .style('fill', COLOR.TEXT)\n          .attr('x', (d) => cariCenter[+d.index])\n          .attr('y', center.y / 3)\n          .attr('text-anchor', 'middle')\n          .text((d) => d.name)\n          .style('opacity', 0)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000)\n          .style('opacity', 1);\n\n        const cariLabel2 = svg\n          .append('g')\n          .attr('class', 'cariLabel2')\n          .selectAll('text')\n          .data(cariData)\n          .enter()\n          .append('text')\n          .attr('x', (d) => cariCenter[+d.index])\n          .attr('y', center.y)\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'central')\n          .text((d) => d.value + '%')\n          .style('opacity', 0)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000)\n          .style('opacity', 1);\n\n        simulation.force(\n          'x',\n          d3\n            .forceX()\n            .strength(forceStrength)\n            .x((d) => cariCenter[+d.cari - 1])\n        );\n        simulation.force('y', d3.forceY().strength(forceStrength).y(center.y));\n        simulation.alpha(1).restart();\n      } else if (update >= 3) {\n        const migLabel = svg\n          .append('g')\n          .attr('class', 'migLabel')\n          .selectAll('text')\n          .data(migData)\n          .enter()\n          .append('text')\n          .style('fill', COLOR.TEXT)\n          .attr('x', (d) => migCenter[+d.index])\n          .attr('y', center.y / 3)\n          .attr('text-anchor', 'middle')\n          .text((d) => d.name)\n          .style('opacity', 0)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000)\n          .style('opacity', 1);\n\n        const migLabel2 = svg\n          .append('g')\n          .attr('class', 'migLabel2')\n          .selectAll('text')\n          .data(migData)\n          .enter()\n          .append('text')\n          .attr('x', (d) => migCenter[+d.index])\n          .attr('y', center.y)\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'central')\n          .text((d) => d.value + '%')\n          .style('opacity', 0)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000)\n          .style('opacity', 1);\n\n        simulation.force(\n          'x',\n          d3\n            .forceX()\n            .strength(forceStrength)\n            .x((d) => migCenter[+d.mig])\n        );\n        simulation.force('y', d3.forceY().strength(forceStrength).y(center.y));\n        simulation.alpha(1).restart();\n      } else {\n        const surveyLabel = svg\n          .append('g')\n          .attr('class', 'migLabel')\n          .selectAll('text')\n          .data(migData)\n          .enter()\n          .append('text')\n          .style('fill', COLOR.TEXT)\n          .attr('x', (d) => center.x)\n          .attr('y', center.y / 3.5)\n          .attr('text-anchor', 'middle')\n          .text('total survey people')\n          .style('opacity', 0)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000)\n          .style('opacity', 1);\n\n        const surveyLabel2 = svg\n          .append('g')\n          .attr('class', 'migLabel2')\n          .selectAll('text')\n          .data(migData)\n          .enter()\n          .append('text')\n          .attr('x', (d) => center.x)\n          .attr('y', center.y)\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'central')\n          .text('4,498')\n          .style('opacity', 0)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000)\n          .style('opacity', 1);\n\n        simulation.force('x', d3.forceX().strength(forceStrength).x(center.x));\n        simulation.force('y', d3.forceY().strength(forceStrength).y(center.y));\n        simulation.alpha(1).restart();\n      }\n    }\n  }, [update, data]);\n\n  return (\n    <>\n      <div id=\"tooltip-survey\" className=\"hidden\" ref={tooltipRef}></div>\n      <svg className=\"chart-area survey-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default SurveyChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport CardScroll from '../ui/CardScroll';\nimport SurveyChart from '../charts/SurveyChart';\n// import CardScroll from '../ui/CardScroll';\n\nfunction Section03Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [progress, setProgress] = useState(null);\n  const [direction, setDirection] = useState(null);\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setDirection(direction);\n    setSteps(data);\n  };\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  const title =\n    steps == 2 ? (\n      <p className=\"chart-title grey\">\n        Survey data, <span className=\"red\">food security</span>, Migration\n        Intension\n      </p>\n    ) : steps >= 3 ? (\n      <p className=\"chart-title grey\">\n        Survey data, food security,{' '}\n        <span className=\"red\">Migration Intension</span>\n      </p>\n    ) : (\n      <p className=\"chart-title grey\">\n        <span className=\"red\">Survey data</span>, food security, Migration\n        Intension\n      </p>\n    );\n\n  return (\n    <div className=\"section scroll\">\n      <div className=\"main\">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container short\">{title}</div>\n          </div>\n\n          <SurveyChart steps={steps} direction={direction} className=\"survey\" />\n        </div>\n\n        <div className=\"scroller dot-scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.8\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>4,498 Survey response</h2>\n                <p>\n                  In April-May 2021, the World Food Programme conducted a\n                  face-to-face household survey of{' '}\n                  <span className=\"red\">4,498 responses</span> in El Salvador,\n                  Guatemala, and Honduras.\n                </p>\n                <br />\n                <strong>Hover a dot to view details.</strong>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>The majority are suffering from food insecurity</h2>\n                <p>\n                  In terms of <span className=\"red\">food insecurity level</span>\n                  , the participants are classified into{' '}\n                  <span className=\"blue\"> four groups</span> based on CARI food\n                  security indicators given from WFP.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>Around half have migration desire</h2>\n                <p>\n                  Around <span className=\"blue\">half of household</span>{' '}\n                  respondents indicated a desire to migrate, but{' '}\n                  <span className=\"red\">only 6% are making plans</span> to do\n                  so.\n                </p>\n              </div>\n            </Step>\n            {/* <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step> */}\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section03Scroll;\n","import { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section04GridCard = () => {\n  const section04cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section04cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section04cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"content-container\">\n        <div\n          className=\"section-card\"\n          id=\"section04cardRef\"\n          ref={section04cardRef}\n        >\n          <h1>\n            What is the relationship between food insecurity and{' '}\n            <span className=\"red\">\n              migration's intention, plan and preparation?\n            </span>\n          </h1>\n\n          <p>\n            Instead of asking only the desire to migrate, we look into more\n            detailed aspects of migration other than intension, such as plan and\n            preparation. These factors serve as a stronger indicator for the\n            migration action. We explore the relationship of these factors with\n            food security level.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section04GridCard;\n","export default __webpack_public_path__ + \"static/media/food-secure-mig-int.9fd36d56.csv\";","export default __webpack_public_path__ + \"static/media/food-secure-mig-prep.32704993.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-secure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-secure-mig-prep.csv';\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = window.innerWidth / 16 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 5 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#ffe3e0',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#ffe3e0',\n  PREP_NO_ACTION: '#ad2e24',\n  ACTION: '#540804',\n};\n\n// LABELS\nconst L_INT = { YES: '44%', NO: '56%' };\nconst L_PREP = { L1: '9%', L2: '10%', L3: '80%' };\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr('width', '100%')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMidYMin meet')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      // .on('mouseover', mouseover)\n      // .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', () => {\n          if (event.clientX - window.innerWidth / 2 > 0) {\n            return `${event.clientX - window.innerWidth / 5}px`;\n          }\n\n          return `${event.clientX}px`;\n        })\n        .style('top', () => {\n          // if (event.clientY - window.innerHeight / 2 > 0) {\n          //   return `${event.clientY - window.innerHeight / 6}px`;\n          // }\n\n          return `${event.clientY - window.innerHeight / 1.8}px`;\n        })\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridSecureChart from './GridSecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridSecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  const axis = (\n    <div className=\"axis-container\">\n      <small>0%</small>\n      <small>25%</small>\n      <small>50%</small>\n      <small>75%</small>\n      <small>100%</small>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Secure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip red hidden\"\n          ref={tooltipRef}\n        ></div>\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","export default __webpack_public_path__ + \"static/media/food-insecure-mig-int.135055f1.csv\";","export default __webpack_public_path__ + \"static/media/food-insecure-mig-prep.56ebcee1.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-insecure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-insecure-mig-prep.csv';\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = window.innerWidth / 16 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 5 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#ffe3e0',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#ffe3e0',\n  PREP_NO_ACTION: '#ad2e24',\n  ACTION: '#540804',\n};\n\n// LABELS\nconst L_INT = { YES: '37%', NO: '63%' };\nconst L_PREP = { L1: '7%', L2: '7%', L3: '85%' };\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr('width', '100%')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMidYMin meet')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      // .on('mouseover', mouseover)\n      // .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', `${event.clientX * 0.5}px`)\n        .style('top', `${event.clientY * 0.1}px`)\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridInsecureChart from './GridInsecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridInsecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  const axis = (\n    <div className=\"axis-container\">\n      <small>0%</small>\n      <small>25%</small>\n      <small>50%</small>\n      <small>75%</small>\n      <small>100%</small>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Insecure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip hidden red\"\n          ref={tooltipRef}\n        ></div>\n\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport GridSecureChartWrapper from '../charts/GridSecureChartWrapper';\nimport GridInsecureChartWrapper from '../charts/GridInsecureChartWrapper';\n\nfunction Section04Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  let legend;\n  if (steps === 1) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-yes\"></div>\n          <p className=\"mig-yes\">Household answered \"Yes\"</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household answered \"No\"</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 2) {\n    legend = (\n      <div className=\"legend-container \">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household does not want to migrate</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 3) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n      </div>\n    );\n  } else {\n    legend = <div></div>;\n  }\n\n  return (\n    <div className=\"section scroll\">\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container tall\">\n              <p className=\"chart-title\">\n                Food security and migration intention.\n              </p>\n              {legend}\n            </div>\n\n            <div className=\"chart-wrapper\">\n              <GridSecureChartWrapper steps={steps} direction={direction} />\n              <GridInsecureChartWrapper steps={steps} direction={direction} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2> Higher migration desire?</h2>\n                <p>\n                  <span className=\"red\">44% of the food secure</span> have a\n                  desire to migrated, compared with{' '}\n                  <span className=\"red\">\n                    37% of those who are food insecure\n                  </span>\n                  . Does this mean food security will actually drive people to\n                  migrate?\n                </p>\n                <br />\n                <p>\n                  However it takes{' '}\n                  <span className=\"blue\">more than just desire</span> to\n                  migrate.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Desire does not equal to action.</h2>\n                <p>\n                  Even though food secure people are more likely to say they\n                  want to migrate, it is important to consider{' '}\n                  <span className=\"red\">\n                    how serious those people are for the action of migration\n                  </span>\n                  .\n                </p>\n                <br />\n                <p>\n                  Thus, we classified those who answered yes to migrate to{' '}\n                  <span className=\"blue\">three groups</span> based on the level\n                  of preparation they have for migration in the near future.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>\n                  The food insecure are more likely to take actual action.\n                </h2>\n                <p>\n                  The ratio of having the intention to migrate and having plans\n                  or preparations is:\n                  <br />\n                  <li>\n                    <span className=\"blue\">14% among the food secure</span>\n                  </li>\n                  <li>\n                    <span className=\"red\">19% among the food insecure. </span>\n                  </li>\n                </p>\n                <br />\n                <p>\n                  Given <span className=\"red\">the food insecure</span> are\n                  already struggling with basic needs such as food, their plans\n                  to migrate are more likely to be{' '}\n                  <span className=\"red\">out of desperation</span> rather than{' '}\n                  <span className=\"blue\">by choice </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section04Scroll;\n","import { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section05Pie = () => {\n  const section05cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section05cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section05cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"content-container\">\n        <div\n          className=\"section-card\"\n          id=\"section05cardRef\"\n          ref={section05cardRef}\n        >\n          <h1>\n            Is <span className=\"red\">migration plan </span>\n            related to <br />\n            the <span className=\"red\">economic pressure on food?</span>\n          </h1>\n          <p>\n            For those who suffer food insecurity tend to make solid plan and\n            preparation to migrate than those don’t have food issue. To answer\n            this, we need to study the how many people have to work to ensure\n            food security and understand how economic status impact migration\n            plan and action.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section05Pie;\n","import * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\n\n// TODO: Trigger transition on scrolled to section\n// TODO: Add hover tooltips\n\nconst DonutChart = ({ dataArray, colorsArray }) => {\n  const svgRef = useRef(null);\n\n  const generateDonutChart = (\n    data,\n    {\n      name = ([x]) => x, // given d in data, returns the (ordinal) label\n      value = ([, y]) => y, // given d in data, returns the (quantitative) value\n      title, // given d in data, returns the title text\n      width = 640, // outer width, in pixels\n      height = 400, // outer height, in pixels\n      innerRadius = Math.min(width, height) / 4, // inner radius of pie, in pixels (non-zero for donut)\n      outerRadius = Math.min(width, height) / 2, // outer radius of pie, in pixels\n      labelRadius = (innerRadius + outerRadius) / 2, // center radius of labels\n      format = ',', // a format specifier for values (in the label)\n      names, // array of names (the domain of the color scale)\n      colors, // array of colors for names\n      stroke = innerRadius > 0 ? 'none' : 'white', // stroke separating widths\n      strokeWidth = 4, // width of stroke separating wedges\n      padAngle = stroke === 'none' ? 1 / outerRadius : 0, // angular separation between wedges\n    } = {}\n  ) => {\n    // Compute values.\n    const N = d3.map(data, name);\n    const V = d3.map(data, value);\n    const I = d3.range(N.length).filter((i) => !isNaN(V[i]));\n\n    // Unique the names.\n    if (names === undefined) names = N;\n    names = new d3.InternSet(names);\n\n    // Chose a default color scheme based on cardinality.\n    if (colors === undefined) {\n      colors = d3.schemeSpectral[names.size];\n    }\n    if (colors === undefined) {\n      colors = d3.quantize(\n        (t) => d3.interpolateSpectral(t * 0.8 + 0.1),\n        names.size\n      );\n    }\n\n    // Construct scales.\n    const color = d3.scaleOrdinal(names, colors);\n\n    // Compute titles.\n    if (title === undefined) {\n      const formatValue = d3.format(format);\n      title = (i) => `${N[i]}\\n${formatValue(V[i])}`;\n    } else {\n      const O = d3.map(data, (d) => d);\n      const T = title;\n      title = (i) => T(O[i], i, data);\n    }\n\n    // Construct arcs.\n    const arcs = d3\n      .pie()\n      .padAngle(padAngle)\n      .sort(null)\n      .value((i) => V[i])(I);\n    const arc = d3.arc().innerRadius(innerRadius).outerRadius(outerRadius);\n    const arcLabel = d3.arc().innerRadius(labelRadius).outerRadius(labelRadius);\n\n    d3.select(svgRef.current)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('viewBox', [-width / 2, -height / 2, width, height])\n      .attr('style', 'max-width: 100%; height: auto; height: intrinsic;')\n      .append('g')\n      .attr('stroke', stroke)\n      .attr('stroke-width', strokeWidth)\n      .attr('stroke-linejoin', 'round')\n      .selectAll('path')\n      .data(arcs)\n      .join('path')\n      .attr('fill', (d) => color(N[d.data]))\n      .attr('d', arc)\n      .append('title')\n      .text((d) => title(d.data));\n\n    const path = d3.select(svgRef.current).selectAll('path');\n    path\n      .transition()\n      .duration(480)\n      .ease(d3.easeLinear)\n      .attrTween('d', (d) => {\n        const i = d3.interpolate(d.startAngle + 0.1, d.endAngle);\n        return function (t) {\n          d.endAngle = i(t);\n          return arc(d);\n        };\n      });\n\n    d3.select(svgRef.current)\n      .append('g')\n      .attr('font-family', 'sans-serif')\n      .attr('font-size', 16)\n      .attr('text-anchor', 'middle')\n      .selectAll('text')\n      .data(arcs)\n      .join('text')\n      .attr('transform', (d) => `translate(${arcLabel.centroid(d)})`)\n      .selectAll('tspan')\n      .data((d) => {\n        const lines = `${title(d.data)}`.split(/\\n/);\n        return d.endAngle - d.startAngle > 0.25 ? lines : lines.slice(0, 1);\n      })\n      .join('tspan')\n      .attr('x', 0)\n      .attr('y', (_, i) => `${i * 1.1}em`)\n      .attr('font-weight', (_, i) => (i ? null : 'bold'))\n      .attr('style', 'fill:#fff')\n      .text((d) => d);\n  };\n\n  useEffect(() => {\n    generateDonutChart(dataArray, {\n      name: (d) => d.name,\n      value: (d) => d.value,\n      width: 400,\n      height: 250,\n      names: dataArray.map((d) => d.name),\n      colors: colorsArray,\n      stroke: 'none',\n      title: (d) => `${d.value}%`,\n    });\n  }, [dataArray, colorsArray]);\n\n  return <svg className=\"donut-chart\" ref={svgRef}></svg>;\n};\n\nexport default DonutChart;\n","import React, { memo } from 'react';\nimport DonutChart from '../charts/DonutChart';\n\nconst Square = ({ color, width }) => (\n  <div style={{ backgroundColor: color, width: width, height: width }}></div>\n);\n\nconst Section05Pie = () => {\n  return (\n    <div className=\"section regular center\">\n      <div className=\"donut-chart-container\">\n        <div className=\"legend-container\">\n          <div className=\"top-legend\">\n            <Square color=\"#DFBFBF\" width={18} />\n            <span>Have to work for food but NO PLAN to migrate</span>\n          </div>\n          <div className=\"top-legend\">\n            <Square color=\"#CC0000\" width={18} />\n            <span>Have to work for food and HAVE PLAN to migrate</span>\n          </div>\n        </div>\n\n        <div className=\"main-content\">\n          <div className=\"donut-chart-wrapper\">\n            <p className=\"title\">NO PLAN TO MIGRATE</p>\n            <DonutChart\n              dataArray={[\n                { name: 'a', value: 77 },\n                { name: 'b', value: 23 },\n              ]}\n              colorsArray={['#D9D9D9', '#DFBFBF']}\n            />\n            <div className=\"donut-chart-footer\">\n              <div className=\"bottom-legend\">\n                <Square color=\"#D9D9D9\" width={14} />\n                <span>NOT WORK FOR FOOD</span>\n              </div>\n              <div className=\"bottom-legend\">\n                <Square color=\"#DFBFBF\" width={14} />\n                <span>WORK FOR FOOD</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"divider\"></div>\n          <div className=\"donut-chart-wrapper\">\n            <p className=\"title\">HAS PLAN TO MIGRATE</p>\n            <DonutChart\n              dataArray={[\n                { name: 'a', value: 68 },\n                { name: 'b', value: 32 },\n              ]}\n              colorsArray={['#D9D9D9', '#CC0000']}\n            />\n            <div className=\"donut-chart-footer\">\n              <div className=\"bottom-legend\">\n                <Square color=\"#D9D9D9\" width={14} />\n                <span>NOT WORK FOR FOOD</span>\n              </div>\n              <div className=\"bottom-legend\">\n                <Square color=\"#CC0000\" width={14} />\n                <span>WORK FOR FOOD</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Section05Pie);\n","// import { Transition, animated } from 'react-spring';\nimport React, { useState, useEffect, useRef } from 'react';\n\nimport Layout from './components/layout/Layout';\nimport Intro from './components/section/Intro';\nimport Outro from './components/section/Outro';\n\nimport Section01Map from './components/section/Section01Map';\n\nimport Section02Scroll from './components/section/Section02Scroll';\n\nimport Section03DotCard from './components/section/Section03DotCard';\nimport Section03Scroll from './components/section/Section03Scroll';\n\nimport Section04GridCard from './components/section/Section04GridCard';\nimport Section04Scroll from './components/section/Section04Scroll';\n\nimport Section05PieCard from './components/section/Section05PieCard';\nimport Section05Pie from './components/section/Section05Pie';\nimport Footer from './components/layout/Footer';\n\nexport default function App() {\n  const ref = useRef(null);\n  const [preloader, setPreload] = useState(true);\n\n  // useLocoScroll(!preloader);\n\n  useEffect(() => {\n    if (!preloader && ref) {\n      if (typeof window === 'undefined' || !window.document) {\n        return;\n      }\n    }\n  }, [preloader]);\n\n  const [timer, setTimer] = React.useState(2);\n\n  const id = React.useRef(null);\n\n  const clear = () => {\n    window.clearInterval(id.current);\n    setPreload(false);\n  };\n\n  React.useEffect(() => {\n    id.current = window.setInterval(() => {\n      setTimer((time) => time - 1);\n    }, 1000);\n    return () => clear();\n  }, []);\n\n  React.useEffect(() => {\n    if (timer === 0) {\n      clear();\n    }\n  }, [timer]);\n\n  if (typeof window === 'undefined' || !window.document) {\n    return null;\n  }\n\n  return (\n    <>\n      {preloader ? (\n        <div className=\"section regular loader-wrapper absolute\">\n          <h1>Is Food Security a Solution to Migration?</h1>\n        </div>\n      ) : (\n        <Layout\n          className=\"main-container\"\n          id=\"main-container\"\n          data-scroll-container\n          ref={ref}\n        >\n          <Intro />\n\n          <Section01Map />\n\n          <Section02Scroll />\n\n          <Section03DotCard />\n          <Section03Scroll />\n\n          <Section04GridCard />\n          <Section04Scroll />\n\n          <Section05PieCard />\n          <Section05Pie />\n\n          <Outro />\n        </Layout>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}