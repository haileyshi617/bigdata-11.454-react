(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(39),r=a.n(i),c=(a(65),a(1));var l=function(){return Object(c.jsx)("div",{className:"progress-bar",children:"Progress Bar"})};var o=function(){return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsx)("h1",{children:"Team"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Huiwen Shi"}),Object(c.jsx)("li",{children:"Rui Wang"}),Object(c.jsx)("li",{children:"Ziyi Tang"}),Object(c.jsx)("li",{children:"Yingu Pan"})]})]})};var d=function(e){return Object(c.jsxs)("div",{className:"layout",children:[Object(c.jsx)(l,{}),Object(c.jsx)("main",{className:"main",children:e.children}),Object(c.jsx)(o,{})]})};function u(){return Object(c.jsxs)("div",{className:"section center intro",children:[Object(c.jsxs)("div",{className:"header-container",children:[Object(c.jsx)("h1",{children:"Food Security and Migration"}),Object(c.jsx)("p",{className:"subtitle",children:"A Data Visualization Story in Northern Triangle Region of Central America"})]}),Object(c.jsx)("small",{children:"SCROLL TO CONTINUE"})]})}var j=function(){return Object(c.jsx)("div",{className:"section outro",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"summary",children:[Object(c.jsx)("h1",{children:"Summary"}),Object(c.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut pharetra sit amet. Et magnis dis parturient montes nascetur ridiculus."}),Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut pharetra sit amet. Et magnis dis parturient montes nascetur ridiculus."}),Object(c.jsx)("p",{children:"Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor."})]}),Object(c.jsxs)("div",{className:"sources",children:[Object(c.jsxs)("div",{className:"reference",children:[Object(c.jsx)("h1",{children:"Reference"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(c.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]}),Object(c.jsxs)("div",{className:"data-source",children:[Object(c.jsx)("h1",{children:"Data Source"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(c.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(c.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]})]})]})})},h=function(e){var t=e.header,a=e.main;return Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:t}),Object(c.jsx)("p",{children:a})]})},m=a(4),b=a(3),p=window.innerWidth,f=window.innerHeight,x=["GTM","HND","SLV"],g="#f8ad96",O="#eb5832",v="#f0f0f0",y="#bcbcbc",N=function(){var e=s.a.useRef(null),t=s.a.useRef(null),a=Object(n.useState)(null),i=Object(m.a)(a,2),r=i[0],l=i[1];Object(n.useEffect)((function(){b.j("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then((function(e){l(e)}))}),[]);var o=b.o(t.current).attr("width",p).attr("height",f).append("g").attr("transform","translate(".concat(7*p/8,", ").concat(f/6,")"));return Object(n.useEffect)((function(){if(r){var e=b.h().scale(p/.6/Math.PI).translate([p/2,f/2]),t=o.selectAll("path").data(r.features),a=b.o("#tooltip-map");t.enter().append("path").on("mouseover",(function(e,t){a.html("<p>In <span>".concat(t.properties.name,"</span>, around <span>(??)%</span> of the population migrate to the US.<p>")).style("left","".concat(.8*e.clientX,"px")).style("top",(function(){return e.clientY-window.innerHeight/2>0?"".concat(.8*e.clientY,"px"):"".concat(e.clientY,"px")})).classed("hidden",!1),b.o(this).attr("fill",(function(e){return x.includes(e.id)?O:y}))})).on("mouseout",(function(e,t){a.classed("hidden",!0),b.o(this).attr("fill",(function(e){return x.includes(e.id)?g:v}))})).attr("fill",v).transition().duration(1e3).attr("fill",(function(e){return x.includes(e.id)?g:v})).attr("d",b.i().projection(e)).style("stroke","#fff").style("stroke-width",1).attr("class","Country")}}),[r]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"tooltip-map",className:"tooltip hidden",ref:e}),Object(c.jsx)("svg",{className:"map-chart",ref:t})]})},w=(a(163),function(){return Object(c.jsxs)("div",{className:"section migration",children:[Object(c.jsx)(N,{}),Object(c.jsxs)("div",{className:"section-card  no-hover",children:[Object(c.jsxs)("h1",{children:[Object(c.jsx)("span",{className:"red",children:"Migration status"}),Object(c.jsx)("br",{})," in the Northern Triangle Region"]}),Object(c.jsx)("p",{children:"Migration from Central America to the U.S. began rising notably in the 1980s, and continued to increase in subsequent decades."}),Object(c.jsx)("br",{}),Object(c.jsxs)("p",{children:["More recently, the number of immigrants \u2013",Object(c.jsx)("span",{children:"lawful and unauthorized"})," \u2013 from the three Northern Triangle nations ",Object(c.jsx)("span",{children:"rose by 25%"})," between 2007 and 2015. During that same period, the immigrant population from Mexico, the largest birth country for U.S. immigrants, declined 6%."]})]})]})}),S=a(10),_=a.p+"static/media/food-global.2b92dcb9.csv",D=0,k=50,I=30,A=30,E=1e3-I-A,F=450-D-k,H=["Honduras","El Salvador","Guatemala","United States of America"],R=4,M=5,T=1,L=3,z="#6bbaad",G="#eb5832",U="#DFEBE8",q="#EBD7D0",B="#F3F3F3",P="#808080",Y=function(e){var t=e.steps,a=e.direction,i=s.a.useRef(null),r=s.a.useRef(null),l=Object(n.useState)(null),o=Object(m.a)(l,2),d=o[0],u=o[1];Object(n.useEffect)((function(){b.b(_).then((function(e){u(e)}))}),[]);var j=b.o(r.current).attr("width","100%").attr("viewBox","0 0 ".concat(E+I+A," ").concat(F+D+k)).attr("preserveAspectRatio","xMaxYMin meet").append("g").attr("transform","translate(".concat(I,", ").concat(D,")"));j.append("g").attr("transform","translate(0, ".concat(F,")"));return Object(n.useEffect)((function(){if(d){var e=b.o("#tooltip-food-global"),n=function(t,a){e.html('<p class="header"><span> '.concat(a.country,' </span></p>\n                    <p class="moderate"> Moderate Hunger: ').concat(a.moderate,"% </p>\n                    <p> Severe Hunger: ").concat(a.severe,"% </p>")).style("left","".concat(.7*t.clientX,"px")).style("top","".concat(.5*t.clientY,"px")).classed("hidden",!1),j.selectAll(".bellchart-".concat(a.index)).style("r",M).style("stroke",P).attr("stroke-width",T)},s=function(t,a){e.classed("hidden",!0),j.selectAll(".bellchart-".concat(a.index)).style("r",R).style("stroke","transparent").attr("stroke-width",(function(e){return H.includes(e.country)?L:T})).selectAll("line").style("stroke",B)},i=b.n().domain([b.l(d,(function(e){return e.severe})),b.k(d,(function(e){return e.moderate}))]).nice().range([F,0]),r=b.m().domain(d.map((function(e){return e.country}))).range([0,E]).padding(.4),c=d.filter((function(e){return H.includes(e.country)})),l=(j.append("g").attr("class","lines").selectAll("myLine").data(d).enter().append("line").attr("class",(function(e){return"bellchart-".concat(e.index)})).on("mouseover",n).on("mouseout",s).attr("x1",(function(e){return r(e.country)})).attr("x2",(function(e){return r(e.country)})).attr("y1",(function(e){return i(e.moderate)})).attr("y2",(function(e){return i(e.moderate)})).attr("y1",(function(e){return i(e.moderate)})).attr("y2",(function(e){return i(e.severe)})).attr("stroke",B).attr("stroke-width",(function(e){return H.includes(e.country)?L:T})),j.append("g").attr("class","circleModerate").selectAll("myCircle").data(d).enter().append("circle").on("mouseover",n).on("mouseout",s).attr("cx",(function(e){return r(e.country)})).attr("cy",(function(e){return i(e.moderate)})).attr("class",(function(e){return"bellchart-".concat(e.index)})).style("fill",B).attr("r",R)),o=j.append("g").attr("class","circleSevere").selectAll("myCircle").data(d).enter().append("circle").on("mouseover",n).on("mouseout",s).attr("cx",(function(e){return r(e.country)})).attr("cy",(function(e){return i(e.severe)})).attr("class",(function(e){return"bellchart-".concat(e.index)})).style("fill",B).attr("r",R),u=j.append("g").attr("class","NTlabel").selectAll("text").data(c).enter().append("text").attr("y",(function(e){return"El Salvador"===e.country?i(e.moderate)-30:"Guatemala"===e.country?i(e.moderate)-35:i(e.moderate)-20})).attr("x",(function(e){return r(e.country)})).attr("text-anchor","middle").attr("fill",P).attr("font-size","12px").text((function(e){return e.country}));j.append("g").transition().ease(b.c).duration(1e3).call((function(e){return e.call(b.a(i).ticks(5).tickFormat((function(e,t){return"".concat(e,"%")}))).style("color",P)})),1===t&&"down"===a&&u.transition().ease(b.c).duration(500).style("fill",(function(e){return"United States of America"===e.country?z:G})),2===t&&("down"===a?(u.transition().ease(b.c).duration(500).style("fill",P),l.transition().ease(b.c).duration(500).style("fill",(function(e){return H.includes(e.country)?z:U})),o.transition().ease(b.c).duration(500).style("fill",(function(e){return H.includes(e.country)?G:q}))):(u.style("fill",P),l.style("fill",(function(e){return H.includes(e.country)?z:U})),o.style("fill",(function(e){return H.includes(e.country)?G:q})))),t>2&&(l.style("fill",(function(e){return H.includes(e.country)?z:U})),o.style("fill",(function(e){return H.includes(e.country)?G:q})),u.style("fill",P))}}),[d,t,a]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"tooltip-food-global",className:"tooltip hidden",ref:i}),Object(c.jsx)("svg",{className:"grid-chart",ref:r})]})};var C=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(null),r=Object(m.a)(i,2),l=r[0],o=r[1],d=Object(n.useState)(null),u=Object(m.a)(d,2),j=(u[0],u[1]);return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"main ",children:[Object(c.jsx)("div",{className:"main__graphic",children:Object(c.jsxs)("div",{className:"scroll-chart-content-container",children:[Object(c.jsxs)("div",{className:"title-container",children:[Object(c.jsx)("p",{className:"chart-title",children:"Food insecurity varies greatly."}),a>1&&Object(c.jsxs)("div",{className:"legend-container",children:[Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block dot no"}),Object(c.jsx)("p",{className:"no",children:"Moderate Hunger"})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block dot yes"}),Object(c.jsx)("p",{className:"yes",children:"Severe Hunger"})]})]})]}),Object(c.jsx)(Y,{steps:a,direction:l})]})}),Object(c.jsx)("div",{className:"scroller",children:Object(c.jsxs)(S.a,{onStepEnter:function(e){var t=e.data,a=(e.entry,e.direction);s(t),o(a)},onStepExit:function(){},progress:!0,onStepProgress:function(e){var t=e.progress;j(t)},offset:"0.5",children:[Object(c.jsx)(S.b,{data:1,value:1,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"Countries vary."}),Object(c.jsxs)("p",{children:["In the Northern Triangle Regions,",Object(c.jsx)("span",{className:"red",children:" more than 13.8 percent"})," people are likely to experience severe hunger, compared to the United States",Object(c.jsx)("span",{className:"blue",children:" less than 2 percent"})," people are facing similar difficulty."]})]})}),Object(c.jsx)(S.b,{data:2,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"Severities varies."}),Object(c.jsxs)("p",{children:["In the Northern Triangle Regions,",Object(c.jsx)("span",{className:"red",children:" more than 45.6 percent"})," people are likely to experience some level of hunger, compared to the United States",Object(c.jsx)("span",{className:"blue",children:" less than 1 percent"})," people are facing similar difficulty."]})]})},2),Object(c.jsx)(S.b,{data:3,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"What does it mean?"}),Object(c.jsx)("p",{children:"Since the Northern Triangle Regions are far worse in food security, we further explored the survey data to find the relationship between migration and food insecurity."})]})},3),Object(c.jsx)(S.b,{data:4,children:Object(c.jsx)("div",{className:"step"})},4)]})})]})})},W=function(){return Object(c.jsx)("div",{className:"section",children:Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsxs)("h1",{children:["Is food security ",Object(c.jsx)("span",{className:"red",children:"a solution to"}),Object(c.jsx)("br",{})," migration issue?"]}),Object(c.jsx)("p",{children:"Since those three countries are having food security issues and contribute to a large proportion of migration in the US, it is tempting to say that maybe increasing food security is a solution to migration. However, the survey suggests otherwise."})]})})};var V=a(44),X=a.p+"static/media/cari-mig.9035924e.csv",J="#B0D9D5",Z="#F8AD96",K="#EB5832",Q="#e0e0e0",$=function(e){var t=e.steps,a=e.direction,i=s.a.useRef(null),r=s.a.useRef(null),l=Object(n.useState)(null),o=Object(m.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(null),h=Object(m.a)(j,2),p=(h[0],h[1],"932"),f={x:466,y:400},x=.02,g=[233,466,699,p],O=[233,466,699,p],v=b.o(r.current).style("width","100vw").style("height","800px").attr("text-anchor","middle");function y(e){return-Math.pow(e.radius,2)*x}return Object(n.useEffect)((function(){b.b(X).then((function(e){u(e.slice(0,3e3).map((function(e){return Object(V.a)(Object(V.a)({},e),{},{radius:2})})))}))}),[]),Object(n.useEffect)((function(){if(d){var e=d,n=b.e(e).velocityDecay(.2).force("x",b.f().strength(x).x(f.x)).force("y",b.g().strength(x).y(f.y)).force("charge",b.d().strength(y)).on("tick",i),s=v.selectAll("circle").data(e).join("circle").attr("r",(function(e){return e.radius})).attr("fill",(function(e){return"2"==e.cari?J:"3"==e.cari?Z:"4"==e.cari?K:Q}));function i(){s.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}1==t&&"down"==a?n.force("x",b.f().strength(x).x(f.x)):2==t?n.force("x",b.f().strength(x).x((function(e){return O[+e.cari-1]}))):3!=t&&4!=t||n.force("x",b.f().strength(x).x((function(e){return g[+e.ifMig]})))}}),[t,d]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"survey-tooltip hidden",ref:i}),Object(c.jsx)("svg",{className:"survey-chart",ref:r})]})};var ee=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(null),r=Object(m.a)(i,2),l=(r[0],r[1]),o=Object(n.useState)(null),d=Object(m.a)(o,2),u=(d[0],d[1]);return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)("div",{className:"main__graphic",children:Object(c.jsx)($,{steps:a,className:"survey"})}),Object(c.jsx)("div",{className:"scroller",children:Object(c.jsxs)(S.a,{onStepEnter:function(e){var t=e.data,a=(e.entry,e.direction);u(a),s(t)},progress:!0,onStepProgress:function(e){var t=e.progress;l(t)},offset:"0.8",children:[Object(c.jsx)(S.b,{data:1,value:1,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"4996 Survey response"}),Object(c.jsx)("p",{children:"In an ??-month investigation, the World Food Programme (WFP) has conducted a survey of civilians in the Northern Triangle region, compiling a database of 4996 responses with information on a number of dimensions."})]})}),Object(c.jsx)(S.b,{data:2,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"The majority are suffering from food insecurity"}),Object(c.jsxs)("p",{children:["In terms of",Object(c.jsx)("span",{className:"red",children:" food insecurity level"}),", the participants are classified into 4 groups based on CARI food security indicators given from WFP."]})]})},2),Object(c.jsx)(S.b,{data:3,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"Around half have migration desire"}),Object(c.jsx)("p",{children:"Of all the participants, 43% have migration desire."})]})},3),Object(c.jsx)(S.b,{data:4,children:Object(c.jsx)("div",{className:"step"})},4)]})})]})})},te=function(){var e="Food security may have some impact on people's desire and action on migration. What kind of relationship could we see from this survey? ",t="From the previous data, we can see a larger proportion of people suffering food insecurity. How many of these people may want to migrate as opposed of those who have adequate food? \n    ";return Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(h,{header:e,main:t})})},ae=a(5),ne=a(8),se=a.p+"static/media/food-secure-mig-int.4eeae34c.csv",ie=a.p+"static/media/food-secure-mig-prep.764b7a0b.csv",re=0,ce=0,le=0,oe=0,de=window.innerWidth-le-oe,ue=200-re-ce,je=5,he=2,me="#efefef",be="#eb5832",pe="#F3EBEB",fe="#e2b9ad",xe="#eb5832";function ge(e,t){for(var a=1,n=1,s=de/80,i=s,r=new Array,c=0,l=0;l<80;l++){for(var o=0;o<t;o++)r.push({x:a,y:n,width:s,height:i,visData:e[c]}),n+=i,c++;n=1,a+=s}return r}var Oe=function(){function e(t,a,n){Object(ae.a)(this,e);var s=this;s.svg=b.o(t).append("svg").attr("viewBox","0 0 ".concat(de+le+oe," ").concat(ue+re+ce)).attr("preserveAspectRatio","xMinYMin slice").append("g").attr("transform","translate(".concat(le,", ").concat(re,")")),s.xAxisGroup=s.svg.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(ue,")")),s.yAxisGroup=s.svg.append("g").attr("id","y-axis"),Promise.all([b.b(se),b.b(ie)]).then((function(e){s.intention=e[0],s.preparation=e[1],s.update(a,n)}))}return Object(ne.a)(e,[{key:"update",value:function(e,t){var a=this;a.data=a.intention,a.gridData=ge(a.data,je),e&&1!==e&&2!==e?(a.data=a.preparation,a.gridData=ge(a.data,he)):(a.data=a.intention,a.gridData=ge(a.data,je)),a.svg.selectAll(".grid").remove();var n=a.svg.selectAll(".grid").data(a.gridData);n.exit().remove(),n.enter().append("rect").attr("class","grid").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).on("mouseover",(function(e,t){var a=t.visData,n={country:"",neighborhood:"",ruralUrban:"",age:"",sex:"",familySize:""};"GT"===a.country?n.country="Guatemala":"SLV"===a.country?n.country="El Salvador":n.country="Honduras";n.neighborhood=a.neighborhood,"1"===a.ruralUrban?n.rural_urban="urban":n.rural_urban="rural","1"===a.sex?n.sex="Male":n.sex="Female",n.age=a.age,n.familySize=a.family_size,i.style("left","".concat(.5*e.clientX,"px")).style("top","".concat(.1*e.clientY,"px")).html('<p class="header"><span>'.concat(n.sex,", ").concat(n.age,"</span></p>\n        <p> Living in ").concat(n.rural_urban," area in ").concat(n.country,", with a family size of ").concat(n.familySize,".</p>")).classed("hidden",!1)})).on("mouseout",(function(e,t){i.classed("hidden",!0)})).style("fill","#efefef").style("stroke","#fff");var s=a.svg.selectAll("rect");"down"===t&&(1===e&&s.transition().ease(b.c).duration(300).style("fill",(function(e){return"0"===e.visData.mig_int_global?me:be})),2===e&&s.transition().ease(b.c).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?me:0===parseInt(e.visData.mig_plan_global)?pe:0===parseInt(e.visData.mig_prep_global)?fe:xe})),3===e&&s.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?pe:0===parseInt(e.visData.mig_prep_global)?fe:xe}))),"up"===t&&(1===e&&s.transition().ease(b.c).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?me:be})),2===e&&s.style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?me:0===parseInt(e.visData.mig_plan_global)?pe:0===parseInt(e.visData.mig_prep_global)?fe:xe})),3===e&&s.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?pe:0===parseInt(e.visData.mig_prep_global)?fe:xe})));var i=b.o("#tooltip-grid")}}]),e}(),ve=function(e){var t,a=e.steps,i=e.direction,r=Object(n.useState)(null),l=Object(m.a)(r,2),o=l[0],d=l[1],u=s.a.useRef(null),j=s.a.useRef(null);return Object(n.useEffect)((function(){o?o.intention&&o.update(a,i):d(new Oe(j.current,a,i))}),[o,a,i]),t=a>=3?Object(c.jsxs)("div",{className:"axis-container",children:[Object(c.jsx)("small",{children:"0"}),Object(c.jsx)("small",{children:"40"}),Object(c.jsx)("small",{children:"60"}),Object(c.jsx)("small",{children:"80"}),Object(c.jsx)("small",{children:"160"})]}):Object(c.jsxs)("div",{className:"axis-container",children:[Object(c.jsx)("small",{children:"0"}),Object(c.jsx)("small",{children:"100"}),Object(c.jsx)("small",{children:"200"}),Object(c.jsx)("small",{children:"300"}),Object(c.jsx)("small",{children:"400"})]}),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"chart-container",children:[Object(c.jsx)("p",{children:"Food Secure Group"}),t,Object(c.jsx)("div",{id:"tooltip-grid",className:"tooltip hidden",ref:u}),Object(c.jsx)("svg",{className:"grid-chart chart-area",ref:j})]})})},ye=a.p+"static/media/food-insecure-mig-int.7aef0d68.csv",Ne=a.p+"static/media/food-insecure-mig-prep.e947a1eb.csv",we=0,Se=0,_e=0,De=0,ke=window.innerWidth-_e-De,Ie=200-we-Se,Ae=5,Ee=2,Fe="#efefef",He="#eb5832",Re="#F3EBEB",Me="#e2b9ad",Te="#eb5832";function Le(e,t){for(var a=1,n=1,s=ke/80,i=s,r=new Array,c=0,l=0;l<80;l++){for(var o=0;o<t;o++)r.push({x:a,y:n,width:s,height:i,visData:e[c]}),n+=i,c++;n=1,a+=s}return r}var ze=function(){function e(t,a,n){Object(ae.a)(this,e);var s=this;s.svg=b.o(t).append("svg").attr("viewBox","0 0 ".concat(ke+_e+De," ").concat(Ie+we+Se)).attr("preserveAspectRatio","xMinYMin slice").append("g").attr("transform","translate(".concat(_e,", ").concat(we,")")),s.xAxisGroup=s.svg.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(Ie,")")),s.yAxisGroup=s.svg.append("g").attr("id","y-axis"),Promise.all([b.b(ye),b.b(Ne)]).then((function(e){s.intention=e[0],s.preparation=e[1],s.update(a,n)}))}return Object(ne.a)(e,[{key:"update",value:function(e,t){var a=this;a.data=a.intention,a.gridData=Le(a.data,Ae),e&&1!==e&&2!==e?(a.data=a.preparation,a.gridData=Le(a.data,Ee)):(a.data=a.intention,a.gridData=Le(a.data,Ae)),a.svg.selectAll(".grid").remove();var n=a.svg.selectAll(".grid").data(a.gridData);n.exit().remove(),n.enter().append("rect").attr("class","grid").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).on("mouseover",(function(e,t){var a=t.visData,n={country:"",neighborhood:"",ruralUrban:"",age:"",sex:"",familySize:""};"GT"===a.country?n.country="Guatemala":"SLV"===a.country?n.country="El Salvador":n.country="Honduras";n.neighborhood=a.neighborhood,"1"===a.ruralUrban?n.rural_urban="urban":n.rural_urban="rural","1"===a.sex?n.sex="Male":n.sex="Female",n.age=a.age,n.familySize=a.family_size,i.style("left","".concat(.5*e.clientX,"px")).style("top","".concat(.1*e.clientY,"px")).html('<p class="header"><span>'.concat(n.sex,", ").concat(n.age,"</span></p>\n        <p> Living in ").concat(n.rural_urban," area in ").concat(n.country,", with a family size of ").concat(n.familySize,".</p>")).classed("hidden",!1)})).on("mouseout",(function(e,t){i.classed("hidden",!0)})).style("fill","#efefef").style("stroke","#fff");var s=a.svg.selectAll("rect");"down"===t&&(1===e&&s.transition().ease(b.c).duration(300).style("fill",(function(e){return"0"===e.visData.mig_int_global?Fe:He})),2===e&&s.transition().ease(b.c).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?Fe:0===parseInt(e.visData.mig_plan_global)?Re:0===parseInt(e.visData.mig_prep_global)?Me:Te})),3===e&&s.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Re:0===parseInt(e.visData.mig_prep_global)?Me:Te}))),"up"===t&&(1===e&&s.transition().ease(b.c).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?Fe:He})),2===e&&s.style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?Fe:0===parseInt(e.visData.mig_plan_global)?Re:0===parseInt(e.visData.mig_prep_global)?Me:Te})),3===e&&s.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Re:0===parseInt(e.visData.mig_prep_global)?Me:Te})));var i=b.o("#tooltip-grid")}}]),e}(),Ge=function(e){var t,a=e.steps,i=e.direction,r=Object(n.useState)(null),l=Object(m.a)(r,2),o=l[0],d=l[1],u=s.a.useRef(null),j=s.a.useRef(null);return Object(n.useEffect)((function(){o?o.intention&&o.update(a,i):d(new ze(j.current,a,i))}),[o,a,i]),t=a>=3?Object(c.jsxs)("div",{className:"axis-container",children:[Object(c.jsx)("small",{children:"0"}),Object(c.jsx)("small",{children:"40"}),Object(c.jsx)("small",{children:"60"}),Object(c.jsx)("small",{children:"80"}),Object(c.jsx)("small",{children:"160"})]}):Object(c.jsxs)("div",{className:"axis-container",children:[Object(c.jsx)("small",{children:"0"}),Object(c.jsx)("small",{children:"100"}),Object(c.jsx)("small",{children:"200"}),Object(c.jsx)("small",{children:"300"}),Object(c.jsx)("small",{children:"400"})]}),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"chart-container",children:[Object(c.jsx)("p",{children:"Food Insecure Group"}),t,Object(c.jsx)("div",{id:"tooltip-grid",className:"tooltip hidden",ref:u}),Object(c.jsx)("svg",{className:"grid-chart chart-area",ref:j})]})})};var Ue=function(){var e,t=Object(n.useState)(null),a=Object(m.a)(t,2),s=a[0],i=a[1],r=Object(n.useState)(null),l=Object(m.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(null),j=Object(m.a)(u,2),h=(j[0],j[1]);return e=1===s?Object(c.jsxs)("div",{className:"legend-container",children:[Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-no"}),Object(c.jsx)("p",{className:"mig-no",children:'Household answered "No"'})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-yes"}),Object(c.jsx)("p",{className:"mig-yes",children:'Household answered "Yes"'})]})]}):2===s?Object(c.jsxs)("div",{className:"legend-container",children:[Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-no"}),Object(c.jsx)("p",{className:"mig-no",children:"Household does not want to migrate"})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-scale-1"}),Object(c.jsx)("p",{className:"mig-scale-1",children:"Household wants to migrate but has no plan"})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-scale-2"}),Object(c.jsx)("p",{className:"mig-scale-2",children:"Household has plan but no preparation"})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-scale-3"}),Object(c.jsx)("p",{className:"mig-scale-3",children:"Household has plan and preparation"})]})]}):3===s?Object(c.jsxs)("div",{className:"legend-container",children:[Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-scale-1"}),Object(c.jsx)("p",{className:"mig-scale-1",children:"Household wants to migrate but has no plan"})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-scale-2"}),Object(c.jsx)("p",{className:"mig-scale-2",children:"Household has plan but no preparation"})]}),Object(c.jsxs)("div",{className:"legend",children:[Object(c.jsx)("div",{className:"legend-block mig-scale-3"}),Object(c.jsx)("p",{className:"mig-scale-3",children:"Household has plan and preparation"})]})]}):Object(c.jsx)("div",{}),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"main ",children:[Object(c.jsx)("div",{className:"main__graphic",children:Object(c.jsxs)("div",{className:"scroll-chart-content-container",children:[Object(c.jsxs)("div",{className:"title-container",children:[Object(c.jsx)("p",{className:"chart-title",children:"Food security and migration intention."}),e]}),Object(c.jsxs)("div",{className:"chart-wrapper",children:[Object(c.jsx)(ve,{steps:s,direction:o}),Object(c.jsx)(Ge,{steps:s,direction:o})]})]})}),Object(c.jsx)("div",{className:"scroller",children:Object(c.jsxs)(S.a,{onStepEnter:function(e){var t=e.data,a=(e.entry,e.direction);i(t),d(a)},onStepExit:function(){},progress:!0,onStepProgress:function(e){var t=e.progress;h(t)},offset:"0.5",children:[Object(c.jsx)(S.b,{data:1,value:1,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"The food secure have higher desire to migrate."}),Object(c.jsx)("p",{children:"Does this mean food security will actually drive people to migrate? Further research of the data tells a different story."})]})}),Object(c.jsx)(S.b,{data:2,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"Desire does not equal to action."}),Object(c.jsxs)("p",{children:["Even though food secure people are more likely to say they want to migrate, when it comes to migration, it takes"," ",Object(c.jsx)("span",{className:"red",children:"actual planning and preparation"})," ","to actualize the action."]})]})},2),Object(c.jsx)(S.b,{data:3,children:Object(c.jsxs)("div",{className:"step",children:[Object(c.jsx)("h2",{children:"The food insecure are more likely to take actual action."}),Object(c.jsxs)("p",{children:["Given the food insecure people are already struggling with basic needs such as food, their plans to migrate are more likely to be ",Object(c.jsx)("span",{className:"red",children:"out of desperation "}),"rather than ",Object(c.jsx)("span",{className:"blue",children:"by choice "}),"."]})]})},3),Object(c.jsx)(S.b,{data:4,children:Object(c.jsx)("div",{className:"step"})},4)]})})]})})},qe=function(){var e="For those who suffer food insecurity tend to make solid plan and preparation to migrate than those don\u2019t have food issue. \n    To answer this, we need to study the how many people have to work to ensure food security and understand how economic status impact migration plan and action. ",t="It\u2019s believed that lower proportion of food expenditure indicate a better off living condition because more money could be spared on improving quality of life beside food. In 2020, U.S. consumers spent an average of 8.6 percent of their disposable personal income on food. \n    ";return Object(c.jsx)("div",{className:"section",children:Object(c.jsx)(h,{header:e,main:t})})};function Be(){return Object(c.jsxs)(d,{children:[Object(c.jsx)(u,{}),Object(c.jsx)(w,{}),Object(c.jsx)(C,{}),Object(c.jsx)(W,{}),Object(c.jsx)(ee,{}),Object(c.jsx)(te,{}),Object(c.jsx)(Ue,{}),Object(c.jsx)(qe,{}),Object(c.jsx)(j,{})]})}a(165);r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Be,{})}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.2b229665.chunk.js.map