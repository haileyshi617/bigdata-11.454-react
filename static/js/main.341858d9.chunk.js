(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(40),i=n.n(s),c=n(4),o=(n(245),n(0)),l=function(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],r=t[1],s=function(){var e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight;r(e/t*100)};return Object(a.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[]),Object(o.jsx)("div",{className:"progressMainWrapper",children:Object(o.jsx)("div",{className:"progressMainStyle",style:{width:"".concat(n,"%")}})})},d=(n(248),function(){var e=r.a.useRef(null),t=r.a.useRef({mouseX:0,mouseY:0,destinationX:0,destinationY:0,distanceX:0,distanceY:0,key:-1});return r.a.useEffect((function(){return document.addEventListener("mousemove",(function(n){var a=n.clientX,r=n.clientY;t.current.mouseX=a-e.current.clientWidth/2,t.current.mouseY=r-e.current.clientHeight/2})),function(){}}),[]),r.a.useEffect((function(){!function n(){t.current.key=requestAnimationFrame(n);var a=t.current,r=a.mouseX,s=a.mouseY,i=a.destinationX,c=a.destinationY,o=a.distanceX,l=a.distanceY;i&&c?(t.current.distanceX=.1*(r-i),t.current.distanceY=.1*(s-c),Math.abs(t.current.distanceX)+Math.abs(t.current.distanceY)<.1?(t.current.destinationX=r,t.current.destinationY=s):(t.current.destinationX+=o,t.current.destinationY+=l)):(t.current.destinationX=r,t.current.destinationY=s),e&&e.current&&(e.current.style.transform="translate3d(".concat(i,"px, ").concat(c,"px, 0)"))}()}),[]),Object(o.jsx)("div",{className:"cursor-wrapper default",children:Object(o.jsx)("div",{className:"secondary-cursor",ref:e})})});var u=function(){return Object(o.jsxs)("div",{className:"footer",children:[Object(o.jsx)("h1",{children:"Team"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Huiwen Shi"}),Object(o.jsx)("li",{children:"Rui Wang"}),Object(o.jsx)("li",{children:"Ziyi Tang"}),Object(o.jsx)("li",{children:"Yingu Pan"})]})]})};var j=function(e){return Object(o.jsxs)("div",{className:"layout",children:[Object(o.jsx)(d,{}),Object(o.jsx)(l,{}),Object(o.jsx)("main",{className:"main",children:e.children}),Object(o.jsx)(u,{})]})};function h(){return Object(o.jsxs)("div",{className:"section center intro","data-scroll-section":!0,children:[Object(o.jsxs)("div",{className:"header-container",children:[Object(o.jsx)("h1",{children:"Food Insecurity and Migration"}),Object(o.jsx)("p",{className:"subtitle",children:"A Data Visualization Story in Northern Triangle Region of Central America"})]}),Object(o.jsx)("small",{children:"SCROLL TO CONTINUE"})]})}var m=function(){return Object(o.jsx)("div",{className:"section outro",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"summary",children:[Object(o.jsx)("h1",{children:"Summary"}),Object(o.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut pharetra sit amet. Et magnis dis parturient montes nascetur ridiculus."}),Object(o.jsx)("br",{}),Object(o.jsx)("p",{children:"Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut pharetra sit amet. Et magnis dis parturient montes nascetur ridiculus."}),Object(o.jsx)("p",{children:"Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor."})]}),Object(o.jsxs)("div",{className:"sources",children:[Object(o.jsxs)("div",{className:"reference",children:[Object(o.jsx)("h1",{children:"Reference"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(o.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]}),Object(o.jsxs)("div",{className:"data-source",children:[Object(o.jsx)("h1",{children:"Data Source"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(o.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(o.jsx)("li",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]})]})]})})},f=n(3),b=n.p+"static/media/mig_rate.928c9691.csv",p=window.innerWidth,g=window.innerHeight,x=["GTM","HND","SLV"],O="#f8ad96",v="#eb5832",y="#f0f0f0",N="#bcbcbc",w=function(){var e=r.a.useRef(null),t=r.a.useRef(null),n=Object(a.useState)(null),s=Object(c.a)(n,2),i=s[0],l=s[1],d=Object(a.useState)(null),u=Object(c.a)(d,2),j=u[0],h=u[1];Object(a.useEffect)((function(){f.q("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then((function(e){l(e)})),f.d(b).then((function(e){h(e)}))}),[]);var m=f.B(t.current).attr("width",p).attr("height",g).append("g").attr("transform","translate(".concat(7*p/8,", ").concat(g/6,")"));return Object(a.useEffect)((function(){if(i&&j){var e=f.m().scale(p/.6/Math.PI).translate([p/2,g/2]),t=m.selectAll("path").data(i.features),n=f.B("#tooltip-map");t.enter().append("path").on("mouseover",(function(e,t){var a=j.find((function(e){return e["Alpha-3 code"]==t.id})).rate;n.html("USA"==t.properties.name?"<p>The <span>".concat(t.properties.name,"</span> receives ").concat(a,"% of migrants from El Salvador, Guatemala, and Honduras.</p>"):"<p>Around <span>".concat(a,"%</span> of the population from <span>").concat(t.properties.name,"</span> migrate to the US in 2020.<p>")).style("left","".concat(.8*e.clientX,"px")).style("top",(function(){return e.clientY-window.innerHeight/2>0?"".concat(.8*e.clientY,"px"):"".concat(e.clientY,"px")})).classed("hidden",!1),f.B(this).attr("fill",(function(e){return x.includes(e.id)?v:N}))})).on("mouseout",(function(e,t){n.classed("hidden",!0),f.B(this).attr("fill",(function(e){return x.includes(e.id)?O:y}))})).attr("fill",y).transition().duration(1e3).attr("fill",(function(e){return x.includes(e.id)?O:y})).attr("d",f.n().projection(e)).style("stroke","#fff").style("stroke-width",1).attr("class","Country")}}),[i,j]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{id:"tooltip-map",className:"tooltip hidden",ref:e}),Object(o.jsx)("svg",{className:"map-chart",ref:t})]})},S=n(15),A=n(18);S.a.registerPlugin(A.a);var D=function(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){S.a.to("#section01cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section01cardRef",markers:!1,start:"top center"}})}),[]),Object(o.jsxs)("div",{className:"section migration",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"section-card no-hover",id:"section01cardRef",ref:e,children:[Object(o.jsxs)("h1",{children:[Object(o.jsx)("span",{className:"red",children:"Migration status"}),Object(o.jsx)("br",{})," in the Northern Triangle Region"]}),Object(o.jsx)("p",{children:"Migration from Central America to the U.S. began rising notably in the 1980s, and continued to increase in subsequent decades."}),Object(o.jsx)("br",{}),Object(o.jsxs)("p",{children:["More recently, the number of immigrants"," ",Object(o.jsx)("span",{children:"\u2013\u2013 from the three Northern Triangle nations rose by 25%"})," ","between 2007 and 2015. During that same period, the immigrant population from Mexico, the largest birth country for U.S. immigrants, declined 6%."]})]})]})},_=n(10),R=n.p+"static/media/food-global.2b92dcb9.csv",k=0,E=50,F=30,I=30,H=1e3-F-I,T=450-k-E,B=["Honduras","El Salvador","Guatemala","United States of America"],M=4,L=5,Y=1,G=3,U="#6bbaad",X="#eb5832",z="#DFEBE8",P="#EBD7D0",W="#F3F3F3",C="#808080",q=function(e){var t=e.steps,n=e.direction,s=r.a.useRef(null),i=r.a.useRef(null),l=Object(a.useState)(null),d=Object(c.a)(l,2),u=d[0],j=d[1];return Object(a.useEffect)((function(){f.d(R).then((function(e){j(e)}))}),[]),Object(a.useEffect)((function(){if(u){var e=f.B(i.current).attr("width","100%").attr("viewBox","0 0 ".concat(H+F+I," ").concat(T+k+E)).attr("preserveAspectRatio","xMaxYMin meet");e.selectAll("*").remove();var a=e.append("g").attr("transform","translate(".concat(F,", ").concat(k,")")),r=(a.append("g").attr("transform","translate(0, ".concat(T,")")),f.B("#tooltip-food-global")),s=function(e,t){r.html('<p class="header"><span> '.concat(t.country,' </span></p>\n                    <p class="moderate"> Moderate Hunger: ').concat(t.moderate,"% </p>\n                    <p> Severe Hunger: ").concat(t.severe,"% </p>")).style("left","".concat(.7*e.clientX,"px")).style("top","".concat(.5*e.clientY,"px")).classed("hidden",!1),a.selectAll(".bellchart-".concat(t.index)).style("r",L).style("stroke",C).attr("stroke-width",Y)},c=function(e,t){r.classed("hidden",!0),a.selectAll(".bellchart-".concat(t.index)).style("r",M).style("stroke","transparent"),a.selectAll("line").style("stroke",W).attr("stroke-width",(function(e){return B.includes(e.country)?G:Y}))},o=f.y().domain([f.t(u,(function(e){return e.severe})),f.s(u,(function(e){return e.moderate}))]).nice().range([T,0]),l=f.x().domain(u.map((function(e){return e.country}))).range([0,H]).padding(.4),d=u.filter((function(e){return B.includes(e.country)})),j=(a.append("g").attr("class","lines").selectAll("myLine").data(u).enter().append("line").attr("class",(function(e){return"bellchart-".concat(e.index)})).on("mouseover",s).on("mouseout",c).attr("x1",(function(e){return l(e.country)})).attr("x2",(function(e){return l(e.country)})).attr("y1",(function(e){return o(e.moderate)})).attr("y2",(function(e){return o(e.moderate)})).attr("y1",(function(e){return o(e.moderate)})).attr("y2",(function(e){return o(e.severe)})).attr("stroke",W).attr("stroke-width",(function(e){return B.includes(e.country)?G:Y})),a.append("g").attr("class","circleModerate").selectAll("myCircle").data(u).enter().append("circle").on("mouseover",s).on("mouseout",c).attr("cx",(function(e){return l(e.country)})).attr("cy",(function(e){return o(e.moderate)})).attr("class",(function(e){return"bellchart-".concat(e.index)})).style("fill",W).attr("r",M)),h=a.append("g").attr("class","circleSevere").selectAll("myCircle").data(u).enter().append("circle").on("mouseover",s).on("mouseout",c).attr("cx",(function(e){return l(e.country)})).attr("cy",(function(e){return o(e.severe)})).attr("class",(function(e){return"bellchart-".concat(e.index)})).style("fill",W).attr("r",M),m=a.append("g").attr("class","NTlabel").selectAll("text").data(d).enter().append("text").attr("y",(function(e){return"El Salvador"===e.country?o(e.moderate)-30:"Guatemala"===e.country?o(e.moderate)-35:o(e.moderate)-20})).attr("x",(function(e){return l(e.country)})).attr("text-anchor","middle").attr("fill",C).attr("font-size","12px").text((function(e){return e.country}));a.append("g").call((function(e){return e.call(f.c(o).ticks(5).tickFormat((function(e,t){return"".concat(e,"%")}))).style("color",C).transition().ease(f.f).duration(1e3)})),1===t&&("down"===n?(j.transition().ease(f.f).duration(500).style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?U:X:W})),h.transition().ease(f.f).duration(500).style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?U:X:W})),m.transition().ease(f.f).duration(500).style("fill",(function(e){return"United States of America"===e.country?U:X})).style("font-weight","bold")):(j.style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?U:X:W})),h.style("fill",(function(e){return B.includes(e.country)?"United States of America"===e.country?U:X:W})),m.style("fill",(function(e){return"United States of America"===e.country?U:X})).style("font-weight","bold"))),2===t&&("down"===n?(m.transition().ease(f.f).duration(500).style("fill",C),j.transition().ease(f.f).duration(500).style("fill",(function(e){return B.includes(e.country)?U:z})),h.transition().ease(f.f).duration(500).style("fill",(function(e){return B.includes(e.country)?X:P}))):(m.style("fill",C),j.style("fill",(function(e){return B.includes(e.country)?U:z})),h.style("fill",(function(e){return B.includes(e.country)?X:P})))),t>2&&(j.style("fill",(function(e){return B.includes(e.country)?U:z})),h.style("fill",(function(e){return B.includes(e.country)?X:P})),m.style("fill",C))}}),[u,t,n]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{id:"tooltip-food-global",className:"tooltip hidden",ref:s}),Object(o.jsx)("svg",{className:"grid-chart",ref:i})]})};var V=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(c.a)(s,2),l=i[0],d=i[1],u=Object(a.useState)(null),j=Object(c.a)(u,2),h=(j[0],j[1]);return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"main ",children:[Object(o.jsx)("div",{className:"main__graphic",children:Object(o.jsxs)("div",{className:"scroll-chart-content-container",children:[Object(o.jsxs)("div",{className:"title-container",children:[Object(o.jsx)("p",{className:"chart-title",children:"Food Insecurity is High in El Salvador, Guatemala, and Honduras"}),n>1&&Object(o.jsxs)("div",{className:"legend-container",children:[Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block dot no"}),Object(o.jsx)("p",{className:"no",children:"Moderate Hunger"})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block dot yes"}),Object(o.jsx)("p",{className:"yes",children:"Severe Hunger"})]})]})]}),Object(o.jsx)(q,{steps:n,direction:l})]})}),Object(o.jsx)("div",{className:"scroller",children:Object(o.jsxs)(_.a,{onStepEnter:function(e){var t=e.data,n=(e.entry,e.direction);r(t),d(n)},onStepExit:function(){},progress:!0,onStepProgress:function(e){var t=e.progress;h(t)},offset:"0.5",children:[Object(o.jsx)(_.b,{data:1,value:1,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"Hunger is Pressing"}),Object(o.jsxs)("p",{children:["In the Northern Triangle Regions,"," ",Object(o.jsx)("span",{className:"red",children:"more than 13.8 percent"})," people are likely to experience severe hunger, compared to the United States ",Object(o.jsx)("span",{className:"blue",children:" less than 2 percent"})," ","people are facing similar difficulty."]})]})}),Object(o.jsx)(_.b,{data:2,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"Severe Food Insecurity"}),Object(o.jsxs)("p",{children:["In the Northern Triangle Regions,"," ",Object(o.jsx)("span",{className:"red",children:"more than 45.6 percent"})," people are likely to experience some level of hunger, compared to the United States"," ",Object(o.jsx)("span",{className:"blue",children:"less than 1 percent"})," people are facing similar difficulty."]})]})},2),Object(o.jsx)(_.b,{data:3,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"What does it mean?"}),Object(o.jsxs)("p",{children:["Since the Northern Triangle Regions are far worse in the food insecurity issue, we further explored the survey data to find the relationship between"," ",Object(o.jsx)("span",{className:"red",children:" migration and food insecurity "}),"."]})]})},3),Object(o.jsx)(_.b,{data:4,children:Object(o.jsx)("div",{className:"step"})},4)]})})]})})};S.a.registerPlugin(A.a);var K=function(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){S.a.to("#section03cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section03cardRef",markers:!1,start:"top center"}})}),[]),Object(o.jsx)("div",{className:"section",children:Object(o.jsxs)("div",{className:"section-card",id:"section03cardRef",ref:e,children:[Object(o.jsxs)("h1",{children:["Is food security ",Object(o.jsx)("span",{className:"red",children:"a solution to"}),Object(o.jsx)("br",{})," migration issue?"]}),Object(o.jsx)("p",{children:"Since those three countries are having food security issues and contribute to a large proportion of migration in the US, it is tempting to say that maybe increasing food security is a solution to migration. However, the survey suggests otherwise."})]})})};var J=n(48),Z=n.p+"static/media/cari-mig.de2d7bb6.csv",Q="#B0D9D5",$="#F8AD96",ee="#EB5832",te="#e0e0e0",ne=function(e){var t=e.steps,n=e.direction,s=r.a.useRef(null),i=r.a.useRef(null),l=Object(a.useState)(null),d=Object(c.a)(l,2),u=d[0],j=d[1],h="1200",m={x:600,y:400},b=.023,p=[200,h/2.3,800,1e3],g=[200,h/2.3,800,1e3];return Object(a.useEffect)((function(){f.d(Z).then((function(e){j(e.slice(0,1e3).map((function(e){return Object(J.a)(Object(J.a)({},e),{},{radius:2})})))}))}),[]),Object(a.useEffect)((function(){if(u){var e=f.B(i.current).style("width","100vw").style("height","800px").attr("text-anchor","middle"),a=f.i(u).velocityDecay(.2).force("collide",f.h().radius((function(e){return e.radius+2})).strength(.65)).force("x",f.j().strength(b).x(m.x)).force("y",f.k().strength(b).y(m.y)).on("tick",s),r=e.selectAll("circle").data(u).join("circle").attr("r",0).attr("fill",(function(e){return"2"==e.cari?Q:"3"==e.cari?$:"4"==e.cari?ee:te}));function s(){r.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}r.transition().ease(f.e).duration(.5).attr("r",(function(e){return e.radius})),1==t&&"down"==n?(a.force("x",f.j().strength(b).x(m.x)),a.force("y",f.k().strength(b).y(m.y)),a.alpha(1).restart()):2==t?(a.force("x",f.j().strength(b).x((function(e){return p[+e.cari-1]}))),a.force("y",f.k().strength(b).y(m.y)),a.alpha(1).restart()):3!=t&&4!=t||(a.force("x",f.j().strength(b).x((function(e){return g[+e.ifMig]}))),a.force("y",f.k().strength(b).y(m.y)),a.alpha(1).restart()),a.alpha(1).restart()}}),[t,u]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"survey-tooltip hidden",ref:s}),Object(o.jsx)("svg",{className:"survey-chart",ref:i})]})};var ae=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(c.a)(s,2),l=(i[0],i[1]),d=Object(a.useState)(null),u=Object(c.a)(d,2),j=(u[0],u[1]);return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)("div",{className:"main__graphic",children:Object(o.jsx)(ne,{steps:n,className:"survey"})}),Object(o.jsx)("div",{className:"scroller",children:Object(o.jsxs)(_.a,{onStepEnter:function(e){var t=e.data,n=(e.entry,e.direction);j(n),r(t)},progress:!0,onStepProgress:function(e){var t=e.progress;l(t)},offset:"0.8",children:[Object(o.jsx)(_.b,{data:1,value:1,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"4,498 Survey response"}),Object(o.jsxs)("p",{children:["In April-May 2021, the World Food Programme conducted a face-to-face household survey of"," ",Object(o.jsx)("span",{className:"red",children:"4,498 responses"})," in El Salvador, Guatemala, and Honduras."]})]})}),Object(o.jsx)(_.b,{data:2,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"The majority are suffering from food insecurity"}),Object(o.jsxs)("p",{children:["In terms of ",Object(o.jsx)("span",{className:"red",children:"food insecurity level"}),", the participants are classified into"," ",Object(o.jsx)("span",{className:"blue",children:" four groups"})," based on CARI food security indicators given from WFP."]})]})},2),Object(o.jsx)(_.b,{data:3,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"Around half have migration desire"}),Object(o.jsxs)("p",{children:["Around ",Object(o.jsx)("span",{className:"blue",children:"half of household"})," ","respondents indicated a desire to migrate, but"," ",Object(o.jsx)("span",{className:"red",children:"only 6% are making plans"})," to do so."]})]})},3),Object(o.jsx)(_.b,{data:4,children:Object(o.jsx)("div",{className:"step"})},4)]})})]})})},re=function(e){var t=e.header,n=e.main;return Object(o.jsxs)("div",{className:"section-card",children:[Object(o.jsx)("h1",{children:t}),Object(o.jsx)("p",{children:n})]})};S.a.registerPlugin(A.a);var se=function(){var e=Object(a.useRef)(null);Object(a.useEffect)((function(){S.a.to("#section04cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section04cardRef",markers:!1,start:"top center"}})}),[]);var t="Food security may have some impact on people's desire and action on migration. What kind of relationship could we see from this survey? ",n="From the previous data, we can see a larger proportion of people suffering food insecurity. How many of these people may want to migrate as opposed of those who have adequate food? \n    ";return Object(o.jsx)("div",{className:"section",id:"section04cardRef",ref:e,children:Object(o.jsx)(re,{header:t,main:n})})},ie=n(5),ce=n(8),oe=n.p+"static/media/food-secure-mig-int.4eeae34c.csv",le=n.p+"static/media/food-secure-mig-prep.764b7a0b.csv",de=0,ue=0,je=0,he=0,me=window.innerWidth-je-he,fe=200-de-ue,be=5,pe=2,ge="#efefef",xe="#c00000",Oe="#eacece",ve="#ff0000",ye="#c00000";function Ne(e,t){for(var n=1,a=1,r=me/80,s=r,i=new Array,c=0,o=0;o<80;o++){for(var l=0;l<t;l++)i.push({x:n,y:a,width:r,height:s,visData:e[c]}),a+=s,c++;a=1,n+=r}return i}var we=function(){function e(t,n,a){Object(ie.a)(this,e);var r=this;r.svg=f.B(t).append("svg").attr("viewBox","0 0 ".concat(me+je+he," ").concat(fe+de+ue)).attr("preserveAspectRatio","xMinYMin slice").append("g").attr("transform","translate(".concat(je,", ").concat(de,")")),r.xAxisGroup=r.svg.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(fe,")")),r.yAxisGroup=r.svg.append("g").attr("id","y-axis"),Promise.all([f.d(oe),f.d(le)]).then((function(e){r.intention=e[0],r.preparation=e[1],r.update(n,a)}))}return Object(ce.a)(e,[{key:"update",value:function(e,t){var n=this;n.data=n.intention,n.gridData=Ne(n.data,be),e&&1!==e&&2!==e?(n.data=n.preparation,n.gridData=Ne(n.data,pe)):(n.data=n.intention,n.gridData=Ne(n.data,be)),n.svg.selectAll(".grid").remove();var a=n.svg.selectAll(".grid").data(n.gridData);a.exit().remove(),a.enter().append("rect").attr("class","grid").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).on("mouseover",(function(e,t){var n=t.visData,a={country:"",neighborhood:"",ruralUrban:"",age:"",sex:"",familySize:""};"GT"===n.country?a.country="Guatemala":"SLV"===n.country?a.country="El Salvador":a.country="Honduras";a.neighborhood=n.neighborhood,"1"===n.ruralUrban?a.rural_urban="urban":a.rural_urban="rural","1"===n.sex?a.sex="Male":a.sex="Female",a.age=n.age,a.familySize=n.family_size,s.style("left",(function(){return e.clientX-window.innerWidth/2>0?"".concat(e.clientX-window.innerWidth/5,"px"):"".concat(e.clientX,"px")})).style("top",(function(){return"".concat(e.clientY-window.innerHeight/1.8,"px")})).html('<p class="header"><span>'.concat(a.sex,", ").concat(a.age,"</span></p>\n        <p> Living in ").concat(a.rural_urban," area in ").concat(a.country,", with a family size of ").concat(a.familySize,".</p>")).classed("hidden",!1)})).on("mouseout",(function(e,t){s.classed("hidden",!0)})).style("fill","#efefef").style("stroke","#fff");var r=n.svg.selectAll("rect");"down"===t&&(1===e&&r.transition().ease(f.f).duration(300).style("fill",(function(e){return"0"===e.visData.mig_int_global?ge:xe})),2===e&&r.transition().ease(f.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?ge:0===parseInt(e.visData.mig_plan_global)?Oe:0===parseInt(e.visData.mig_prep_global)?ve:ye})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Oe:0===parseInt(e.visData.mig_prep_global)?ve:ye}))),"up"===t&&(1===e&&r.transition().ease(f.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?ge:xe})),2===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?ge:0===parseInt(e.visData.mig_plan_global)?Oe:0===parseInt(e.visData.mig_prep_global)?ve:ye})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Oe:0===parseInt(e.visData.mig_prep_global)?ve:ye})));var s=f.B("#tooltip-grid")}}]),e}(),Se=function(e){var t,n=e.steps,s=e.direction,i=Object(a.useState)(null),l=Object(c.a)(i,2),d=l[0],u=l[1],j=r.a.useRef(null),h=r.a.useRef(null);return Object(a.useEffect)((function(){d?d.intention&&d.update(n,s):u(new we(h.current,n,s))}),[d,n,s]),t=n>=3?Object(o.jsxs)("div",{className:"axis-container",children:[Object(o.jsx)("small",{children:"0"}),Object(o.jsx)("small",{children:"40"}),Object(o.jsx)("small",{children:"60"}),Object(o.jsx)("small",{children:"80"}),Object(o.jsx)("small",{children:"160"})]}):Object(o.jsxs)("div",{className:"axis-container",children:[Object(o.jsx)("small",{children:"0"}),Object(o.jsx)("small",{children:"100"}),Object(o.jsx)("small",{children:"200"}),Object(o.jsx)("small",{children:"300"}),Object(o.jsx)("small",{children:"400"})]}),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"chart-container",children:[Object(o.jsx)("p",{children:"Food Secure Group"}),t,Object(o.jsx)("div",{id:"tooltip-grid",className:"tooltip hidden",ref:j}),Object(o.jsx)("svg",{className:"grid-chart chart-area",ref:h})]})})},Ae=n.p+"static/media/food-insecure-mig-int.7aef0d68.csv",De=n.p+"static/media/food-insecure-mig-prep.e947a1eb.csv",_e=0,Re=0,ke=0,Ee=0,Fe=window.innerWidth-ke-Ee,Ie=200-_e-Re,He=5,Te=2,Be="#efefef",Me="#c00000",Le="#eacece",Ye="#ff0000",Ge="#c00000";function Ue(e,t){for(var n=1,a=1,r=Fe/80,s=r,i=new Array,c=0,o=0;o<80;o++){for(var l=0;l<t;l++)i.push({x:n,y:a,width:r,height:s,visData:e[c]}),a+=s,c++;a=1,n+=r}return i}var Xe=function(){function e(t,n,a){Object(ie.a)(this,e);var r=this;r.svg=f.B(t).append("svg").attr("viewBox","0 0 ".concat(Fe+ke+Ee," ").concat(Ie+_e+Re)).attr("preserveAspectRatio","xMinYMin slice").append("g").attr("transform","translate(".concat(ke,", ").concat(_e,")")),r.xAxisGroup=r.svg.append("g").attr("id","x-axis").attr("transform","translate(0, ".concat(Ie,")")),r.yAxisGroup=r.svg.append("g").attr("id","y-axis"),Promise.all([f.d(Ae),f.d(De)]).then((function(e){r.intention=e[0],r.preparation=e[1],r.update(n,a)}))}return Object(ce.a)(e,[{key:"update",value:function(e,t){var n=this;n.data=n.intention,n.gridData=Ue(n.data,He),e&&1!==e&&2!==e?(n.data=n.preparation,n.gridData=Ue(n.data,Te)):(n.data=n.intention,n.gridData=Ue(n.data,He)),n.svg.selectAll(".grid").remove();var a=n.svg.selectAll(".grid").data(n.gridData);a.exit().remove(),a.enter().append("rect").attr("class","grid").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).on("mouseover",(function(e,t){var n=t.visData,a={country:"",neighborhood:"",ruralUrban:"",age:"",sex:"",familySize:""};"GT"===n.country?a.country="Guatemala":"SLV"===n.country?a.country="El Salvador":a.country="Honduras";a.neighborhood=n.neighborhood,"1"===n.ruralUrban?a.rural_urban="urban":a.rural_urban="rural","1"===n.sex?a.sex="Male":a.sex="Female",a.age=n.age,a.familySize=n.family_size,s.style("left","".concat(.5*e.clientX,"px")).style("top","".concat(.1*e.clientY,"px")).html('<p class="header"><span>'.concat(a.sex,", ").concat(a.age,"</span></p>\n        <p> Living in ").concat(a.rural_urban," area in ").concat(a.country,", with a family size of ").concat(a.familySize,".</p>")).classed("hidden",!1)})).on("mouseout",(function(e,t){s.classed("hidden",!0)})).style("fill","#efefef").style("stroke","#fff");var r=n.svg.selectAll("rect");"down"===t&&(1===e&&r.transition().ease(f.f).duration(300).style("fill",(function(e){return"0"===e.visData.mig_int_global?Be:Me})),2===e&&r.transition().ease(f.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?Be:0===parseInt(e.visData.mig_plan_global)?Le:0===parseInt(e.visData.mig_prep_global)?Ye:Ge})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Le:0===parseInt(e.visData.mig_prep_global)?Ye:Ge}))),"up"===t&&(1===e&&r.transition().ease(f.f).duration(300).style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?Be:Me})),2===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_int_global)?Be:0===parseInt(e.visData.mig_plan_global)?Le:0===parseInt(e.visData.mig_prep_global)?Ye:Ge})),3===e&&r.style("fill",(function(e){return 0===parseInt(e.visData.mig_plan_global)?Le:0===parseInt(e.visData.mig_prep_global)?Ye:Ge})));var s=f.B("#tooltip-grid")}}]),e}(),ze=function(e){var t,n=e.steps,s=e.direction,i=Object(a.useState)(null),l=Object(c.a)(i,2),d=l[0],u=l[1],j=r.a.useRef(null),h=r.a.useRef(null);return Object(a.useEffect)((function(){d?d.intention&&d.update(n,s):u(new Xe(h.current,n,s))}),[d,n,s]),t=n>=3?Object(o.jsxs)("div",{className:"axis-container",children:[Object(o.jsx)("small",{children:"0"}),Object(o.jsx)("small",{children:"40"}),Object(o.jsx)("small",{children:"60"}),Object(o.jsx)("small",{children:"80"}),Object(o.jsx)("small",{children:"160"})]}):Object(o.jsxs)("div",{className:"axis-container",children:[Object(o.jsx)("small",{children:"0"}),Object(o.jsx)("small",{children:"100"}),Object(o.jsx)("small",{children:"200"}),Object(o.jsx)("small",{children:"300"}),Object(o.jsx)("small",{children:"400"})]}),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"chart-container",children:[Object(o.jsx)("p",{children:"Food Insecure Group"}),t,Object(o.jsx)("div",{id:"tooltip-grid",className:"tooltip hidden",ref:j}),Object(o.jsx)("svg",{className:"grid-chart chart-area",ref:h})]})})};var Pe=function(){var e,t=Object(a.useState)(null),n=Object(c.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(null),l=Object(c.a)(i,2),d=l[0],u=l[1],j=Object(a.useState)(null),h=Object(c.a)(j,2),m=(h[0],h[1]);return e=1===r?Object(o.jsxs)("div",{className:"legend-container",children:[Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-no"}),Object(o.jsx)("p",{className:"mig-no",children:'Household answered "No"'})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-yes"}),Object(o.jsx)("p",{className:"mig-yes",children:'Household answered "Yes"'})]})]}):2===r?Object(o.jsxs)("div",{className:"legend-container ",children:[Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-no"}),Object(o.jsx)("p",{className:"mig-no",children:"Household does not want to migrate"})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-scale-1"}),Object(o.jsx)("p",{className:"mig-scale-1",children:"Household wants to migrate but has no plan"})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-scale-2"}),Object(o.jsx)("p",{className:"mig-scale-2",children:"Household has plan but no preparation"})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-scale-3"}),Object(o.jsx)("p",{className:"mig-scale-3",children:"Household has plan and preparation"})]})]}):3===r?Object(o.jsxs)("div",{className:"legend-container",children:[Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-scale-1"}),Object(o.jsx)("p",{className:"mig-scale-1",children:"Household wants to migrate but has no plan"})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-scale-2"}),Object(o.jsx)("p",{className:"mig-scale-2",children:"Household has plan but no preparation"})]}),Object(o.jsxs)("div",{className:"legend",children:[Object(o.jsx)("div",{className:"legend-block mig-scale-3"}),Object(o.jsx)("p",{className:"mig-scale-3",children:"Household has plan and preparation"})]})]}):Object(o.jsx)("div",{}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"main ",children:[Object(o.jsx)("div",{className:"main__graphic",children:Object(o.jsxs)("div",{className:"scroll-chart-content-container",children:[Object(o.jsxs)("div",{className:"title-container tall",children:[Object(o.jsx)("p",{className:"chart-title",children:"Food security and migration intention."}),e]}),Object(o.jsxs)("div",{className:"chart-wrapper",children:[Object(o.jsx)(Se,{steps:r,direction:d}),Object(o.jsx)(ze,{steps:r,direction:d})]})]})}),Object(o.jsx)("div",{className:"scroller",children:Object(o.jsxs)(_.a,{onStepEnter:function(e){var t=e.data,n=(e.entry,e.direction);s(t),u(n)},onStepExit:function(){},progress:!0,onStepProgress:function(e){var t=e.progress;m(t)},offset:"0.5",children:[Object(o.jsx)(_.b,{data:1,value:1,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"The food secure have higher desire to migrate."}),Object(o.jsx)("p",{children:"Does this mean food security will actually drive people to migrate? Further research of the data tells a different story."})]})}),Object(o.jsx)(_.b,{data:2,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"Desire does not equal to action."}),Object(o.jsxs)("p",{children:["Even though food secure people are more likely to say they want to migrate, when it comes to migration, it takes"," ",Object(o.jsx)("span",{className:"red",children:"actual planning and preparation"})," ","to actualize the action."]})]})},2),Object(o.jsx)(_.b,{data:3,children:Object(o.jsxs)("div",{className:"step",children:[Object(o.jsx)("h2",{children:"The food insecure are more likely to take actual action."}),Object(o.jsxs)("p",{children:["Given the food insecure people are already struggling with basic needs such as food, their plans to migrate are more likely to be ",Object(o.jsx)("span",{className:"red",children:"out of desperation "}),"rather than ",Object(o.jsx)("span",{className:"blue",children:"by choice "}),"."]})]})},3),Object(o.jsx)(_.b,{data:4,children:Object(o.jsx)("div",{className:"step"})},4)]})})]})})};S.a.registerPlugin(A.a);var We=function(){var e=Object(a.useRef)(null);Object(a.useEffect)((function(){S.a.to("#section05cardRef",{x:100,duration:1,ease:"ease",scrollTrigger:{trigger:"#section05cardRef",markers:!1,start:"top center"}})}),[]);var t="What is relationship between migration plan and the economic pressure on food ",n="For those who suffer food insecurity tend to make solid plan and preparation to migrate than those don\u2019t have food issue. \n    To answer this, we need to study the how many people have to work to ensure food security and understand how economic status impact migration plan and action. \n    ";return Object(o.jsx)("div",{className:"section",id:"section05cardRef",ref:e,children:Object(o.jsx)(re,{header:t,main:n})})},Ce=function(e){var t=e.dataArray,n=e.colorsArray,r=Object(a.useRef)(null);return Object(a.useEffect)((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=void 0===n?function(e){return Object(c.a)(e,1)[0]}:n,s=t.value,i=void 0===s?function(e){return Object(c.a)(e,2)[1]}:s,o=t.title,l=t.width,d=void 0===l?640:l,u=t.height,j=void 0===u?400:u,h=t.innerRadius,m=void 0===h?Math.min(d,j)/4:h,b=t.outerRadius,p=void 0===b?Math.min(d,j)/2:b,g=t.labelRadius,x=void 0===g?(m+p)/2:g,O=t.format,v=void 0===O?",":O,y=t.names,N=t.colors,w=t.stroke,S=void 0===w?m>0?"none":"white":w,A=t.strokeWidth,D=void 0===A?4:A,_=t.padAngle,R=void 0===_?"none"===S?1/p:0:_,k=f.r(e,a),E=f.r(e,i),F=f.w(k.length).filter((function(e){return!isNaN(E[e])}));void 0===y&&(y=k),y=new f.a(y),void 0===N&&(N=f.A[y.size]),void 0===N&&(N=f.v((function(e){return f.p(.8*e+.1)}),y.size));var I=f.z(y,N);if(void 0===o){var H=f.l(v);o=function(e){return"".concat(k[e],"\n").concat(H(E[e]))}}else{var T=f.r(e,(function(e){return e})),B=o;o=function(t){return B(T[t],t,e)}}var M=f.u().padAngle(R).sort(null).value((function(e){return E[e]}))(F),L=f.b().innerRadius(m).outerRadius(p),Y=f.b().innerRadius(x).outerRadius(x);f.B(r.current).attr("width",d).attr("height",j).attr("viewBox",[-d/2,-j/2,d,j]).attr("style","max-width: 100%; height: auto; height: intrinsic;").append("g").attr("stroke",S).attr("stroke-width",D).attr("stroke-linejoin","round").selectAll("path").data(M).join("path").attr("fill",(function(e){return I(k[e.data])})).attr("d",L).append("title").text((function(e){return o(e.data)})),f.B(r.current).selectAll("path").transition().duration(480).ease(f.g).attrTween("d",(function(e){var t=f.o(e.startAngle+.1,e.endAngle);return function(n){return e.endAngle=t(n),L(e)}})),f.B(r.current).append("g").attr("font-family","sans-serif").attr("font-size",16).attr("text-anchor","middle").selectAll("text").data(M).join("text").attr("transform",(function(e){return"translate(".concat(Y.centroid(e),")")})).selectAll("tspan").data((function(e){var t="".concat(o(e.data)).split(/\n/);return e.endAngle-e.startAngle>.25?t:t.slice(0,1)})).join("tspan").attr("x",0).attr("y",(function(e,t){return"".concat(1.1*t,"em")})).attr("font-weight",(function(e,t){return t?null:"bold"})).attr("style","fill:#fff").text((function(e){return e}))}(t,{name:function(e){return e.name},value:function(e){return e.value},width:400,height:250,names:t.map((function(e){return e.name})),colors:n,stroke:"none",title:function(e){return"".concat(e.value,"%")}})}),[t,n]),Object(o.jsx)("svg",{className:"donut-chart",ref:r})},qe=function(e){var t=e.color,n=e.width;return Object(o.jsx)("div",{style:{backgroundColor:t,width:n,height:n}})},Ve=function(){return Object(o.jsxs)("div",{className:"donut-chart-part",children:[Object(o.jsxs)("div",{className:"top-legend",children:[Object(o.jsx)(qe,{color:"#DFBFBF",width:18}),Object(o.jsx)("span",{children:"Have to work for food but NO PLAN to migrate"})]}),Object(o.jsxs)("div",{className:"top-legend",children:[Object(o.jsx)(qe,{color:"#CC0000",width:18}),Object(o.jsx)("span",{children:"Have to work for food and HAVE PLAN to migrate"})]}),Object(o.jsxs)("div",{className:"main-content",children:[Object(o.jsxs)("div",{className:"donut-chart-wrapper",children:[Object(o.jsx)("p",{className:"title",children:"NO PLAN TO MIGRATE"}),Object(o.jsx)(Ce,{dataArray:[{name:"a",value:77},{name:"b",value:23}],colorsArray:["#D9D9D9","#DFBFBF"]}),Object(o.jsxs)("div",{className:"donut-chart-footer",children:[Object(o.jsxs)("div",{className:"bottom-legend",children:[Object(o.jsx)(qe,{color:"#D9D9D9",width:14}),Object(o.jsx)("span",{children:"NOT WORK FOR FOOD"})]}),Object(o.jsxs)("div",{className:"bottom-legend",children:[Object(o.jsx)(qe,{color:"#DFBFBF",width:14}),Object(o.jsx)("span",{children:"WORK FOR FOOD"})]})]})]}),Object(o.jsx)("div",{className:"divider"}),Object(o.jsxs)("div",{className:"donut-chart-wrapper",children:[Object(o.jsx)("p",{className:"title",children:"HAS PLAN TO MIGRATE"}),Object(o.jsx)(Ce,{dataArray:[{name:"a",value:68},{name:"b",value:32}],colorsArray:["#D9D9D9","#CC0000"]}),Object(o.jsxs)("div",{className:"donut-chart-footer",children:[Object(o.jsxs)("div",{className:"bottom-legend",children:[Object(o.jsx)(qe,{color:"#D9D9D9",width:14}),Object(o.jsx)("span",{children:"NOT WORK FOR FOOD"})]}),Object(o.jsxs)("div",{className:"bottom-legend",children:[Object(o.jsx)(qe,{color:"#CC0000",width:14}),Object(o.jsx)("span",{children:"WORK FOR FOOD"})]})]})]})]})]})},Ke=Object(a.memo)(Ve);function Je(){var e=Object(a.useRef)(null),t=Object(a.useState)(!0),n=Object(c.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){s||!e||"undefined"!==typeof window&&window.document}),[s]);var l=r.a.useState(2),d=Object(c.a)(l,2),u=d[0],f=d[1],b=r.a.useRef(null),p=function(){window.clearInterval(b.current),i(!1)};return r.a.useEffect((function(){return b.current=window.setInterval((function(){f((function(e){return e-1}))}),1e3),function(){return p()}}),[]),r.a.useEffect((function(){0===u&&p()}),[u]),"undefined"!==typeof window&&window.document?Object(o.jsx)(o.Fragment,{children:s?Object(o.jsx)("div",{className:"loader-wrapper absolute",children:Object(o.jsx)("h1",{children:"Is food security a solution to migration?"})}):Object(o.jsxs)(j,{className:"main-container",id:"main-container","data-scroll-container":!0,ref:e,children:[Object(o.jsx)(h,{}),Object(o.jsx)(D,{}),Object(o.jsx)(V,{}),Object(o.jsx)(K,{}),Object(o.jsx)(ae,{}),Object(o.jsx)(se,{}),Object(o.jsx)(Pe,{}),Object(o.jsx)(We,{}),Object(o.jsx)(Ke,{}),Object(o.jsx)(m,{})]})}):null}n(249);i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(Je,{})}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.341858d9.chunk.js.map