{"version":3,"sources":["components/layout/ProgressBar.jsx","components/layout/CustomCursor/index.jsx","components/layout/Footer.jsx","components/layout/Layout.jsx","components/section/Intro.jsx","components/section/Outro.jsx","data/mig_rate.csv","components/charts/MapChart.jsx","components/section/Section01Map.jsx","data/food-global.csv","components/charts/FoodGlobalChart.jsx","components/section/Section02Scroll.jsx","components/section/Section03DotCard.jsx","components/ui/CardScroll.jsx","data/cari-mig.csv","components/charts/SurveyChart.jsx","components/section/Section03Scroll.jsx","components/ui/CardSection.jsx","components/section/Section04GridCard.jsx","data/food-secure-mig-int.csv","data/food-secure-mig-prep.csv","components/charts/GridSecureChart.jsx","components/charts/GridSecureChartWrapper.jsx","data/food-insecure-mig-int.csv","data/food-insecure-mig-prep.csv","components/charts/GridInsecureChart.jsx","components/charts/GridInsecureChartWrapper.jsx","components/section/Section04Scroll.jsx","components/section/Section05PieCard.jsx","components/charts/DonutChart.jsx","components/section/Section05Pie.jsx","App.js","index.js"],"names":["ProgressBar","useState","scrollTop","setScrollTop","onScroll","winScroll","document","documentElement","height","scrollHeight","clientHeight","useEffect","window","addEventListener","removeEventListener","className","style","width","CustomCursor","secondaryCursor","React","useRef","positionRef","mouseX","mouseY","destinationX","destinationY","distanceX","distanceY","key","event","clientX","clientY","current","clientWidth","followMouse","requestAnimationFrame","Math","abs","transform","ref","Footer","Layout","props","children","Intro","Outro","WIDTH","innerWidth","HEIGHT","innerHeight","NT","RED","GRAY","MapChart","tooltipRef","svgRef","data","setData","migdata","setMigData","d3","then","rawdata","svg","attr","append","projection","scale","PI","translate","map","selectAll","features","tooltip","enter","on","d","rate","find","e","id","html","properties","name","classed","this","includes","transition","duration","gsap","registerPlugin","ScrollTrigger","Section01Map","section01cardRef","to","x","ease","scrollTrigger","trigger","markers","start","MARGIN","COUNTRIES","CIRCLE","LINE","COLOR","FoodGlobalChart","steps","direction","dataSrc","svgEl","remove","mouseover","country","moderate","severe","index","mouseout","y","domain","nice","range","padding","highlightData","filter","circleModerate","circleSevere","NTlabel","text","call","g","ticks","tickFormat","i","Section02Scroll","setSteps","setDirection","setProgress","onStepEnter","entry","onStepExit","progress","onStepProgress","offset","value","Section03DotCard","section03cardRef","CardScroll","SurveyChart","center","forceStrength","cariCenter","xCenter","slice","radius","simulation","velocityDecay","force","strength","ticked","bubbles","join","cari","alpha","restart","ifMig","Section03Scroll","CardSection","header","main","Section04GridCard","section04cardRef","NROW","COLOR_INTENTION","COLOR_PREPARATION","setGridData","visData","nrow","xpos","ypos","Array","column","row","push","GirdSecureChart","element","vis","xAxisGroup","yAxisGroup","Promise","all","dataSrc_int","dataSrc_prep","datasets","intention","preparation","update","gridData","grid","exit","dataOrg","result","neighborhood","ruralUrban","age","sex","familySize","rural_urban","family_size","square","mig_int_global","parseInt","mig_plan_global","mig_prep_global","ChartWrapper","axis","chart","setChart","GridSecureChart","GridInsecureChart","Section04Scroll","legend","GridSecureChartWrapper","GridInsecureChartWrapper","Section05Pie","section05cardRef","DonutChart","dataArray","colorsArray","title","innerRadius","min","outerRadius","labelRadius","format","names","colors","stroke","strokeWidth","padAngle","N","V","I","length","isNaN","undefined","size","t","color","formatValue","O","T","arcs","sort","arc","arcLabel","attrTween","startAngle","endAngle","centroid","lines","split","_","generateDonutChart","Square","backgroundColor","memo","App","preloader","setPreload","timer","setTimer","clear","clearInterval","setInterval","time","Section05PieCard","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.341858d9.chunk.js","sourcesContent":["import { React, useState, useEffect } from 'react';\n\nconst ProgressBar = () => {\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const onScroll = () => {\n    const winScroll = document.documentElement.scrollTop;\n    const height =\n      document.documentElement.scrollHeight -\n      document.documentElement.clientHeight;\n\n    const scrolled = (winScroll / height) * 100;\n\n    setScrollTop(scrolled);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', onScroll);\n\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n\n  return (\n    <div className=\"progressMainWrapper\">\n      <div\n        className=\"progressMainStyle\"\n        style={{ width: `${scrollTop}%` }}\n      ></div>\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import React, { useContext } from 'react';\nimport './_cursor-style.scss';\n// import CustomCursorContext from \"./context/CustomCursorContext\";\n\n// TODO: Hide if cursor not moved\nconst CustomCursor = () => {\n  // const { type } = useContext(CustomCursorContext);\n  const secondaryCursor = React.useRef(null);\n  const positionRef = React.useRef({\n    mouseX: 0,\n    mouseY: 0,\n    destinationX: 0,\n    destinationY: 0,\n    distanceX: 0,\n    distanceY: 0,\n    key: -1,\n  });\n\n  React.useEffect(() => {\n    document.addEventListener('mousemove', (event) => {\n      const { clientX, clientY } = event;\n\n      const mouseX = clientX;\n      const mouseY = clientY;\n\n      positionRef.current.mouseX =\n        mouseX - secondaryCursor.current.clientWidth / 2;\n      positionRef.current.mouseY =\n        mouseY - secondaryCursor.current.clientHeight / 2;\n    });\n\n    return () => {};\n  }, []);\n\n  React.useEffect(() => {\n    const followMouse = () => {\n      positionRef.current.key = requestAnimationFrame(followMouse);\n      const {\n        mouseX,\n        mouseY,\n        destinationX,\n        destinationY,\n        distanceX,\n        distanceY,\n      } = positionRef.current;\n      if (!destinationX || !destinationY) {\n        positionRef.current.destinationX = mouseX;\n        positionRef.current.destinationY = mouseY;\n      } else {\n        positionRef.current.distanceX = (mouseX - destinationX) * 0.1;\n        positionRef.current.distanceY = (mouseY - destinationY) * 0.1;\n        if (\n          Math.abs(positionRef.current.distanceX) +\n            Math.abs(positionRef.current.distanceY) <\n          0.1\n        ) {\n          positionRef.current.destinationX = mouseX;\n          positionRef.current.destinationY = mouseY;\n        } else {\n          positionRef.current.destinationX += distanceX;\n          positionRef.current.destinationY += distanceY;\n        }\n      }\n      if (secondaryCursor && secondaryCursor.current)\n        secondaryCursor.current.style.transform = `translate3d(${destinationX}px, ${destinationY}px, 0)`;\n    };\n    followMouse();\n  }, []);\n  return (\n    <div className={`cursor-wrapper default`}>\n      <div className=\"secondary-cursor\" ref={secondaryCursor}></div>\n    </div>\n  );\n};\n\nexport default CustomCursor;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <div className=\"footer\">\n      <h1>Team</h1>\n      <ul>\n        <li>Huiwen Shi</li>\n        <li>Rui Wang</li>\n        <li>Ziyi Tang</li>\n        <li>Yingu Pan</li>\n      </ul>\n      {/* <div className={classes.logo-container}>\n        <img src=\"../../assets/mit-logo.png\" alt=\"mit logo\" />\n      </div> */}\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport ProgressBar from './ProgressBar';\nimport CustomCursor from './CustomCursor';\nimport Footer from './Footer';\n\nfunction Layout(props) {\n  return (\n    <div className=\"layout\">\n      <CustomCursor />\n      <ProgressBar />\n      <main className=\"main\">{props.children}</main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Layout;\n","export default function Intro() {\n  return (\n    <div className=\"section center intro\" data-scroll-section>\n      <div className=\"header-container\">\n        <h1>Food Insecurity and Migration</h1>\n        <p className=\"subtitle\">\n          A Data Visualization Story in Northern Triangle Region of Central\n          America\n        </p>\n      </div>\n      <small>SCROLL TO CONTINUE</small>\n    </div>\n  );\n}\n","import React from 'react';\n\nfunction Outro() {\n  return (\n    <div className=\"section outro\">\n      <div className=\"container\">\n        <div className=\"summary\">\n          <h1>Summary</h1>\n          <p>\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor incididunt ut labore et dolore magna aliqua.\n            Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut\n            pharetra sit amet. Et magnis dis parturient montes nascetur\n            ridiculus.\n          </p>\n          <br />\n          <p>\n            Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet.\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor incididunt ut labore et dolore magna aliqua.\n            Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut\n            pharetra sit amet. Et magnis dis parturient montes nascetur\n            ridiculus.\n          </p>\n          <p>\n            Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet.\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor.\n          </p>\n        </div>\n        <div className=\"sources\">\n          <div className=\"reference\">\n            <h1>Reference</h1>\n            <ul>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n            </ul>\n          </div>\n          <div className=\"data-source\">\n            <h1>Data Source</h1>\n            <ul>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Outro;\n","export default __webpack_public_path__ + \"static/media/mig_rate.928c9691.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/mig_rate.csv';\n\n// TODO: change the data\n\n// CANVAS SETUP\nconst WIDTH = window.innerWidth;\nconst HEIGHT = window.innerHeight;\n\n// RENDERING SETTING\nconst NT = ['GTM', 'HND', 'SLV'];\nconst RED = { REGULAR: '#f8ad96', SELECT: '#eb5832' };\nconst GRAY = { REGULAR: '#f0f0f0', SELECT: '#bcbcbc' };\n\nconst MapChart = () => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n  const [migdata, setMigData] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.json(\n      'https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson'\n    ).then((data) => {\n      setData(data);\n    });\n\n    d3.csv(rawdata).then((data) => {\n      setMigData(data);\n    });\n  }, []);\n\n  // CANVAS SETUP\n  // .current => necessary when use ref\n  const svg = d3\n    .select(svgRef.current)\n    .attr('width', WIDTH)\n    .attr('height', HEIGHT)\n    .append('g')\n    .attr('transform', `translate(${(WIDTH * 7) / 8}, ${HEIGHT / 6})`);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data && migdata) {\n      // Map and projection\n      const projection = d3\n        .geoNaturalEarth1()\n        .scale(WIDTH / 0.6 / Math.PI)\n        .translate([WIDTH / 2, HEIGHT / 2]);\n\n      // DATA JOIN\n      const map = svg.selectAll('path').data(data.features);\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-map');\n\n      const mouseover = function (event, d) {\n        let rate = migdata.find((e) => e['Alpha-3 code'] == d.id).rate;\n        // console.log(rate.toFixed(2));\n\n        tooltip\n          .html(\n            d.properties.name == 'USA'\n              ? `<p>The <span>${d.properties.name}</span> receives ${rate}% of migrants from El Salvador, Guatemala, and Honduras.</p>`\n              : `<p>Around <span>${rate}%</span> of the population from <span>${d.properties.name}</span> migrate to the US in 2020.<p>`\n          )\n          .style('left', `${event.clientX * 0.8}px`)\n          .style('top', () => {\n            if (event.clientY - window.innerHeight / 2 > 0)\n              return `${event.clientY * 0.8}px`;\n            return `${event.clientY}px`;\n          })\n          .classed('hidden', false);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.SELECT : GRAY.SELECT\n        );\n      };\n\n      const mouseout = function (event, d) {\n        tooltip.classed('hidden', true);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR\n        );\n      };\n\n      // ENTER\n      map\n        .enter()\n        .append('path')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('fill', GRAY.REGULAR)\n        .transition()\n        .duration(1000)\n        .attr('fill', (d) => (NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR))\n        .attr('d', d3.geoPath().projection(projection))\n        .style('stroke', '#fff')\n        .style('stroke-width', 1)\n        .attr('class', 'Country');\n    }\n  }, [data, migdata]);\n\n  return (\n    <>\n      <div id=\"tooltip-map\" className=\"tooltip hidden\" ref={tooltipRef}></div>\n      <svg className=\"map-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default MapChart;\n","import MapChart from '../charts/MapChart';\n\nimport { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section01Map = () => {\n  const section01cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section01cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section01cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section migration\">\n      <MapChart />\n      <div\n        className=\"section-card no-hover\"\n        id=\"section01cardRef\"\n        ref={section01cardRef}\n      >\n        <h1>\n          <span className=\"red\">Migration status</span>\n          <br /> in the Northern Triangle Region\n        </h1>\n        <p>\n          Migration from Central America to the U.S. began rising notably in the\n          1980s, and continued to increase in subsequent decades.\n        </p>\n        <br />\n        <p>\n          More recently, the number of immigrants{' '}\n          <span>–– from the three Northern Triangle nations rose by 25%</span>{' '}\n          between 2007 and 2015. During that same period, the immigrant\n          population from Mexico, the largest birth country for U.S. immigrants,\n          declined 6%.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Section01Map;\n","export default __webpack_public_path__ + \"static/media/food-global.2b92dcb9.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport dataSrc from '../../data/food-global.csv';\n\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 50, LEFT: 30, RIGHT: 30 };\nconst WIDTH = 1000 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 450 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// RENDERING SETUP\nconst COUNTRIES = [\n  'Honduras',\n  'El Salvador',\n  'Guatemala',\n  'United States of America',\n];\nconst CIRCLE = { REGULAR: 4, SELECT: 5 };\nconst LINE = { REGULAR: 1, SELECT: 3 };\nconst COLOR = {\n  MODERATE_S: '#6bbaad',\n  SEVERE_S: '#eb5832',\n  MODERATE_R: '#DFEBE8',\n  SEVERE_R: '#EBD7D0',\n  GRAY: '#F3F3F3',\n  TEXT: '#808080',\n};\n\nconst FoodGlobalChart = ({ steps, direction }) => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.csv(dataSrc).then((data) => {\n      setData(data);\n    });\n  }, []);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data) {\n      // CANVAS SETUP\n      const svgEl = d3\n        .select(svgRef.current) // .current => necessary when use ref\n        .attr('width', '100%')\n        .attr(\n          'viewBox',\n          `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n            HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n          }`\n        )\n        .attr('preserveAspectRatio', 'xMaxYMin meet');\n      svgEl.selectAll('*').remove(); // Clear svg content before adding new elements\n\n      const svg = svgEl\n        .append('g')\n        .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n      const xAxisGroup = svg\n        .append('g')\n        .attr('transform', `translate(0, ${HEIGHT})`);\n\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-food-global');\n\n      const mouseover = function (event, d) {\n        tooltip\n          .html(\n            `<p class=\"header\"><span> ${d.country} </span></p>\n                    <p class=\"moderate\"> Moderate Hunger: ${d.moderate}% </p>\n                    <p> Severe Hunger: ${d.severe}% </p>`\n          )\n          .style('left', `${event.clientX * 0.7}px`)\n          .style('top', `${event.clientY * 0.5}px`)\n          .classed('hidden', false);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.SELECT)\n          .style('stroke', COLOR.TEXT)\n          .attr('stroke-width', LINE.REGULAR);\n      };\n\n      const mouseout = function (event, d) {\n        tooltip.classed('hidden', true);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.REGULAR)\n          .style('stroke', 'transparent');\n        svg\n          .selectAll('line')\n          .style('stroke', COLOR.GRAY)\n          .attr('stroke-width', (d) =>\n            COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR\n          );\n      };\n\n      // SCALES\n      const y = d3\n        .scaleLinear()\n        .domain([\n          d3.min(data, (d) => d.severe),\n          d3.max(data, (d) => d.moderate),\n        ])\n        .nice()\n        .range([HEIGHT, 0]);\n\n      const x = d3\n        .scaleBand()\n        .domain(data.map((d) => d.country))\n        .range([0, WIDTH])\n        .padding(0.4);\n\n      const yAxis = (g) =>\n        g\n          .call(\n            d3\n              .axisLeft(y)\n              .ticks(5)\n              .tickFormat((d, i) => `${d}%`)\n          )\n          .style('color', COLOR.TEXT)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000);\n\n      // DATA JOIN\n      const highlightData = data.filter((d) => COUNTRIES.includes(d.country));\n\n      // TODO: Fix animations!\n\n      // STEP 0\n      const lines = svg\n        .append('g')\n        .attr('class', 'lines')\n        .selectAll('myLine')\n        .data(data)\n        .enter()\n        .append('line')\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('x1', function (d) {\n          return x(d.country);\n        })\n        .attr('x2', function (d) {\n          return x(d.country);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.severe);\n        })\n        .attr('stroke', COLOR.GRAY)\n        .attr('stroke-width', (d) => {\n          return COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR;\n        });\n\n      const circleModerate = svg\n        .append('g')\n        .attr('class', 'circleModerate')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.moderate);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const circleSevere = svg\n        .append('g')\n        .attr('class', 'circleSevere')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.severe);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const NTlabel = svg\n        .append('g')\n        .attr('class', 'NTlabel')\n        .selectAll('text')\n        .data(highlightData)\n        .enter()\n        .append('text')\n        .attr('y', (d) =>\n          d.country === 'El Salvador'\n            ? y(d.moderate) - 30\n            : d.country === 'Guatemala'\n            ? y(d.moderate) - 35\n            : y(d.moderate) - 20\n        )\n        .attr('x', (d) => x(d.country))\n        .attr('text-anchor', 'middle')\n        .attr('fill', COLOR.TEXT)\n        .attr('font-size', '12px')\n        .text((d) => d.country);\n\n      svg.append('g').call(yAxis);\n\n      // STEP 1:\n      // 1) Highlight selected countries -> text\n      if (steps === 1) {\n        if (direction === 'down') {\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) => {\n              if (COUNTRIES.includes(d.country))\n                if (d.country === 'United States of America') {\n                  return COLOR.MODERATE_S;\n                } else {\n                  return COLOR.SEVERE_S;\n                }\n              return COLOR.GRAY;\n            });\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) => {\n              if (COUNTRIES.includes(d.country))\n                if (d.country === 'United States of America') {\n                  return COLOR.MODERATE_S;\n                } else {\n                  return COLOR.SEVERE_S;\n                }\n              return COLOR.GRAY;\n            });\n\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              d.country === 'United States of America'\n                ? COLOR.MODERATE_S\n                : COLOR.SEVERE_S\n            )\n            .style('font-weight', 'bold');\n        } else {\n          circleModerate.style('fill', (d) => {\n            if (COUNTRIES.includes(d.country))\n              if (d.country === 'United States of America') {\n                return COLOR.MODERATE_S;\n              } else {\n                return COLOR.SEVERE_S;\n              }\n            return COLOR.GRAY;\n          });\n\n          circleSevere.style('fill', (d) => {\n            if (COUNTRIES.includes(d.country))\n              if (d.country === 'United States of America') {\n                return COLOR.MODERATE_S;\n              } else {\n                return COLOR.SEVERE_S;\n              }\n            return COLOR.GRAY;\n          });\n\n          NTlabel.style('fill', (d) =>\n            d.country === 'United States of America'\n              ? COLOR.MODERATE_S\n              : COLOR.SEVERE_S\n          ).style('font-weight', 'bold');\n        }\n      }\n\n      // STEP 2:\n      // 1) Undo highlight selected countries -> tex\n      // 2) Add in colors based on countries and severity to the circles\n      if (steps === 2) {\n        if (direction === 'down') {\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', COLOR.TEXT);\n\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country)\n                ? COLOR.MODERATE_S\n                : COLOR.MODERATE_R\n            );\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n            );\n        } else {\n          NTlabel.style('fill', COLOR.TEXT);\n          circleModerate.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n          );\n\n          circleSevere.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n          );\n        }\n      }\n\n      // STEP 3\n      if (steps > 2) {\n        circleModerate.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n        );\n        circleSevere.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n        );\n        NTlabel.style('fill', COLOR.TEXT);\n      }\n    }\n  }, [data, steps, direction]);\n\n  return (\n    <>\n      <div\n        id=\"tooltip-food-global\"\n        className=\"tooltip hidden\"\n        ref={tooltipRef}\n      ></div>\n      <svg className=\"grid-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default FoodGlobalChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport FoodGlobalChart from '../charts/FoodGlobalChart';\n\nfunction Section02Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div>\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container\">\n              <p className=\"chart-title\">\n                Food Insecurity is High in El Salvador, Guatemala, and Honduras\n              </p>\n              {steps > 1 && (\n                <div className=\"legend-container\">\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot no\"></div>\n                    <p className=\"no\">Moderate Hunger</p>\n                  </div>\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot yes\"></div>\n                    <p className=\"yes\">Severe Hunger</p>\n                  </div>\n                </div>\n              )}\n            </div>\n            <FoodGlobalChart steps={steps} direction={direction} />\n          </div>\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>Hunger is Pressing</h2>\n                <p>\n                  In the Northern Triangle Regions,{' '}\n                  <span className=\"red\">more than 13.8 percent</span> people are\n                  likely to experience severe hunger, compared to the United\n                  States <span className=\"blue\"> less than 2 percent</span>{' '}\n                  people are facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Severe Food Insecurity</h2>\n                <p>\n                  In the Northern Triangle Regions,{' '}\n                  <span className=\"red\">more than 45.6 percent</span> people are\n                  likely to experience some level of hunger, compared to the\n                  United States{' '}\n                  <span className=\"blue\">less than 1 percent</span> people are\n                  facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>What does it mean?</h2>\n                <p>\n                  Since the Northern Triangle Regions are far worse in the food\n                  insecurity issue, we further explored the survey data to find\n                  the relationship between{' '}\n                  <span className=\"red\"> migration and food insecurity </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section02Scroll;\n","import { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section03DotCard = () => {\n  const section03cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section03cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section03cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section\">\n      <div\n        className=\"section-card\"\n        id=\"section03cardRef\"\n        ref={section03cardRef}\n      >\n        <h1>\n          Is food security <span className=\"red\">a solution to</span>\n          <br /> migration issue?\n        </h1>\n        <p>\n          Since those three countries are having food security issues and\n          contribute to a large proportion of migration in the US, it is\n          tempting to say that maybe increasing food security is a solution to\n          migration. However, the survey suggests otherwise.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Section03DotCard;\n","import React from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nfunction CardScroll (value,text){\n  return (\n    <Step data={value} key={value}>\n      <div className='step'>\n        {text}\n      </div>\n    </Step>\n  )\n}\n\nexport default CardScroll;\n","export default __webpack_public_path__ + \"static/media/cari-mig.de2d7bb6.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/cari-mig.csv';\n\nconst COLOR = {\n    MARGIN: '#B0D9D5',\n    MODERATE: '#F8AD96',\n    SEVERE: '#EB5832',\n    GRAY: '#e0e0e0',\n    TEXT: '#808080',\n};\n\nconst SurveyChart = ({ steps, direction }) => {\n    // console.log(steps);\n    const tooltipRef = React.useRef(null);\n    const svgRef = React.useRef(null);\n    const [data, setData] = useState(null);\n\n    //d3 chart update according to steps\n    let width = '1200';\n    let height = '800';\n    let center = { x: width / 2, y: height / 2 };\n    let forceStrength = 0.023;\n    let r = 2;\n    let padding = 2;\n    let cariCenter = [width / 6, width / 2.3, width / 1.5, width / 1.2];\n    let xCenter = [width / 6, width / 2.3, width / 1.5, width / 1.2];\n\n    // when step updates, update data\n    useEffect(() => {\n        d3.csv(rawdata).then((data) => {\n            setData(\n                data.slice(0, 1000).map(function (d) {\n                    return {\n                        ...d,\n                        radius: r,\n                    };\n                })\n            );\n        });\n    }, []);\n\n    // when data updates, update charts\n    useEffect(() => {\n        // when not scroll to page, there will be no data loading\n\n        if (data) {\n            const svg = d3\n                .select(svgRef.current)\n                .style('width', '100vw')\n                .style('height', '800px')\n                .attr('text-anchor', 'middle');\n\n            const simulation = d3\n                .forceSimulation(data)\n                .velocityDecay(0.2)\n                .force(\n                    'collide',\n                    d3\n                        .forceCollide()\n                        .radius(function (d) {\n                            return d.radius + padding;\n                        })\n                        .strength(0.65)\n                )\n                .force('x', d3.forceX().strength(forceStrength).x(center.x))\n                .force('y', d3.forceY().strength(forceStrength).y(center.y))\n                .on('tick', ticked);\n\n            const bubbles = svg\n                .selectAll('circle')\n                .data(data)\n                .join('circle')\n                .attr('r', 0)\n                .attr('fill', function (d) {\n                    if (d.cari == '2') {\n                        return COLOR.MARGIN;\n                    } else if (d.cari == '3') {\n                        return COLOR.MODERATE;\n                    } else if (d.cari == '4') {\n                        return COLOR.SEVERE;\n                    } else {\n                        return COLOR.GRAY;\n                    }\n                });\n\n            bubbles\n                .transition()\n                .ease(d3.easeBounce)\n                .duration(0.5)\n                .attr('r', function (d) {\n                    return d.radius;\n                });\n\n            function ticked() {\n                bubbles.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n            }\n\n            if (steps == 1 && direction == 'down') {\n                simulation.force(\n                    'x',\n                    d3.forceX().strength(forceStrength).x(center.x)\n                );\n                simulation.force(\n                    'y',\n                    d3.forceY().strength(forceStrength).y(center.y)\n                );\n                simulation.alpha(1).restart();\n            } else if (steps == 2) {\n                simulation.force(\n                    'x',\n                    d3\n                        .forceX()\n                        .strength(forceStrength)\n                        .x((d) => cariCenter[+d.cari - 1])\n                );\n                simulation.force(\n                    'y',\n                    d3.forceY().strength(forceStrength).y(center.y)\n                );\n                simulation.alpha(1).restart();\n            } else if (steps == 3 || steps == 4) {\n                simulation.force(\n                    'x',\n                    d3\n                        .forceX()\n                        .strength(forceStrength)\n                        .x((d) => xCenter[+d.ifMig])\n                );\n                simulation.force(\n                    'y',\n                    d3.forceY().strength(forceStrength).y(center.y)\n                );\n                simulation.alpha(1).restart();\n            }\n            simulation.alpha(1).restart();\n        }\n    }, [steps, data]);\n\n    return (\n        <>\n            <div className=\"survey-tooltip hidden\" ref={tooltipRef}></div>\n            <svg className=\"survey-chart\" ref={svgRef}></svg>\n        </>\n    );\n};\n\nexport default SurveyChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport CardScroll from '../ui/CardScroll';\nimport SurveyChart from '../charts/SurveyChart';\n// import CardScroll from '../ui/CardScroll';\n\nfunction Section03Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [progress, setProgress] = useState(null);\n  const [direction, setDirection] = useState(null);\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setDirection(direction);\n    setSteps(data);\n  };\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div>\n      <div className=\"main\">\n        <div className=\"main__graphic\">\n          <SurveyChart steps={steps} className=\"survey\" />\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.8\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>4,498 Survey response</h2>\n                <p>\n                  In April-May 2021, the World Food Programme conducted a\n                  face-to-face household survey of{' '}\n                  <span className=\"red\">4,498 responses</span> in El Salvador,\n                  Guatemala, and Honduras.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>The majority are suffering from food insecurity</h2>\n                <p>\n                  In terms of <span className=\"red\">food insecurity level</span>\n                  , the participants are classified into{' '}\n                  <span className=\"blue\"> four groups</span> based on CARI food\n                  security indicators given from WFP.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>Around half have migration desire</h2>\n                <p>\n                  Around <span className=\"blue\">half of household</span>{' '}\n                  respondents indicated a desire to migrate, but{' '}\n                  <span className=\"red\">only 6% are making plans</span> to do\n                  so.\n                </p>\n              </div>\n            </Step>\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section03Scroll;\n","import React, { Component } from 'react';\n\nconst CardSection = ({ header, main }) => {\n  return (\n    <div className=\"section-card\">\n      <h1>{header}</h1>\n      <p>{main}</p>\n    </div>\n  );\n};\n\nexport default CardSection;\n","import CardSection from '../ui/CardSection';\n\nimport { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section04GridCard = () => {\n  const section04cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section04cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section04cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  const text = {\n    header: `Food security may have some impact on people's desire and action on migration. What kind of relationship could we see from this survey? `,\n    main: `From the previous data, we can see a larger proportion of people suffering food insecurity. How many of these people may want to migrate as opposed of those who have adequate food? \n    `,\n  };\n\n  return (\n    <div className=\"section\" id=\"section04cardRef\" ref={section04cardRef}>\n      <CardSection header={text.header} main={text.main} />\n    </div>\n  );\n};\n\nexport default Section04GridCard;\n","export default __webpack_public_path__ + \"static/media/food-secure-mig-int.4eeae34c.csv\";","export default __webpack_public_path__ + \"static/media/food-secure-mig-prep.764b7a0b.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-secure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-secure-mig-prep.csv';\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 200 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 2 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#c00000',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#eacece',\n  PREP_NO_ACTION: '#ff0000',\n  ACTION: '#c00000',\n};\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMinYMin slice')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', () => {\n          if (event.clientX - window.innerWidth / 2 > 0) {\n            return `${event.clientX - window.innerWidth / 5}px`;\n          }\n\n          return `${event.clientX}px`;\n        })\n        .style('top', () => {\n          // if (event.clientY - window.innerHeight / 2 > 0) {\n          //   return `${event.clientY - window.innerHeight / 6}px`;\n          // }\n\n          return `${event.clientY - window.innerHeight / 1.8}px`;\n        })\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridSecureChart from './GridSecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridSecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  let axis;\n  if (steps >= 3) {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>40</small>\n        <small>60</small>\n        <small>80</small>\n        <small>160</small>\n      </div>\n    );\n  } else {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>100</small>\n        <small>200</small>\n        <small>300</small>\n        <small>400</small>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Secure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip hidden\"\n          ref={tooltipRef}\n        ></div>\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","export default __webpack_public_path__ + \"static/media/food-insecure-mig-int.7aef0d68.csv\";","export default __webpack_public_path__ + \"static/media/food-insecure-mig-prep.e947a1eb.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-insecure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-insecure-mig-prep.csv';\n\n// TODO: change into a bar chart?\n// TODO: start by pointing out one square is one person\n// TODO: smooth the transition\n// TODO: add the data overlay to the chart\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 200 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 2 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#c00000',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#eacece',\n  PREP_NO_ACTION: '#ff0000',\n  ACTION: '#c00000',\n};\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMinYMin slice')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', `${event.clientX * 0.5}px`)\n        .style('top', `${event.clientY * 0.1}px`)\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridInsecureChart from './GridInsecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridInsecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  let axis;\n  if (steps >= 3) {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>40</small>\n        <small>60</small>\n        <small>80</small>\n        <small>160</small>\n      </div>\n    );\n  } else {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>100</small>\n        <small>200</small>\n        <small>300</small>\n        <small>400</small>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Insecure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip hidden\"\n          ref={tooltipRef}\n        ></div>\n\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport GridSecureChartWrapper from '../charts/GridSecureChartWrapper';\nimport GridInsecureChartWrapper from '../charts/GridInsecureChartWrapper';\n\nfunction Section04Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  let legend;\n  if (steps === 1) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household answered \"No\"</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-yes\"></div>\n          <p className=\"mig-yes\">Household answered \"Yes\"</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 2) {\n    legend = (\n      <div className=\"legend-container \">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household does not want to migrate</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 3) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n      </div>\n    );\n  } else {\n    legend = <div></div>;\n  }\n\n  return (\n    <div>\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container tall\">\n              <p className=\"chart-title\">\n                Food security and migration intention.\n              </p>\n              {legend}\n            </div>\n\n            <div className=\"chart-wrapper\">\n              <GridSecureChartWrapper steps={steps} direction={direction} />\n              <GridInsecureChartWrapper steps={steps} direction={direction} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>The food secure have higher desire to migrate.</h2>\n                <p>\n                  Does this mean food security will actually drive people to\n                  migrate? Further research of the data tells a different story.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Desire does not equal to action.</h2>\n                <p>\n                  Even though food secure people are more likely to say they\n                  want to migrate, when it comes to migration, it takes{' '}\n                  <span className=\"red\">actual planning and preparation</span>{' '}\n                  to actualize the action.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>\n                  The food insecure are more likely to take actual action.\n                </h2>\n                <p>\n                  Given the food insecure people are already struggling with\n                  basic needs such as food, their plans to migrate are more\n                  likely to be <span className=\"red\">out of desperation </span>\n                  rather than <span className=\"blue\">by choice </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section04Scroll;\n","import CardSection from '../ui/CardSection';\n\nimport { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section05Pie = () => {\n  const section05cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section05cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section05cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  const text = {\n    header: `What is relationship between migration plan and the economic pressure on food `,\n    main: `For those who suffer food insecurity tend to make solid plan and preparation to migrate than those don’t have food issue. \n    To answer this, we need to study the how many people have to work to ensure food security and understand how economic status impact migration plan and action. \n    `,\n  };\n\n  return (\n    <div className=\"section\" id=\"section05cardRef\" ref={section05cardRef}>\n      <CardSection header={text.header} main={text.main} />\n    </div>\n  );\n};\n\nexport default Section05Pie;\n","import * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\n\n// TODO: Trigger transition on scrolled to section\n// TODO: Add hover tooltips\n\nconst DonutChart = ({ dataArray, colorsArray }) => {\n  const svgRef = useRef(null);\n\n  const generateDonutChart = (\n    data,\n    {\n      name = ([x]) => x, // given d in data, returns the (ordinal) label\n      value = ([, y]) => y, // given d in data, returns the (quantitative) value\n      title, // given d in data, returns the title text\n      width = 640, // outer width, in pixels\n      height = 400, // outer height, in pixels\n      innerRadius = Math.min(width, height) / 4, // inner radius of pie, in pixels (non-zero for donut)\n      outerRadius = Math.min(width, height) / 2, // outer radius of pie, in pixels\n      labelRadius = (innerRadius + outerRadius) / 2, // center radius of labels\n      format = ',', // a format specifier for values (in the label)\n      names, // array of names (the domain of the color scale)\n      colors, // array of colors for names\n      stroke = innerRadius > 0 ? 'none' : 'white', // stroke separating widths\n      strokeWidth = 4, // width of stroke separating wedges\n      padAngle = stroke === 'none' ? 1 / outerRadius : 0, // angular separation between wedges\n    } = {}\n  ) => {\n    // Compute values.\n    const N = d3.map(data, name);\n    const V = d3.map(data, value);\n    const I = d3.range(N.length).filter((i) => !isNaN(V[i]));\n\n    // Unique the names.\n    if (names === undefined) names = N;\n    names = new d3.InternSet(names);\n\n    // Chose a default color scheme based on cardinality.\n    if (colors === undefined) {\n      colors = d3.schemeSpectral[names.size];\n    }\n    if (colors === undefined) {\n      colors = d3.quantize(\n        (t) => d3.interpolateSpectral(t * 0.8 + 0.1),\n        names.size\n      );\n    }\n\n    // Construct scales.\n    const color = d3.scaleOrdinal(names, colors);\n\n    // Compute titles.\n    if (title === undefined) {\n      const formatValue = d3.format(format);\n      title = (i) => `${N[i]}\\n${formatValue(V[i])}`;\n    } else {\n      const O = d3.map(data, (d) => d);\n      const T = title;\n      title = (i) => T(O[i], i, data);\n    }\n\n    // Construct arcs.\n    const arcs = d3\n      .pie()\n      .padAngle(padAngle)\n      .sort(null)\n      .value((i) => V[i])(I);\n    const arc = d3.arc().innerRadius(innerRadius).outerRadius(outerRadius);\n    const arcLabel = d3.arc().innerRadius(labelRadius).outerRadius(labelRadius);\n\n    d3.select(svgRef.current)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('viewBox', [-width / 2, -height / 2, width, height])\n      .attr('style', 'max-width: 100%; height: auto; height: intrinsic;')\n      .append('g')\n      .attr('stroke', stroke)\n      .attr('stroke-width', strokeWidth)\n      .attr('stroke-linejoin', 'round')\n      .selectAll('path')\n      .data(arcs)\n      .join('path')\n      .attr('fill', (d) => color(N[d.data]))\n      .attr('d', arc)\n      .append('title')\n      .text((d) => title(d.data));\n\n    const path = d3.select(svgRef.current).selectAll('path');\n    path\n      .transition()\n      .duration(480)\n      .ease(d3.easeLinear)\n      .attrTween('d', (d) => {\n        const i = d3.interpolate(d.startAngle + 0.1, d.endAngle);\n        return function (t) {\n          d.endAngle = i(t);\n          return arc(d);\n        };\n      });\n\n    d3.select(svgRef.current)\n      .append('g')\n      .attr('font-family', 'sans-serif')\n      .attr('font-size', 16)\n      .attr('text-anchor', 'middle')\n      .selectAll('text')\n      .data(arcs)\n      .join('text')\n      .attr('transform', (d) => `translate(${arcLabel.centroid(d)})`)\n      .selectAll('tspan')\n      .data((d) => {\n        const lines = `${title(d.data)}`.split(/\\n/);\n        return d.endAngle - d.startAngle > 0.25 ? lines : lines.slice(0, 1);\n      })\n      .join('tspan')\n      .attr('x', 0)\n      .attr('y', (_, i) => `${i * 1.1}em`)\n      .attr('font-weight', (_, i) => (i ? null : 'bold'))\n      .attr('style', 'fill:#fff')\n      .text((d) => d);\n  };\n\n  useEffect(() => {\n    generateDonutChart(dataArray, {\n      name: (d) => d.name,\n      value: (d) => d.value,\n      width: 400,\n      height: 250,\n      names: dataArray.map((d) => d.name),\n      colors: colorsArray,\n      stroke: 'none',\n      title: (d) => `${d.value}%`,\n    });\n  }, [dataArray, colorsArray]);\n\n  return <svg className=\"donut-chart\" ref={svgRef}></svg>;\n};\n\nexport default DonutChart;\n","import React, { memo } from 'react';\nimport DonutChart from '../charts/DonutChart';\n\nconst Square = ({ color, width }) => (\n  <div style={{ backgroundColor: color, width: width, height: width }}></div>\n);\n\nconst Section05Pie = () => {\n  return (\n    <div className=\"donut-chart-part\">\n      <div className=\"top-legend\">\n        <Square color=\"#DFBFBF\" width={18} />\n        <span>Have to work for food but NO PLAN to migrate</span>\n      </div>\n      <div className=\"top-legend\">\n        <Square color=\"#CC0000\" width={18} />\n        <span>Have to work for food and HAVE PLAN to migrate</span>\n      </div>\n      <div className=\"main-content\">\n        <div className=\"donut-chart-wrapper\">\n          <p className=\"title\">NO PLAN TO MIGRATE</p>\n          <DonutChart\n            dataArray={[\n              { name: 'a', value: 77 },\n              { name: 'b', value: 23 },\n            ]}\n            colorsArray={['#D9D9D9', '#DFBFBF']}\n          />\n          <div className=\"donut-chart-footer\">\n            <div className=\"bottom-legend\">\n              <Square color=\"#D9D9D9\" width={14} />\n              <span>NOT WORK FOR FOOD</span>\n            </div>\n            <div className=\"bottom-legend\">\n              <Square color=\"#DFBFBF\" width={14} />\n              <span>WORK FOR FOOD</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"divider\"></div>\n        <div className=\"donut-chart-wrapper\">\n          <p className=\"title\">HAS PLAN TO MIGRATE</p>\n          <DonutChart\n            dataArray={[\n              { name: 'a', value: 68 },\n              { name: 'b', value: 32 },\n            ]}\n            colorsArray={['#D9D9D9', '#CC0000']}\n          />\n          <div className=\"donut-chart-footer\">\n            <div className=\"bottom-legend\">\n              <Square color=\"#D9D9D9\" width={14} />\n              <span>NOT WORK FOR FOOD</span>\n            </div>\n            <div className=\"bottom-legend\">\n              <Square color=\"#CC0000\" width={14} />\n              <span>WORK FOR FOOD</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Section05Pie);\n","import { Transition, animated } from 'react-spring';\nimport React, { useState, useEffect, useRef } from 'react';\n\nimport Layout from './components/layout/Layout';\nimport Intro from './components/section/Intro';\nimport Outro from './components/section/Outro';\n\nimport Section01Map from './components/section/Section01Map';\n\nimport Section02Scroll from './components/section/Section02Scroll';\n\nimport Section03DotCard from './components/section/Section03DotCard';\nimport Section03Scroll from './components/section/Section03Scroll';\n\nimport Section04GridCard from './components/section/Section04GridCard';\nimport Section04Scroll from './components/section/Section04Scroll';\n\nimport Section05PieCard from './components/section/Section05PieCard';\nimport Section05Pie from './components/section/Section05Pie';\n\nexport default function App() {\n  const ref = useRef(null);\n  const [preloader, setPreload] = useState(true);\n\n  // useLocoScroll(!preloader);\n\n  useEffect(() => {\n    if (!preloader && ref) {\n      if (typeof window === 'undefined' || !window.document) {\n        return;\n      }\n    }\n  }, [preloader]);\n\n  const [timer, setTimer] = React.useState(2);\n\n  const id = React.useRef(null);\n\n  const clear = () => {\n    window.clearInterval(id.current);\n    setPreload(false);\n  };\n\n  React.useEffect(() => {\n    id.current = window.setInterval(() => {\n      setTimer((time) => time - 1);\n    }, 1000);\n    return () => clear();\n  }, []);\n\n  React.useEffect(() => {\n    if (timer === 0) {\n      clear();\n    }\n  }, [timer]);\n\n  if (typeof window === 'undefined' || !window.document) {\n    return null;\n  }\n\n  return (\n    <>\n      {preloader ? (\n        <div className=\"loader-wrapper absolute\">\n          <h1>Is food security a solution to migration?</h1>\n        </div>\n      ) : (\n        <Layout\n          className=\"main-container\"\n          id=\"main-container\"\n          data-scroll-container\n          ref={ref}\n        >\n          <Intro />\n\n          <Section01Map />\n\n          <Section02Scroll />\n\n          <Section03DotCard />\n          <Section03Scroll />\n\n          <Section04GridCard />\n          <Section04Scroll />\n\n          <Section05PieCard />\n          <Section05Pie />\n\n          <Outro />\n        </Layout>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}