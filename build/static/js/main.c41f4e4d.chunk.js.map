{"version":3,"sources":["components/layout/ProgressBar.jsx","components/layout/Footer.jsx","components/layout/Layout.jsx","components/section/Intro.jsx","components/section/Outro.jsx","data/mig_rate.csv","components/charts/MapChart.jsx","components/section/Section01Map.jsx","data/food-global.csv","components/charts/FoodGlobalChart.jsx","components/section/Section02Scroll.jsx","components/section/Section03DotCard.jsx","components/ui/CardScroll.jsx","data/cari-mig.csv","components/charts/SurveyChart.jsx","components/section/Section03Scroll.jsx","components/section/Section04GridCard.jsx","data/food-secure-mig-int.csv","data/food-secure-mig-prep.csv","components/charts/GridSecureChart.jsx","components/charts/GridSecureChartWrapper.jsx","data/food-insecure-mig-int.csv","data/food-insecure-mig-prep.csv","components/charts/GridInsecureChart.jsx","components/charts/GridInsecureChartWrapper.jsx","components/section/Section04Scroll.jsx","components/section/Section05PieCard.jsx","components/charts/DonutChart.jsx","components/section/Section05Pie.jsx","App.js","index.js"],"names":["ProgressBar","useState","scrollTop","setScrollTop","onScroll","winScroll","document","documentElement","height","scrollHeight","clientHeight","useEffect","window","addEventListener","removeEventListener","className","style","width","Footer","Layout","props","children","Intro","Outro","WIDTH","innerWidth","HEIGHT","innerHeight","NT","RED","GRAY","MapChart","tooltipRef","React","useRef","svgRef","data","setData","migdata","setMigData","setId","d3","then","rawdata","svg","current","attr","append","selectAll","remove","projection","scale","Math","PI","translate","map","features","tooltip","enter","on","event","d","id","rate","find","e","html","properties","name","classed","this","includes","clientX","clientY","console","log","transition","duration","ref","gsap","registerPlugin","ScrollTrigger","Section01Map","section01cardRef","to","x","ease","scrollTrigger","trigger","markers","start","mapRef","opacity","Power3","easeOut","end","scrub","MARGIN","COUNTRIES","CIRCLE","LINE","COLOR","FoodGlobalChart","steps","direction","dataSrc","svgEl","mouseover","country","moderate","severe","index","mouseout","y","domain","nice","range","padding","highlightData","filter","circleModerate","circleSevere","NTlabel","text","call","g","ticks","tickFormat","i","Section02Scroll","setSteps","setDirection","setProgress","onStepEnter","entry","onStepExit","progress","onStepProgress","offset","value","Section03DotCard","section03cardRef","CardScroll","SurveyChart","center","forceStrength","cariCenter","xCenter","slice","radius","simulation","velocityDecay","force","strength","ticked","bubbles","join","cari","alpha","restart","ifMig","Section03Scroll","Section04GridCard","section04cardRef","NROW","COLOR_INTENTION","COLOR_PREPARATION","setGridData","visData","nrow","xpos","ypos","Array","column","row","push","GirdSecureChart","element","vis","xAxisGroup","yAxisGroup","Promise","all","dataSrc_int","dataSrc_prep","datasets","intention","preparation","update","gridData","grid","exit","dataOrg","result","neighborhood","ruralUrban","age","sex","familySize","rural_urban","family_size","square","mig_int_global","parseInt","mig_plan_global","mig_prep_global","ChartWrapper","axis","chart","setChart","GridSecureChart","GridInsecureChart","Section04Scroll","legend","GridSecureChartWrapper","GridInsecureChartWrapper","Section05Pie","section05cardRef","DonutChart","dataArray","colorsArray","title","innerRadius","min","outerRadius","labelRadius","format","names","colors","stroke","strokeWidth","padAngle","N","V","I","length","isNaN","undefined","size","t","color","formatValue","O","T","arcs","sort","arc","arcLabel","attrTween","startAngle","endAngle","centroid","lines","split","_","generateDonutChart","Square","backgroundColor","memo","App","preloader","setPreload","timer","setTimer","clear","clearInterval","setInterval","time","Section05PieCard","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c41f4e4d.chunk.js","sourcesContent":["import { React, useState, useEffect } from 'react';\n\nconst ProgressBar = () => {\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const onScroll = () => {\n    const winScroll = document.documentElement.scrollTop;\n    const height =\n      document.documentElement.scrollHeight -\n      document.documentElement.clientHeight;\n\n    const scrolled = (winScroll / height) * 100;\n\n    setScrollTop(scrolled);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', onScroll);\n\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n\n  return (\n    <div className=\"progressMainWrapper\">\n      <div\n        className=\"progressMainStyle\"\n        style={{ width: `${scrollTop}%` }}\n      ></div>\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <div className=\"footer\">\n      <div className=\"container\">\n        <h1>Team</h1>\n        <ul>\n          <li>Huiwen Shi</li>\n          <li>Rui Wang</li>\n          <li>Ziyi Tang</li>\n          <li>Yingu Pan</li>\n        </ul>\n        {/* <div className={classes.logo-container}>\n        <img src=\"../../assets/mit-logo.png\" alt=\"mit logo\" />\n      </div> */}\n      </div>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport ProgressBar from './ProgressBar';\nimport CustomCursor from './CustomCursor';\nimport Footer from './Footer';\n\nfunction Layout(props) {\n  return (\n    <div className=\"layout\">\n      {/* <CustomCursor /> */}\n      <ProgressBar />\n      <main className=\"main\">{props.children}</main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Layout;\n","export default function Intro() {\n  return (\n    <div className=\"section regular center intro\" data-scroll-section>\n      <div className=\"header-container\">\n        <h1>Food Insecurity and Migration</h1>\n        <p className=\"subtitle\">\n          A Data Visualization Story in Northern Triangle Region of Central\n          America\n        </p>\n      </div>\n      <small>SCROLL TO CONTINUE</small>\n    </div>\n  );\n}\n","import React from 'react';\n\nfunction Outro() {\n  return (\n    <div className=\"section regular center outro\">\n      <div className=\"container\">\n        <div className=\"summary\">\n          <h1>Summary</h1>\n          <p>\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor incididunt ut labore et dolore magna aliqua.\n            Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut\n            pharetra sit amet. Et magnis dis parturient montes nascetur\n            ridiculus.\n          </p>\n          <br />\n          <p>\n            Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet.\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor incididunt ut labore et dolore magna aliqua.\n            Sollicitudin ac orci phasellus egestas. Donec enim diam vulputate ut\n            pharetra sit amet. Et magnis dis parturient montes nascetur\n            ridiculus.\n          </p>\n          <p>\n            Facilisis sed odio morbi quis commodo. Lorem ipsum dolor sit amet.\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n            eiusmod tempor.\n          </p>\n        </div>\n        <div className=\"sources\">\n          <div className=\"reference\">\n            <h1>Reference</h1>\n            <ul>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n            </ul>\n          </div>\n          <div className=\"data-source\">\n            <h1>Data Source</h1>\n            <ul>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n              <li>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                eiusmod tempor incididunt ut labore et dolore magna aliqua.\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Outro;\n","export default __webpack_public_path__ + \"static/media/mig_rate.77852f32.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/mig_rate.csv';\nimport ArcChart from './ArcChart';\n\n// CANVAS SETUP\nconst WIDTH = window.innerWidth;\nconst HEIGHT = window.innerHeight;\n\n// RENDERING SETTING\nconst NT = ['GTM', 'HND', 'SLV'];\nconst RED = { REGULAR: '#f8ad96', SELECT: '#eb5832' };\nconst GRAY = { REGULAR: '#f0f0f0', SELECT: '#bcbcbc' };\n\nconst MapChart = () => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const arcRef = React.createRef();\n\n  const [data, setData] = useState(null);\n  const [migdata, setMigData] = useState(null);\n  const [id, setId] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.json(\n      'https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson'\n    ).then((data) => {\n      setData(data);\n    });\n\n    d3.csv(rawdata).then((data) => {\n      setMigData(data);\n    });\n  }, []);\n\n  // CANVAS SETUP\n  // .current => necessary when use ref\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data && migdata) {\n      const svg = d3\n        .select(svgRef.current)\n        .attr('width', WIDTH)\n        .attr('height', HEIGHT)\n        .append('g')\n        .attr('transform', `translate(${(WIDTH * 7) / 8}, ${HEIGHT / 6})`);\n\n      svg.selectAll('*').remove();\n\n      // Map and projection\n      const projection = d3\n        .geoNaturalEarth1()\n        .scale(WIDTH / 0.6 / Math.PI)\n        .translate([WIDTH / 2, HEIGHT / 2]);\n\n      // DATA JOIN\n      const map = svg.selectAll('path').data(data.features);\n\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-map');\n\n      const mouseover = function (event, d) {\n        setId(d.id);\n        let rate = migdata.find((e) => e['Alpha-3 code'] == d.id).rate;\n\n        tooltip\n          .html(\n            d.properties.name == 'USA'\n              ? `<p>The <span class=\"big\">${d.properties.name}</span> receives <span class=\"big\">${rate}% </span>of migrants from <span>El Salvador, Guatemala, and Honduras</span>.</p>`\n              : `<p>Around <span class=\"big\">${rate}%</span> of the population from <span class=\"big\">${d.properties.name}</span> are migrants to the US by 2020.<p>`\n          )\n          .classed('hidden', false);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.SELECT : GRAY.SELECT\n        );\n      };\n\n      const mousemove = function (event, d) {\n        tooltip.style('left', `${event.clientX * 0.7}px`).style('top', () => {\n          if (event.clientY - window.innerHeight / 2 > 0)\n            return `${event.clientY * 0.9}px`;\n          return `${event.clientY * 0.9}px`;\n        });\n      };\n\n      const mouseout = function (event, d) {\n        console.log('out');\n        tooltip.classed('hidden', true);\n\n        d3.select(this).attr('fill', (d) =>\n          NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR\n        );\n      };\n\n      // ENTER\n      map\n        .enter()\n        .append('path')\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout)\n        .attr('fill', GRAY.REGULAR)\n        .transition()\n        .duration(1000)\n        .attr('fill', (d) => (NT.includes(d.id) ? RED.REGULAR : GRAY.REGULAR))\n        .attr('d', d3.geoPath().projection(projection))\n        .style('stroke', '#fff')\n        .style('stroke-width', 1)\n        .attr('class', 'Country');\n    }\n  }, [data, migdata]);\n\n  return (\n    <>\n      <div\n        id=\"tooltip-map\"\n        className=\"tooltip red hidden\"\n        ref={tooltipRef}\n      ></div>\n      <svg className=\"map-chart\" ref={svgRef}></svg>\n      {/* <ArcChart id={id} data={migdata} ref={arcRef}/> */}\n    </>\n  );\n};\n\nexport default MapChart;\n","import MapChart from '../charts/MapChart';\n\nimport { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { Power3 } from 'gsap';\n\nimport { ScrollTrigger, timeline } from 'gsap/ScrollTrigger';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section01Map = () => {\n  // section card animation\n  const section01cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section01cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section01cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  // map animation\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#mapRef', {\n      duration: 5,\n      opacity: 1,\n      ease: Power3.easeOut,\n\n      scrollTrigger: {\n        trigger: '#mapRef',\n        markers: false,\n        start: 'top center',\n        end: 'bottom 0px',\n        scrub: true,\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center migration\">\n      <div className=\"map-container\" ref={mapRef} id=\"mapRef\">\n        <MapChart />\n      </div>\n\n      <div className=\"content-container\">\n        <div\n          className=\"section-card no-hover\"\n          id=\"section01cardRef\"\n          ref={section01cardRef}\n        >\n          <h1>\n            <span className=\"red\">Migration status</span>\n            <br /> in the Northern Triangle Region\n          </h1>\n          <p>\n            Migration from Central America to the U.S. began rising notably in\n            the 1980s, and continued to increase in subsequent decades.\n          </p>\n          <br />\n          <p>\n            More recently, the number of immigrants{' '}\n            <span>–– from the three Northern Triangle nations rose by 25%</span>{' '}\n            between 2007 and 2015. During that same period, the immigrant\n            population from Mexico, the largest birth country for U.S.\n            immigrants, declined 6%.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section01Map;\n","export default __webpack_public_path__ + \"static/media/food-global.2b92dcb9.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport dataSrc from '../../data/food-global.csv';\n\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 50, LEFT: 30, RIGHT: 30 };\nconst WIDTH = 1000 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 450 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// RENDERING SETUP\nconst COUNTRIES = [\n  'Honduras',\n  'El Salvador',\n  'Guatemala',\n  'United States of America',\n];\nconst CIRCLE = { REGULAR: 4, SELECT: 5 };\nconst LINE = { REGULAR: 1, SELECT: 3 };\nconst COLOR = {\n  MODERATE_S: '#6bbaad',\n  SEVERE_S: '#eb5832',\n  MODERATE_R: '#DFEBE8',\n  SEVERE_R: '#EBD7D0',\n  GRAY: '#F3F3F3',\n  TEXT: '#808080',\n};\n\nconst FoodGlobalChart = ({ steps, direction }) => {\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n\n  // LOAD DATA\n  // useEffect => When parent element's target value updates, update data\n  useEffect(() => {\n    d3.csv(dataSrc).then((data) => {\n      setData(data);\n    });\n  }, []);\n\n  // When data updates, update charts\n  useEffect(() => {\n    if (data) {\n      // CANVAS SETUP\n      const svgEl = d3\n        .select(svgRef.current) // .current => necessary when use ref\n        .attr('width', '100%')\n        .attr(\n          'viewBox',\n          `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n            HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n          }`\n        )\n        .attr('preserveAspectRatio', 'xMaxYMin meet');\n      svgEl.selectAll('*').remove(); // Clear svg content before adding new elements\n\n      const svg = svgEl\n        .append('g')\n        .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n      const xAxisGroup = svg\n        .append('g')\n        .attr('transform', `translate(0, ${HEIGHT})`);\n\n      // MOUSE EVENT\n      const tooltip = d3.select('#tooltip-food-global');\n\n      const mouseover = function (event, d) {\n        tooltip\n          .html(\n            `<p class=\"header\"><span> ${d.country} </span></p>\n                    <p class=\"moderate\"> Moderate Hunger: ${d.moderate}% </p>\n                    <p> Severe Hunger: ${d.severe}% </p>`\n          )\n          .style('left', `${event.clientX - window.innerWidth / 8}px`)\n          .style('top', `${event.clientY - window.innerHeight / 3}px`)\n          .classed('hidden', false);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.SELECT)\n          .style('stroke', COLOR.TEXT)\n          .attr('stroke-width', LINE.REGULAR);\n      };\n\n      const mouseout = function (event, d) {\n        tooltip.classed('hidden', true);\n        svg\n          .selectAll(`.bellchart-${d.index}`)\n          .style('r', CIRCLE.REGULAR)\n          .style('stroke', 'transparent');\n        svg\n          .selectAll('line')\n          .style('stroke', COLOR.GRAY)\n          .attr('stroke-width', (d) =>\n            COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR\n          );\n      };\n\n      // SCALES\n      const y = d3\n        .scaleLinear()\n        .domain([\n          d3.min(data, (d) => d.severe),\n          d3.max(data, (d) => d.moderate),\n        ])\n        .nice()\n        .range([HEIGHT, 0]);\n\n      const x = d3\n        .scaleBand()\n        .domain(data.map((d) => d.country))\n        .range([0, WIDTH])\n        .padding(0.4);\n\n      const yAxis = (g) =>\n        g\n          .call(\n            d3\n              .axisLeft(y)\n              .ticks(5)\n              .tickFormat((d, i) => `${d}%`)\n          )\n          .style('color', COLOR.TEXT)\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(1000);\n\n      // DATA JOIN\n      const highlightData = data.filter((d) => COUNTRIES.includes(d.country));\n\n      // STEP 0\n      const lines = svg\n        .append('g')\n        .attr('class', 'lines')\n        .selectAll('myLine')\n        .data(data)\n        .enter()\n        .append('line')\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('x1', function (d) {\n          return x(d.country);\n        })\n        .attr('x2', function (d) {\n          return x(d.country);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y1', function (d) {\n          return y(d.moderate);\n        })\n        .attr('y2', function (d) {\n          return y(d.severe);\n        })\n        .attr('stroke', COLOR.GRAY)\n        .attr('stroke-width', (d) => {\n          return COUNTRIES.includes(d.country) ? LINE.SELECT : LINE.REGULAR;\n        });\n\n      const circleModerate = svg\n        .append('g')\n        .attr('class', 'circleModerate')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.moderate);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const circleSevere = svg\n        .append('g')\n        .attr('class', 'circleSevere')\n        .selectAll('myCircle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .on('mouseover', mouseover)\n        .on('mouseout', mouseout)\n        .attr('cx', function (d) {\n          return x(d.country);\n        })\n        .attr('cy', function (d) {\n          return y(d.severe);\n        })\n        .attr('class', (d) => `bellchart-${d.index}`)\n        .style('fill', COLOR.GRAY)\n        .attr('r', CIRCLE.REGULAR);\n\n      const NTlabel = svg\n        .append('g')\n        .attr('class', 'NTlabel')\n        .selectAll('text')\n        .data(highlightData)\n        .enter()\n        .append('text')\n        .attr('y', (d) =>\n          d.country === 'El Salvador'\n            ? y(d.moderate) - 30\n            : d.country === 'Guatemala'\n            ? y(d.moderate) - 35\n            : y(d.moderate) - 20\n        )\n        .attr('x', (d) => x(d.country))\n        .attr('text-anchor', 'middle')\n        .attr('fill', COLOR.TEXT)\n        .attr('font-size', '12px')\n        .text((d) => d.country);\n\n      svg.append('g').call(yAxis);\n\n      // STEP 1:\n      // 1) Highlight selected countries -> text\n      if (steps === 1) {\n        if (direction === 'down') {\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) => {\n              if (COUNTRIES.includes(d.country))\n                if (d.country === 'United States of America') {\n                  return COLOR.MODERATE_S;\n                } else {\n                  return COLOR.SEVERE_S;\n                }\n              return COLOR.GRAY;\n            });\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) => {\n              if (COUNTRIES.includes(d.country))\n                if (d.country === 'United States of America') {\n                  return COLOR.MODERATE_S;\n                } else {\n                  return COLOR.SEVERE_S;\n                }\n              return COLOR.GRAY;\n            });\n\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              d.country === 'United States of America'\n                ? COLOR.MODERATE_S\n                : COLOR.SEVERE_S\n            )\n            .style('font-weight', 'bold');\n        } else {\n          circleModerate.style('fill', (d) => {\n            if (COUNTRIES.includes(d.country))\n              if (d.country === 'United States of America') {\n                return COLOR.MODERATE_S;\n              } else {\n                return COLOR.SEVERE_S;\n              }\n            return COLOR.GRAY;\n          });\n\n          circleSevere.style('fill', (d) => {\n            if (COUNTRIES.includes(d.country))\n              if (d.country === 'United States of America') {\n                return COLOR.MODERATE_S;\n              } else {\n                return COLOR.SEVERE_S;\n              }\n            return COLOR.GRAY;\n          });\n\n          NTlabel.style('fill', (d) =>\n            d.country === 'United States of America'\n              ? COLOR.MODERATE_S\n              : COLOR.SEVERE_S\n          ).style('font-weight', 'bold');\n        }\n      }\n\n      // STEP 2:\n      // 1) Undo highlight selected countries -> tex\n      // 2) Add in colors based on countries and severity to the circles\n      if (steps === 2) {\n        if (direction === 'down') {\n          NTlabel.transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', COLOR.TEXT);\n\n          circleModerate\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country)\n                ? COLOR.MODERATE_S\n                : COLOR.MODERATE_R\n            );\n\n          circleSevere\n            .transition()\n            .ease(d3.easeCubicIn)\n            .duration(500)\n            .style('fill', (d) =>\n              COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n            );\n        } else {\n          NTlabel.style('fill', COLOR.TEXT);\n          circleModerate.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n          );\n\n          circleSevere.style('fill', (d) =>\n            COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n          );\n        }\n      }\n\n      // STEP 3\n      if (steps > 2) {\n        circleModerate.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.MODERATE_S : COLOR.MODERATE_R\n        );\n        circleSevere.style('fill', (d) =>\n          COUNTRIES.includes(d.country) ? COLOR.SEVERE_S : COLOR.SEVERE_R\n        );\n        NTlabel.style('fill', COLOR.TEXT);\n      }\n    }\n  }, [data, steps, direction]);\n\n  return (\n    <>\n      <div\n        id=\"tooltip-food-global\"\n        className=\"tooltip red hidden\"\n        ref={tooltipRef}\n      ></div>\n      <svg className=\"grid-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default FoodGlobalChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport FoodGlobalChart from '../charts/FoodGlobalChart';\n\nfunction Section02Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div className=\"section scroll\">\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container\">\n              <p className=\"chart-title\">\n                <span className=\"red\">High Food Insecurity</span> in El\n                Salvador, Guatemala, and Honduras\n              </p>\n              {steps > 1 && (\n                <div className=\"legend-container\">\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot no\"></div>\n                    <p className=\"no\">Moderate Hunger</p>\n                  </div>\n                  <div className=\"legend\">\n                    <div className=\"legend-block dot yes\"></div>\n                    <p className=\"yes\">Severe Hunger</p>\n                  </div>\n                </div>\n              )}\n            </div>\n            <FoodGlobalChart steps={steps} direction={direction} />\n          </div>\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>Gap Between Countries</h2>\n                <p>\n                  In the Northern Triangle Regions,{' '}\n                  <span className=\"red\">more than 13.8 percent</span> people are\n                  likely to experience severe hunger, compared to the United\n                  States <span className=\"blue\"> less than 2 percent</span>{' '}\n                  people are facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Severe Food Insecurity</h2>\n                <p>\n                  In the Northern Triangle Regions,{' '}\n                  <span className=\"red\">more than 45.6 percent</span> people are\n                  likely to experience some level of hunger, compared to the\n                  United States{' '}\n                  <span className=\"blue\">less than 1 percent</span> people are\n                  facing similar difficulty.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>What does it mean?</h2>\n                <p>\n                  Food insecurity is an issue in the Northern Triangle area.\n                  This can be <span className=\"blue\"> a driving factor</span>{' '}\n                  for people to migrate to countries which are more food secure\n                  like the US.\n                </p>\n                <br />\n                <p>\n                  We further explored the survey data to study the relationship\n                  between <span className=\"red\"> migration</span> and{' '}\n                  <span className=\"red\">food insecurity </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section02Scroll;\n","import { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section03DotCard = () => {\n  const section03cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section03cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section03cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"content-container\">\n        <div\n          className=\"section-card\"\n          id=\"section03cardRef\"\n          ref={section03cardRef}\n        >\n          <h1>\n            Is food security <span className=\"red\">a solution to</span>\n            <br /> migration issue?\n          </h1>\n          <p>\n            Since those three countries are having food security issues and\n            contribute to a large proportion of migration in the US, it is\n            tempting to say that maybe increasing food security is a solution to\n            migration.\n          </p>\n          <br />\n          <p>\n            {' '}\n            However, the survey{' '}\n            <span> suggests a more complicated outcome </span>than a simple\n            bifurcated answer{' '}\n            <span>based on different food insecurity level</span>.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section03DotCard;\n","import React from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nfunction CardScroll (value,text){\n  return (\n    <Step data={value} key={value}>\n      <div className='step'>\n        {text}\n      </div>\n    </Step>\n  )\n}\n\nexport default CardScroll;\n","export default __webpack_public_path__ + \"static/media/cari-mig.de2d7bb6.csv\";","import * as d3 from 'd3';\nimport React, { useRef, useState, useEffect } from 'react';\nimport rawdata from '../../data/cari-mig.csv';\n\nconst COLOR = {\n  MARGIN: '#B0D9D5',\n  MODERATE: '#F8AD96',\n  SEVERE: '#EB5832',\n  GRAY: '#e0e0e0',\n  TEXT: '#808080',\n};\n\nconst SurveyChart = ({ steps, direction }) => {\n  // console.log(steps);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n  const [data, setData] = useState(null);\n\n  //d3 chart update according to steps\n  let width = '1200';\n  let height = '800';\n  let center = { x: width / 2, y: height / 2 };\n  let forceStrength = 0.023;\n  let r = 2;\n  let padding = 2;\n  let cariCenter = [width / 6, width / 2.3, width / 1.5, width / 1.2];\n  let xCenter = [width / 6, width / 2.3, width / 1.5, width / 1.2];\n\n  // when step updates, update data\n  useEffect(() => {\n    d3.csv(rawdata).then((data) => {\n      setData(\n        data.slice(0, 1000).map(function (d) {\n          return {\n            ...d,\n            radius: r,\n          };\n        })\n      );\n    });\n  }, []);\n\n  // when data updates, update charts\n  useEffect(() => {\n    // when not scroll to page, there will be no data loading\n\n    if (data) {\n      const svg = d3\n        .select(svgRef.current)\n        .style('width', '100vw')\n        .style('height', '800px')\n        .attr('text-anchor', 'middle');\n\n      const simulation = d3\n        .forceSimulation(data)\n        .velocityDecay(0.2)\n        .force(\n          'collide',\n          d3\n            .forceCollide()\n            .radius(function (d) {\n              return d.radius + padding;\n            })\n            .strength(0.65)\n        )\n        .force('x', d3.forceX().strength(forceStrength).x(center.x))\n        .force('y', d3.forceY().strength(forceStrength).y(center.y))\n        .on('tick', ticked);\n\n      const bubbles = svg\n        .selectAll('circle')\n        .data(data)\n        .join('circle')\n        .attr('r', 0)\n        .attr('fill', function (d) {\n          if (d.cari == '2') {\n            return COLOR.MARGIN;\n          } else if (d.cari == '3') {\n            return COLOR.MODERATE;\n          } else if (d.cari == '4') {\n            return COLOR.SEVERE;\n          } else {\n            return COLOR.GRAY;\n          }\n        });\n\n      bubbles\n        .transition()\n        .ease(d3.easeBounce)\n        .duration(0.5)\n        .attr('r', function (d) {\n          return d.radius;\n        });\n\n      function ticked() {\n        bubbles.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n      }\n\n      if (steps == 1 && direction == 'down') {\n        simulation.force('x', d3.forceX().strength(forceStrength).x(center.x));\n        simulation.force('y', d3.forceY().strength(forceStrength).y(center.y));\n        simulation.alpha(1).restart();\n      } else if (steps == 2) {\n        simulation.force(\n          'x',\n          d3\n            .forceX()\n            .strength(forceStrength)\n            .x((d) => cariCenter[+d.cari - 1])\n        );\n        simulation.force('y', d3.forceY().strength(forceStrength).y(center.y));\n        simulation.alpha(1).restart();\n      } else if (steps == 3 || steps == 4) {\n        simulation.force(\n          'x',\n          d3\n            .forceX()\n            .strength(forceStrength)\n            .x((d) => xCenter[+d.ifMig])\n        );\n        simulation.force('y', d3.forceY().strength(forceStrength).y(center.y));\n        simulation.alpha(1).restart();\n      }\n      simulation.alpha(1).restart();\n    }\n  }, [steps, data]);\n\n  return (\n    <>\n      <div className=\"survey-tooltip hidden\" ref={tooltipRef}></div>\n      <svg className=\"survey-chart\" ref={svgRef}></svg>\n    </>\n  );\n};\n\nexport default SurveyChart;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport CardScroll from '../ui/CardScroll';\nimport SurveyChart from '../charts/SurveyChart';\n// import CardScroll from '../ui/CardScroll';\n\nfunction Section03Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [progress, setProgress] = useState(null);\n  const [direction, setDirection] = useState(null);\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setDirection(direction);\n    setSteps(data);\n  };\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  return (\n    <div>\n      <div className=\"main\">\n        <div className=\"main__graphic\">\n          <SurveyChart steps={steps} className=\"survey\" />\n        </div>\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.8\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>4,498 Survey response</h2>\n                <p>\n                  In April-May 2021, the World Food Programme conducted a\n                  face-to-face household survey of{' '}\n                  <span className=\"red\">4,498 responses</span> in El Salvador,\n                  Guatemala, and Honduras.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>The majority are suffering from food insecurity</h2>\n                <p>\n                  In terms of <span className=\"red\">food insecurity level</span>\n                  , the participants are classified into{' '}\n                  <span className=\"blue\"> four groups</span> based on CARI food\n                  security indicators given from WFP.\n                </p>\n                {/* <p>{Math.round(progress * 1000) / 10 + '%'}</p> */}\n              </div>\n            </Step>\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>Around half have migration desire</h2>\n                <p>\n                  Around <span className=\"blue\">half of household</span>{' '}\n                  respondents indicated a desire to migrate, but{' '}\n                  <span className=\"red\">only 6% are making plans</span> to do\n                  so.\n                </p>\n              </div>\n            </Step>\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section03Scroll;\n","import { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section04GridCard = () => {\n  const section04cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section04cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section04cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"content-container\">\n        <div\n          className=\"section-card\"\n          id=\"section04cardRef\"\n          ref={section04cardRef}\n        >\n          <h1>\n            What is the relationship between food insecurity and{' '}\n            <span className=\"red\">\n              migration's intention, plan and preparation?\n            </span>\n          </h1>\n\n          <p>\n            Instead of asking only the desire to migrate, we look into more\n            detailed aspects of migration other than intension, such as plan and\n            preparation. These factors serve as a stronger indicator for the\n            migration action. We explore the relationship of these factors with\n            food security level.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section04GridCard;\n","export default __webpack_public_path__ + \"static/media/food-secure-mig-int.9fd36d56.csv\";","export default __webpack_public_path__ + \"static/media/food-secure-mig-prep.9eea62f9.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-secure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-secure-mig-prep.csv';\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 200 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 2 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#ffe3e0',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#ffe3e0',\n  PREP_NO_ACTION: '#ad2e24',\n  ACTION: '#540804',\n};\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', () => {\n          if (event.clientX - window.innerWidth / 2 > 0) {\n            return `${event.clientX - window.innerWidth / 5}px`;\n          }\n\n          return `${event.clientX}px`;\n        })\n        .style('top', () => {\n          // if (event.clientY - window.innerHeight / 2 > 0) {\n          //   return `${event.clientY - window.innerHeight / 6}px`;\n          // }\n\n          return `${event.clientY - window.innerHeight / 1.8}px`;\n        })\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridSecureChart from './GridSecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridSecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  let axis;\n  if (steps >= 3) {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>40</small>\n        <small>60</small>\n        <small>80</small>\n        <small>160</small>\n      </div>\n    );\n  } else {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>100</small>\n        <small>200</small>\n        <small>300</small>\n        <small>400</small>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Secure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip red hidden\"\n          ref={tooltipRef}\n        ></div>\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","export default __webpack_public_path__ + \"static/media/food-insecure-mig-int.135055f1.csv\";","export default __webpack_public_path__ + \"static/media/food-insecure-mig-prep.b4eb9d32.csv\";","import * as d3 from 'd3';\nimport dataSrc_int from '../../data/food-insecure-mig-int.csv';\nimport dataSrc_prep from '../../data/food-insecure-mig-prep.csv';\n\n// TODO: change into a bar chart?\n// TODO: start by pointing out one square is one person\n// TODO: smooth the transition\n// TODO: add the data overlay to the chart\n\n/* ---------------------------------- SETUP --------------------------------- */\n// CANVAS SETUP\nconst MARGIN = { TOP: 0, BOTTOM: 0, LEFT: 0, RIGHT: 0 };\nconst WIDTH = window.innerWidth - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 200 - MARGIN.TOP - MARGIN.BOTTOM;\n\n// GRID SETUP\nconst NCOL = 80;\nconst NROW = { INTENTION: 5, PREPARATION: 2 };\n\n// RENDERING SETUP\nconst COLOR_GRAY = '#efefef';\nconst COLOR_INTENTION = {\n  NO: '#efefef',\n  YES: '#ffe3e0',\n};\nconst COLOR_PREPARATION = {\n  PLAN_NO_PREP: '#ffe3e0',\n  PREP_NO_ACTION: '#ad2e24',\n  ACTION: '#540804',\n};\n\n/* -------------------------- FUNCTION TO DRAW GRID ------------------------- */\nfunction setGridData(visData, nrow) {\n  let xpos = 1;\n  let ypos = 1;\n\n  const width = WIDTH / NCOL;\n  const height = width;\n\n  // setting up the array for the grid\n  let data = new Array();\n  // keep track of data to collect\n  let i = 0;\n\n  // iterate for cols\n  for (let column = 0; column < NCOL; column++) {\n    // iterate for cells/rows inside cols\n    for (let row = 0; row < nrow; row++) {\n      data.push({\n        x: xpos,\n        y: ypos,\n        width: width,\n        height: height,\n        visData: visData[i],\n      });\n      // increment the y position\n      ypos += height;\n      i++;\n    }\n    // reset the y position after a row is complete\n    ypos = 1;\n    // increment the x position for the next col\n    xpos += width;\n  }\n  return data;\n}\n\n/* --------------------------- CLASS CONSTRUCTION --------------------------- */\nexport default class GirdSecureChart {\n  constructor(element, steps, direction) {\n    const vis = this;\n\n    // CANVAS SETUP\n    vis.svg = d3\n      .select(element)\n      .append('svg')\n      .attr(\n        'viewBox',\n        `0 0 ${WIDTH + MARGIN.LEFT + MARGIN.RIGHT} ${\n          HEIGHT + MARGIN.TOP + MARGIN.BOTTOM\n        }`\n      )\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .append('g')\n      .attr('transform', `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n\n    vis.xAxisGroup = vis.svg\n      .append('g')\n      .attr('id', 'x-axis')\n      .attr('transform', `translate(0, ${HEIGHT})`);\n\n    vis.yAxisGroup = vis.svg.append('g').attr('id', 'y-axis');\n\n    // LOAD THE DATA\n    Promise.all([d3.csv(dataSrc_int), d3.csv(dataSrc_prep)]).then(\n      (datasets) => {\n        vis.intention = datasets[0];\n        vis.preparation = datasets[1];\n\n        vis.update(steps, direction);\n      }\n    );\n  }\n\n  update(steps, direction) {\n    const vis = this;\n\n    // console.log(`CHART UPDATE`);\n    // console.log(steps);\n    // console.log(direction);\n\n    vis.data = vis.intention;\n    vis.gridData = setGridData(vis.data, NROW.INTENTION);\n\n    // SET UP DATA BASED ON STEPS AND DIRECTION\n    if (!steps || steps === 1 || steps === 2) {\n      vis.data = vis.intention;\n      vis.gridData = setGridData(vis.data, NROW.INTENTION);\n    } else {\n      vis.data = vis.preparation;\n      vis.gridData = setGridData(vis.data, NROW.PREPARATION);\n    }\n    // console.log(vis.gridData);\n\n    // Remove All\n    vis.svg.selectAll('.grid').remove();\n\n    // DATA JOIN\n    const grid = vis.svg.selectAll('.grid').data(vis.gridData);\n\n    // Exit\n    grid.exit().remove();\n\n    // Enter\n    grid\n      .enter()\n      .append('rect')\n      .attr('class', 'grid')\n      .attr('x', function (d) {\n        return d.x;\n      })\n      .attr('y', function (d) {\n        return d.y;\n      })\n      .attr('width', function (d) {\n        return d.width;\n      })\n      .attr('height', function (d) {\n        return d.height;\n      })\n      .on('mouseover', mouseover)\n      .on('mouseout', mouseout)\n      .style('fill', COLOR_GRAY)\n      .style('stroke', '#fff');\n\n    // UPDATE\n    const square = vis.svg.selectAll('rect');\n\n    if (direction === 'down') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            d.visData.mig_int_global === '0'\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n      if (steps === 2) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) => {\n            if (parseInt(d.visData.mig_int_global) === 0) {\n              return COLOR_INTENTION.NO;\n            } else {\n              if (parseInt(d.visData.mig_plan_global) === 0) {\n                return COLOR_PREPARATION.PLAN_NO_PREP;\n              } else if (parseInt(d.visData.mig_prep_global) === 0) {\n                return COLOR_PREPARATION.PREP_NO_ACTION;\n              } else {\n                return COLOR_PREPARATION.ACTION;\n              }\n            }\n          });\n      }\n\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n\n    if (direction === 'up') {\n      if (steps === 1) {\n        square\n          .transition()\n          .ease(d3.easeCubicIn)\n          .duration(300)\n          .style('fill', (d) =>\n            parseInt(d.visData.mig_int_global) === 0\n              ? COLOR_INTENTION.NO\n              : COLOR_INTENTION.YES\n          );\n      }\n\n      if (steps === 2) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_int_global) === 0) {\n            return COLOR_INTENTION.NO;\n          } else {\n            if (parseInt(d.visData.mig_plan_global) === 0) {\n              return COLOR_PREPARATION.PLAN_NO_PREP;\n            } else if (parseInt(d.visData.mig_prep_global) === 0) {\n              return COLOR_PREPARATION.PREP_NO_ACTION;\n            } else {\n              return COLOR_PREPARATION.ACTION;\n            }\n          }\n        });\n      }\n      if (steps === 3) {\n        square.style('fill', (d) => {\n          if (parseInt(d.visData.mig_plan_global) === 0) {\n            return COLOR_PREPARATION.PLAN_NO_PREP;\n          } else if (parseInt(d.visData.mig_prep_global) === 0) {\n            return COLOR_PREPARATION.PREP_NO_ACTION;\n          } else {\n            return COLOR_PREPARATION.ACTION;\n          }\n        });\n      }\n    }\n    /* ------------------------------- MOUSE EVENT ------------------------------ */\n    const tooltip = d3.select('#tooltip-grid');\n\n    function mouseover(event, d) {\n      const dataOrg = d.visData;\n      const result = {\n        country: '',\n        neighborhood: '',\n        ruralUrban: '',\n        age: '',\n        sex: '',\n        familySize: '',\n      };\n\n      // country\n      if (dataOrg.country === 'GT') {\n        result.country = 'Guatemala';\n      } else if (dataOrg.country === 'SLV') {\n        result.country = 'El Salvador';\n      } else {\n        result.country = 'Honduras';\n      }\n      // neighborhood\n      result.neighborhood = dataOrg.neighborhood;\n\n      // ? rural urban\n      dataOrg.ruralUrban === '1'\n        ? (result.rural_urban = 'urban')\n        : (result.rural_urban = 'rural');\n\n      // ? sex\n      dataOrg.sex === '1' ? (result.sex = 'Male') : (result.sex = 'Female');\n\n      // age\n      result.age = dataOrg.age;\n\n      // family size\n      result.familySize = dataOrg.family_size;\n\n      tooltip\n        .style('left', `${event.clientX * 0.5}px`)\n        .style('top', `${event.clientY * 0.1}px`)\n        .html(\n          `<p class=\"header\"><span>${result.sex}, ${result.age}</span></p>\n        <p> Living in ${result.rural_urban} area in ${result.country}, with a family size of ${result.familySize}.</p>`\n        )\n        .classed('hidden', false);\n    }\n\n    function mouseout(event, d) {\n      tooltip.classed('hidden', true);\n    }\n  }\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport GridInsecureChart from './GridInsecureChart';\n\nconst ChartWrapper = ({ steps, direction }) => {\n  const [chart, setChart] = useState(null);\n  const tooltipRef = React.useRef(null);\n  const svgRef = React.useRef(null);\n\n  useEffect(() => {\n    if (!chart) {\n      setChart(new GridInsecureChart(svgRef.current, steps, direction));\n    }\n    // skip the loading state, when data is still a pending promise\n    else if (chart.intention) {\n      chart.update(steps, direction);\n    }\n  }, [chart, steps, direction]);\n\n  // AXIS\n  let axis;\n  if (steps >= 3) {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>40</small>\n        <small>60</small>\n        <small>80</small>\n        <small>160</small>\n      </div>\n    );\n  } else {\n    axis = (\n      <div className=\"axis-container\">\n        <small>0</small>\n        <small>100</small>\n        <small>200</small>\n        <small>300</small>\n        <small>400</small>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"chart-container\">\n        <p>Food Insecure Group</p>\n        {axis}\n        <div\n          id=\"tooltip-grid\"\n          className=\"tooltip hidden red\"\n          ref={tooltipRef}\n        ></div>\n\n        <svg className=\"grid-chart chart-area\" ref={svgRef}></svg>\n      </div>\n    </>\n  );\n};\n\nexport default ChartWrapper;\n","import React, { Component, useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\n\nimport GridSecureChartWrapper from '../charts/GridSecureChartWrapper';\nimport GridInsecureChartWrapper from '../charts/GridInsecureChartWrapper';\n\nfunction Section04Scroll() {\n  const [steps, setSteps] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  const text = {\n    header: `Food security and migration intention.`,\n    main: '',\n  };\n\n  const onStepEnter = ({ data, entry, direction }) => {\n    setSteps(data);\n    setDirection(direction);\n  };\n\n  const onStepExit = () => {};\n\n  const onStepProgress = ({ progress }) => {\n    setProgress(progress);\n  };\n\n  let legend;\n  if (steps === 1) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-yes\"></div>\n          <p className=\"mig-yes\">Household answered \"Yes\"</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household answered \"No\"</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 2) {\n    legend = (\n      <div className=\"legend-container \">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-no\"></div>\n          <p className=\"mig-no\">Household does not want to migrate</p>\n        </div>\n      </div>\n    );\n  } else if (steps === 3) {\n    legend = (\n      <div className=\"legend-container\">\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-3\"></div>\n          <p className=\"mig-scale-3\">Household has plan and preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-2\"></div>\n          <p className=\"mig-scale-2\">Household has plan but no preparation</p>\n        </div>\n        <div className=\"legend\">\n          <div className=\"legend-block mig-scale-1\"></div>\n          <p className=\"mig-scale-1\">\n            Household wants to migrate but has no plan\n          </p>\n        </div>\n      </div>\n    );\n  } else {\n    legend = <div></div>;\n  }\n\n  return (\n    <div>\n      <div className=\"main \">\n        <div className=\"main__graphic\">\n          <div className=\"scroll-chart-content-container\">\n            <div className=\"title-container tall\">\n              <p className=\"chart-title\">\n                Food security and migration intention.\n              </p>\n              {legend}\n            </div>\n\n            <div className=\"chart-wrapper\">\n              <GridSecureChartWrapper steps={steps} direction={direction} />\n              <GridInsecureChartWrapper steps={steps} direction={direction} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"scroller\">\n          <Scrollama\n            onStepEnter={onStepEnter}\n            onStepExit={onStepExit}\n            progress\n            onStepProgress={onStepProgress}\n            offset=\"0.5\"\n            // debug\n          >\n            <Step data={1} value={1}>\n              <div className=\"step\">\n                <h2>The food secure have higher desire to migrate.</h2>\n                <p>\n                  Does this mean food security will actually drive people to\n                  migrate? Further research of the data tells a different story.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={2} key={2}>\n              <div className=\"step\">\n                <h2>Desire does not equal to action.</h2>\n                <p>\n                  Even though food secure people are more likely to say they\n                  want to migrate, when it comes to migration, it takes{' '}\n                  <span className=\"red\">actual planning and preparation</span>{' '}\n                  to actualize the action.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={3} key={3}>\n              <div className=\"step\">\n                <h2>\n                  The food insecure are more likely to take actual action.\n                </h2>\n                <p>\n                  Given the food insecure people are already struggling with\n                  basic needs such as food, their plans to migrate are more\n                  likely to be <span className=\"red\">out of desperation </span>\n                  rather than <span className=\"blue\">by choice </span>.\n                </p>\n              </div>\n            </Step>\n\n            <Step data={4} key={4}>\n              <div className=\"step\"></div>\n            </Step>\n          </Scrollama>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Section04Scroll;\n","import CardSection from '../ui/CardSection';\n\nimport { useRef, useEffect } from 'react';\nimport gsap from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\nconst Section05Pie = () => {\n  const section05cardRef = useRef(null);\n\n  useEffect(() => {\n    gsap.to('#section05cardRef', {\n      x: 100,\n      duration: 1,\n      ease: 'ease',\n\n      scrollTrigger: {\n        trigger: '#section05cardRef',\n        markers: false,\n        start: 'top center',\n      },\n    });\n  }, []);\n\n  const text = {\n    header: `What is relationship between migration plan and the economic pressure on food `,\n    main: `For those who suffer food insecurity tend to make solid plan and preparation to migrate than those don’t have food issue. \n    To answer this, we need to study the how many people have to work to ensure food security and understand how economic status impact migration plan and action. \n    `,\n  };\n\n  // TODO: Text change\n\n  return (\n    <div className=\"section regular center\">\n      <div className=\"content-container\">\n        <div\n          className=\"section-card\"\n          id=\"section05cardRef\"\n          ref={section05cardRef}\n        >\n          <h1>\n            Is <span className=\"red\">migration plan </span>\n            related to <br />\n            the <span className=\"red\">economic pressure on food?</span>\n          </h1>\n          <p>\n            For those who suffer food insecurity tend to make solid plan and\n            preparation to migrate than those don’t have food issue. To answer\n            this, we need to study the how many people have to work to ensure\n            food security and understand how economic status impact migration\n            plan and action.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Section05Pie;\n","import * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\n\n// TODO: Trigger transition on scrolled to section\n// TODO: Add hover tooltips\n\nconst DonutChart = ({ dataArray, colorsArray }) => {\n  const svgRef = useRef(null);\n\n  const generateDonutChart = (\n    data,\n    {\n      name = ([x]) => x, // given d in data, returns the (ordinal) label\n      value = ([, y]) => y, // given d in data, returns the (quantitative) value\n      title, // given d in data, returns the title text\n      width = 640, // outer width, in pixels\n      height = 400, // outer height, in pixels\n      innerRadius = Math.min(width, height) / 4, // inner radius of pie, in pixels (non-zero for donut)\n      outerRadius = Math.min(width, height) / 2, // outer radius of pie, in pixels\n      labelRadius = (innerRadius + outerRadius) / 2, // center radius of labels\n      format = ',', // a format specifier for values (in the label)\n      names, // array of names (the domain of the color scale)\n      colors, // array of colors for names\n      stroke = innerRadius > 0 ? 'none' : 'white', // stroke separating widths\n      strokeWidth = 4, // width of stroke separating wedges\n      padAngle = stroke === 'none' ? 1 / outerRadius : 0, // angular separation between wedges\n    } = {}\n  ) => {\n    // Compute values.\n    const N = d3.map(data, name);\n    const V = d3.map(data, value);\n    const I = d3.range(N.length).filter((i) => !isNaN(V[i]));\n\n    // Unique the names.\n    if (names === undefined) names = N;\n    names = new d3.InternSet(names);\n\n    // Chose a default color scheme based on cardinality.\n    if (colors === undefined) {\n      colors = d3.schemeSpectral[names.size];\n    }\n    if (colors === undefined) {\n      colors = d3.quantize(\n        (t) => d3.interpolateSpectral(t * 0.8 + 0.1),\n        names.size\n      );\n    }\n\n    // Construct scales.\n    const color = d3.scaleOrdinal(names, colors);\n\n    // Compute titles.\n    if (title === undefined) {\n      const formatValue = d3.format(format);\n      title = (i) => `${N[i]}\\n${formatValue(V[i])}`;\n    } else {\n      const O = d3.map(data, (d) => d);\n      const T = title;\n      title = (i) => T(O[i], i, data);\n    }\n\n    // Construct arcs.\n    const arcs = d3\n      .pie()\n      .padAngle(padAngle)\n      .sort(null)\n      .value((i) => V[i])(I);\n    const arc = d3.arc().innerRadius(innerRadius).outerRadius(outerRadius);\n    const arcLabel = d3.arc().innerRadius(labelRadius).outerRadius(labelRadius);\n\n    d3.select(svgRef.current)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('viewBox', [-width / 2, -height / 2, width, height])\n      .attr('style', 'max-width: 100%; height: auto; height: intrinsic;')\n      .append('g')\n      .attr('stroke', stroke)\n      .attr('stroke-width', strokeWidth)\n      .attr('stroke-linejoin', 'round')\n      .selectAll('path')\n      .data(arcs)\n      .join('path')\n      .attr('fill', (d) => color(N[d.data]))\n      .attr('d', arc)\n      .append('title')\n      .text((d) => title(d.data));\n\n    const path = d3.select(svgRef.current).selectAll('path');\n    path\n      .transition()\n      .duration(480)\n      .ease(d3.easeLinear)\n      .attrTween('d', (d) => {\n        const i = d3.interpolate(d.startAngle + 0.1, d.endAngle);\n        return function (t) {\n          d.endAngle = i(t);\n          return arc(d);\n        };\n      });\n\n    d3.select(svgRef.current)\n      .append('g')\n      .attr('font-family', 'sans-serif')\n      .attr('font-size', 16)\n      .attr('text-anchor', 'middle')\n      .selectAll('text')\n      .data(arcs)\n      .join('text')\n      .attr('transform', (d) => `translate(${arcLabel.centroid(d)})`)\n      .selectAll('tspan')\n      .data((d) => {\n        const lines = `${title(d.data)}`.split(/\\n/);\n        return d.endAngle - d.startAngle > 0.25 ? lines : lines.slice(0, 1);\n      })\n      .join('tspan')\n      .attr('x', 0)\n      .attr('y', (_, i) => `${i * 1.1}em`)\n      .attr('font-weight', (_, i) => (i ? null : 'bold'))\n      .attr('style', 'fill:#fff')\n      .text((d) => d);\n  };\n\n  useEffect(() => {\n    generateDonutChart(dataArray, {\n      name: (d) => d.name,\n      value: (d) => d.value,\n      width: 400,\n      height: 250,\n      names: dataArray.map((d) => d.name),\n      colors: colorsArray,\n      stroke: 'none',\n      title: (d) => `${d.value}%`,\n    });\n  }, [dataArray, colorsArray]);\n\n  return <svg className=\"donut-chart\" ref={svgRef}></svg>;\n};\n\nexport default DonutChart;\n","import React, { memo } from 'react';\nimport DonutChart from '../charts/DonutChart';\n\nconst Square = ({ color, width }) => (\n  <div style={{ backgroundColor: color, width: width, height: width }}></div>\n);\n\nconst Section05Pie = () => {\n  return (\n    <div className=\"donut-chart-part\">\n      <div className=\"top-legend\">\n        <Square color=\"#DFBFBF\" width={18} />\n        <span>Have to work for food but NO PLAN to migrate</span>\n      </div>\n      <div className=\"top-legend\">\n        <Square color=\"#CC0000\" width={18} />\n        <span>Have to work for food and HAVE PLAN to migrate</span>\n      </div>\n      <div className=\"main-content\">\n        <div className=\"donut-chart-wrapper\">\n          <p className=\"title\">NO PLAN TO MIGRATE</p>\n          <DonutChart\n            dataArray={[\n              { name: 'a', value: 77 },\n              { name: 'b', value: 23 },\n            ]}\n            colorsArray={['#D9D9D9', '#DFBFBF']}\n          />\n          <div className=\"donut-chart-footer\">\n            <div className=\"bottom-legend\">\n              <Square color=\"#D9D9D9\" width={14} />\n              <span>NOT WORK FOR FOOD</span>\n            </div>\n            <div className=\"bottom-legend\">\n              <Square color=\"#DFBFBF\" width={14} />\n              <span>WORK FOR FOOD</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"divider\"></div>\n        <div className=\"donut-chart-wrapper\">\n          <p className=\"title\">HAS PLAN TO MIGRATE</p>\n          <DonutChart\n            dataArray={[\n              { name: 'a', value: 68 },\n              { name: 'b', value: 32 },\n            ]}\n            colorsArray={['#D9D9D9', '#CC0000']}\n          />\n          <div className=\"donut-chart-footer\">\n            <div className=\"bottom-legend\">\n              <Square color=\"#D9D9D9\" width={14} />\n              <span>NOT WORK FOR FOOD</span>\n            </div>\n            <div className=\"bottom-legend\">\n              <Square color=\"#CC0000\" width={14} />\n              <span>WORK FOR FOOD</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Section05Pie);\n","// import { Transition, animated } from 'react-spring';\nimport React, { useState, useEffect, useRef } from 'react';\n\nimport Layout from './components/layout/Layout';\nimport Intro from './components/section/Intro';\nimport Outro from './components/section/Outro';\n\nimport Section01Map from './components/section/Section01Map';\n\nimport Section02Scroll from './components/section/Section02Scroll';\n\nimport Section03DotCard from './components/section/Section03DotCard';\nimport Section03Scroll from './components/section/Section03Scroll';\n\nimport Section04GridCard from './components/section/Section04GridCard';\nimport Section04Scroll from './components/section/Section04Scroll';\n\nimport Section05PieCard from './components/section/Section05PieCard';\nimport Section05Pie from './components/section/Section05Pie';\n\nexport default function App() {\n  const ref = useRef(null);\n  const [preloader, setPreload] = useState(true);\n\n  // useLocoScroll(!preloader);\n\n  useEffect(() => {\n    if (!preloader && ref) {\n      if (typeof window === 'undefined' || !window.document) {\n        return;\n      }\n    }\n  }, [preloader]);\n\n  const [timer, setTimer] = React.useState(2);\n\n  const id = React.useRef(null);\n\n  const clear = () => {\n    window.clearInterval(id.current);\n    setPreload(false);\n  };\n\n  React.useEffect(() => {\n    id.current = window.setInterval(() => {\n      setTimer((time) => time - 1);\n    }, 1000);\n    return () => clear();\n  }, []);\n\n  React.useEffect(() => {\n    if (timer === 0) {\n      clear();\n    }\n  }, [timer]);\n\n  if (typeof window === 'undefined' || !window.document) {\n    return null;\n  }\n\n  return (\n    <>\n      {preloader ? (\n        <div className=\"section regular loader-wrapper absolute\">\n          <h1>Is Food Security a Solution to Migration?</h1>\n        </div>\n      ) : (\n        <Layout\n          className=\"main-container\"\n          id=\"main-container\"\n          data-scroll-container\n          ref={ref}\n        >\n          <Intro />\n\n          <Section01Map />\n\n          <Section02Scroll />\n\n          <Section03DotCard />\n          <Section03Scroll />\n\n          <Section04GridCard />\n          <Section04Scroll />\n\n          <Section05PieCard />\n          <Section05Pie />\n\n          <Outro />\n        </Layout>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}